<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- Favicon配置 - 优先放在head最前面，确保Bing和搜索引擎能识别 -->
    <!-- Bing搜索引擎优先识别根目录的favicon.ico，必须放在最前面 -->
    <link rel="icon" href="https://www.link2ur.com/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="https://www.link2ur.com/favicon.ico" type="image/x-icon" />
    <!-- 备选favicon路径 -->
    <link rel="icon" href="https://www.link2ur.com/static/favicon.ico" type="image/x-icon" />
    <!-- 标准格式：主favicon（使用sizes="any"表示任何尺寸） -->
    <link rel="icon" href="https://www.link2ur.com/favicon.ico" sizes="any" />
    <!-- 标准格式：SVG favicon（现代浏览器优先，可缩放矢量图标） -->
    <link rel="icon" type="image/svg+xml" href="https://www.link2ur.com/static/favicon.svg" />
    
    <!-- 标准格式：PNG格式的favicon（按尺寸设置，作为SVG的备选） -->
    <!-- Chrome移动端和Google搜索引擎优先读取的favicon（192x192和512x512是关键尺寸） -->
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="64x64" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="128x128" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="icon" type="image/png" sizes="256x256" href="https://www.link2ur.com/static/favicon.png" />
    
    <!-- Microsoft 搜索引擎favicon优化 -->
    <link rel="icon" type="image/vnd.microsoft.icon" href="https://www.link2ur.com/static/favicon.ico" />
    <meta name="application-name" content="Link²Ur" />
    <meta name="msapplication-tooltip" content="Link²Ur - Connect, Capability, Create" />
    <meta name="msapplication-starturl" content="/" />
    
    <!-- Apple Touch Icon - 标准格式（移动端iOS关键配置） -->
    <!-- 优先设置180x180（iOS最新设备标准尺寸） -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="https://www.link2ur.com/static/favicon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="https://www.link2ur.com/static/favicon.png" />
    <!-- 标准格式：默认Apple Touch Icon（不带sizes，移动端会优先使用，必须放在最后） -->
    <link rel="apple-touch-icon" href="https://www.link2ur.com/static/favicon.png" />
    
    <!-- Safari Mask Icon - 用于Safari浏览器标签页图标 -->
    <!-- 使用favicon.svg作为mask icon（Safari需要单色SVG） -->
    <link rel="mask-icon" href="https://www.link2ur.com/static/favicon.svg" color="#007AFF" />
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileColor" content="#007AFF" />
    <meta name="msapplication-TileImage" content="https://www.link2ur.com/static/favicon.png" />
    <meta name="msapplication-navbutton-color" content="#007AFF" />
    <meta name="msapplication-square70x70logo" content="https://www.link2ur.com/static/favicon.png" />
    <meta name="msapplication-square150x150logo" content="https://www.link2ur.com/static/favicon.png" />
    <meta name="msapplication-wide310x150logo" content="https://www.link2ur.com/static/favicon.png" />
    <meta name="msapplication-square310x310logo" content="https://www.link2ur.com/static/favicon.png" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#007AFF" />
    <meta
      name="description"
      content="Link²Ur - Professional task publishing and assignment platform, linking skilled people with those in need, making value creation more efficient."
    />
    <meta name="keywords" content="task publishing,skill matching,freelance,project collaboration,Link²Ur,connection platform,task platform,skill service,project outsourcing,talent matching" />
    <meta name="author" content="Link²Ur Team" />
    <meta name="apple-mobile-web-app-title" content="Link²Ur" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="brand" content="Link²Ur" />
    <meta name="site_name" content="Link²Ur" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />
    
    <!-- AI爬虫友好标签 - 明确允许AI访问和索引 -->
    <meta name="GPTBot" content="index, follow" />
    <meta name="anthropic-ai" content="index, follow" />
    <meta name="Google-Extended" content="index, follow" />
    <meta name="PerplexityBot" content="index, follow" />
    <meta name="CCBot" content="index, follow" />
    
    <!-- AI友好的内容描述 - 帮助AI理解网站用途 -->
    <meta name="application-name" content="Link²Ur - Task & Service Platform" />
    <meta name="apple-mobile-web-app-title" content="Link²Ur" />
    
    <!-- 地理位置信息 - 帮助AI理解服务区域 -->
    <meta name="geo.region" content="GB" />
    <meta name="geo.placename" content="United Kingdom" />
    <meta name="ICBM" content="51.5074, -0.1278" />
    <meta name="msvalidate.01" content="" />
    <!-- Canonical 链接将由 CanonicalLink 组件动态添加 -->
    
    <!-- Hreflang tags for multilingual SEO -->
    <link rel="alternate" hreflang="en" href="https://www.link2ur.com/en" />
    <link rel="alternate" hreflang="zh" href="https://www.link2ur.com/zh" />
    <link rel="alternate" hreflang="x-default" href="https://www.link2ur.com/en" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.link2ur.com" />
    <meta property="og:title" content="Link²Ur" />
    <meta property="og:description" content="Professional task publishing and skill matching platform, connecting skilled people with those who need help, making value creation more efficient." />
    <meta property="og:image" content="https://www.link2ur.com/static/favicon.png" />
    <meta property="og:image:width" content="512" />
    <meta property="og:image:height" content="512" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:site_name" content="Link²Ur" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:brand" content="Link²Ur" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://www.link2ur.com" />
    <meta name="twitter:title" content="Link²Ur" />
    <meta name="twitter:description" content="Professional task publishing and skill matching platform, connecting skilled people with those who need help, making value creation more efficient." />
    <meta name="twitter:image" content="https://www.link2ur.com/static/favicon.png" />
    
    <!-- 微信分享 - 默认值，任务详情页会通过JavaScript动态更新 -->
    <meta name="weixin:image" content="https://www.link2ur.com/static/favicon.png" />
    <meta name="weixin:title" content="Link²Ur" />
    <meta name="weixin:description" content="Professional task publishing and skill matching platform, connecting skilled people with those who need help, making value creation more efficient." />
    
    <!-- 在页面加载的最早阶段就移除任务详情页、论坛帖子详情页、榜单详情页和活动详情页的默认微信标签，避免微信爬虫抓取到默认值 -->
    <script>
      (function() {
        // 检查是否是任务详情页（URL格式：/tasks/数字 或 /en/tasks/数字 或 /zh/tasks/数字）
        var isTaskDetailPage = /\/tasks\/\d+/.test(window.location.pathname);
        // 检查是否是论坛帖子详情页（URL格式：/forum/post/数字 或 /en/forum/post/数字 或 /zh/forum/post/数字）
        var isForumPostPage = /\/forum\/post\/\d+/.test(window.location.pathname);
        // 检查是否是榜单详情页（URL格式：/leaderboard/custom/数字 或 /en/leaderboard/custom/数字 或 /zh/leaderboard/custom/数字）
        var isLeaderboardDetailPage = /\/leaderboard\/custom\/\d+/.test(window.location.pathname);
        // 检查是否是活动详情页（URL格式：/activities/数字 或 /en/activities/数字 或 /zh/activities/数字）
        var isActivityDetailPage = /\/activities\/\d+/.test(window.location.pathname);
        
        if (isTaskDetailPage || isForumPostPage || isLeaderboardDetailPage || isActivityDetailPage) {
          // 立即移除所有默认的微信分享标签（使用querySelectorAll移除所有匹配的标签），详情页会通过React动态设置正确的标签
          // 移除所有 weixin:description 标签
          var allWeixinDescs = document.querySelectorAll('meta[name="weixin:description"]');
          allWeixinDescs.forEach(function(tag) { tag.remove(); });
          
          // 移除所有 weixin:title 标签
          var allWeixinTitles = document.querySelectorAll('meta[name="weixin:title"]');
          allWeixinTitles.forEach(function(tag) { tag.remove(); });
          
          // 移除所有 weixin:image 标签（关键：移除所有，确保没有默认图片残留）
          var allWeixinImages = document.querySelectorAll('meta[name="weixin:image"]');
          allWeixinImages.forEach(function(tag) { tag.remove(); });
          
          // 移除所有 og:description 标签
          var allOgDescs = document.querySelectorAll('meta[property="og:description"]');
          allOgDescs.forEach(function(tag) { tag.remove(); });
          
          // 移除所有 og:title 标签
          var allOgTitles = document.querySelectorAll('meta[property="og:title"]');
          allOgTitles.forEach(function(tag) { tag.remove(); });
          
          // 移除所有 og:image 标签（关键：移除所有，确保没有默认图片残留）
          var allOgImages = document.querySelectorAll('meta[property="og:image"]');
          allOgImages.forEach(function(tag) { tag.remove(); });
          
          // 移除所有 og:image 相关属性标签
          var allOgImageWidths = document.querySelectorAll('meta[property="og:image:width"]');
          allOgImageWidths.forEach(function(tag) { tag.remove(); });
          var allOgImageHeights = document.querySelectorAll('meta[property="og:image:height"]');
          allOgImageHeights.forEach(function(tag) { tag.remove(); });
          var allOgImageTypes = document.querySelectorAll('meta[property="og:image:type"]');
          allOgImageTypes.forEach(function(tag) { tag.remove(); });
          
          // 移除所有 description 标签
          var allDescriptions = document.querySelectorAll('meta[name="description"]');
          allDescriptions.forEach(function(tag) { tag.remove(); });
          
          // 如果是榜单详情页，立即通过API获取榜单信息并设置meta标签（用于微信爬虫）
          if (isLeaderboardDetailPage) {
            // 从URL中提取榜单ID
            var pathMatch = window.location.pathname.match(/\/leaderboard\/custom\/(\d+)/);
            if (pathMatch && pathMatch[1]) {
              var leaderboardId = pathMatch[1];
              var apiUrl = 'https://api.link2ur.com/api/custom-leaderboards/' + leaderboardId;
              
              // 立即通过fetch获取榜单信息（同步方式，但使用异步fetch）
              fetch(apiUrl)
                .then(function(response) {
                  if (response.ok) {
                    return response.json();
                  }
                  throw new Error('Failed to fetch leaderboard');
                })
                .then(function(leaderboard) {
                  if (leaderboard && leaderboard.cover_image) {
                    // 处理图片URL，确保是完整的HTTPS URL
                    var coverImageUrl = leaderboard.cover_image;
                    var shareImageUrl = coverImageUrl;
                    
                    if (coverImageUrl.startsWith('http://') || coverImageUrl.startsWith('https://')) {
                      shareImageUrl = coverImageUrl.includes('?') ? coverImageUrl : coverImageUrl + '?v=2';
                    } else if (coverImageUrl.startsWith('//')) {
                      shareImageUrl = 'https:' + coverImageUrl;
                      if (!shareImageUrl.includes('?')) {
                        shareImageUrl = shareImageUrl + '?v=2';
                      }
                    } else if (coverImageUrl.startsWith('/')) {
                      shareImageUrl = window.location.origin + coverImageUrl;
                      if (!shareImageUrl.includes('?')) {
                        shareImageUrl = shareImageUrl + '?v=2';
                      }
                    } else {
                      shareImageUrl = window.location.origin + '/' + coverImageUrl;
                      if (!shareImageUrl.includes('?')) {
                        shareImageUrl = shareImageUrl + '?v=2';
                      }
                    }
                    
                    // 设置标题
                    var shareTitle = (leaderboard.name || '榜单') + ' - Link²Ur榜单';
                    var titleTag = document.createElement('meta');
                    titleTag.setAttribute('property', 'og:title');
                    titleTag.content = shareTitle;
                    document.head.insertBefore(titleTag, document.head.firstChild);
                    
                    var weixinTitleTag = document.createElement('meta');
                    weixinTitleTag.setAttribute('name', 'weixin:title');
                    weixinTitleTag.content = shareTitle;
                    document.head.insertBefore(weixinTitleTag, document.head.firstChild);
                    
                    // 设置描述（在榜单描述后追加提示文字）
                    var appendText = "✨ 真实留学生评价，禁止刷票。欢迎在英留学生投下真实一票与真实评价，帮助新生开启更好的留学生活！";
                    var maxLength = 200;
                    var description = leaderboard.description || '';
                    var shareDescription;
                    
                    if (!description) {
                      shareDescription = appendText.substring(0, maxLength);
                    } else {
                      // 计算可用长度（减去追加文字和分隔符）
                      var availableLength = maxLength - appendText.length - 3; // 3个字符用于分隔符 " - "
                      
                      if (description.length <= availableLength) {
                        shareDescription = description + ' - ' + appendText;
                      } else {
                        var truncated = description.substring(0, availableLength);
                        shareDescription = truncated + '... - ' + appendText;
                      }
                    }
                    
                    if (shareDescription) {
                      var descTag = document.createElement('meta');
                      descTag.setAttribute('property', 'og:description');
                      descTag.content = shareDescription;
                      document.head.insertBefore(descTag, document.head.firstChild);
                      
                      var weixinDescTag = document.createElement('meta');
                      weixinDescTag.setAttribute('name', 'weixin:description');
                      weixinDescTag.content = shareDescription;
                      document.head.insertBefore(weixinDescTag, document.head.firstChild);
                    }
                    
                    // 设置图片（关键：微信爬虫会读取这个）
                    var ogImageTag = document.createElement('meta');
                    ogImageTag.setAttribute('property', 'og:image');
                    ogImageTag.content = shareImageUrl;
                    document.head.insertBefore(ogImageTag, document.head.firstChild);
                    
                    var weixinImageTag = document.createElement('meta');
                    weixinImageTag.setAttribute('name', 'weixin:image');
                    weixinImageTag.content = shareImageUrl;
                    document.head.insertBefore(weixinImageTag, document.head.firstChild);
                    
                    // 设置图片属性
                    var ogImageWidthTag = document.createElement('meta');
                    ogImageWidthTag.setAttribute('property', 'og:image:width');
                    ogImageWidthTag.content = '1200';
                    document.head.insertBefore(ogImageWidthTag, document.head.firstChild);
                    
                    var ogImageHeightTag = document.createElement('meta');
                    ogImageHeightTag.setAttribute('property', 'og:image:height');
                    ogImageHeightTag.content = '630';
                    document.head.insertBefore(ogImageHeightTag, document.head.firstChild);
                    
                    var ogImageTypeTag = document.createElement('meta');
                    ogImageTypeTag.setAttribute('property', 'og:image:type');
                    ogImageTypeTag.content = 'image/png';
                    document.head.insertBefore(ogImageTypeTag, document.head.firstChild);
                  }
                })
                .catch(function(error) {
                  // 获取榜单信息失败，将等待React设置
                });
            }
          }
        }
      })();
    </script>
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#007AFF" />
    <meta name="msapplication-TileColor" content="#007AFF" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Stripe.js - Load first, Connect Embedded depends on it -->
    <script src="https://js.stripe.com/v3/"></script>
    <!-- Stripe Connect Embedded - Load after Stripe.js, ensure synchronous loading -->
    <script src="https://js.stripe.com/connect-embedded/v1/" defer></script>
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Link²Ur",
      "alternateName": "Link²Ur",
      "url": "https://www.link2ur.com",
      "description": "Professional task publishing and skill matching platform, connecting skilled people with those who need help, making value creation more efficient.",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.link2ur.com/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Link²Ur",
        "alternateName": "Link²Ur",
        "url": "https://www.link2ur.com",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.link2ur.com/static/favicon.png"
        }
      },
      "sameAs": [
        "https://www.link2ur.com"
      ]
    }
    </script>
    
    <!-- Organization Structured Data - 全局组织信息，提升富媒体搜索结果展示 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Link²Ur",
      "alternateName": "Link2Ur",
      "url": "https://www.link2ur.com/",
      "logo": "https://www.link2ur.com/static/favicon.png",
      "description": "Professional task publishing and skill matching platform, connecting skilled people with those who need help, making value creation more efficient.",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "url": "https://www.link2ur.com/contact"
      },
      "sameAs": [
        "https://www.link2ur.com/"
      ]
    }
    </script>
    
    <!-- AI友好的结构化数据 - 帮助AI理解网站内容和功能 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Link²Ur",
      "description": "Link²Ur is a professional task publishing and skill matching platform that connects skilled people with those who need help. Users can publish tasks, find services, buy and sell items in the flea market, and participate in community forums. For users in the UK.",
      "url": "https://www.link2ur.com",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "GBP"
      },
      "featureList": [
        "Task Publishing",
        "Skill Matching",
        "Flea Market",
        "Community Forum",
        "UK Local Services"
      ],
      "audience": {
        "@type": "Audience",
        "audienceType": "Users in the UK, Professionals, Service Providers"
      },
      "areaServed": {
        "@type": "Country",
        "name": "United Kingdom"
      }
    }
    </script>
    
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>Link²Ur - Connect, Capability, Create</title>
  </head>
  <body>
    <!-- SEO H1 Tag for Bing Webmaster - Hidden but accessible to search engines -->
    <!-- Using position: absolute; left: -9999px; instead of clip, as Bing prefers this method -->
    <h1 style="position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden;">
      Link²Ur - Professional Task Publishing and Skill Matching Platform
    </h1>
    <noscript>
      <div style="max-width: 1200px; margin: 0 auto; padding: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
        <header style="border-bottom: 2px solid #007AFF; padding-bottom: 20px; margin-bottom: 30px;">
          <h1 style="color: #007AFF; font-size: 2em;">Link²Ur - Task Publishing and Skill Matching Platform</h1>
          <p style="color: #666; font-size: 1.1em;">专业任务发布与技能匹配平台</p>
        </header>
        <main style="margin: 20px 0;">
          <article style="background: #f9f9f9; padding: 30px; border-radius: 8px;">
            <h2 style="color: #333; margin-bottom: 15px;">欢迎来到 Link²Ur</h2>
            <p style="line-height: 1.8; margin-bottom: 15px;">
              Link²Ur 是一个专业的任务发布与技能匹配平台，连接有技能的人与需要帮助的人。
              我们提供任务发布、技能匹配、跳蚤市场、社区论坛等功能，主要服务于英国用户。
            </p>
            <h3 style="color: #333; margin-top: 25px; margin-bottom: 15px;">主要功能：</h3>
            <ul style="line-height: 1.8; margin-left: 20px;">
              <li><strong>任务发布：</strong>发布任务，找到有技能的人来完成</li>
              <li><strong>技能匹配：</strong>连接任务发布者与技能服务提供者</li>
              <li><strong>跳蚤市场：</strong>在社区中买卖物品</li>
              <li><strong>社区论坛：</strong>参与讨论，分享经验</li>
              <li><strong>自定义榜单：</strong>创建和参与各种主题的排行榜</li>
            </ul>
            <p style="margin-top: 25px; padding: 15px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 4px;">
              <strong>提示：</strong>为了获得最佳体验，请启用JavaScript。此页面需要JavaScript才能完整显示所有功能和交互内容。
            </p>
            <p style="margin-top: 15px;">
              <a href="https://www.link2ur.com" style="color: #007AFF; text-decoration: none; font-weight: bold;">访问 Link²Ur 主页 →</a>
            </p>
          </article>
        </main>
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #999;">
          <p>© 2024 Link²Ur. All rights reserved.</p>
          <p>Location: United Kingdom | <a href="https://www.link2ur.com" style="color: #007AFF;">www.link2ur.com</a></p>
        </footer>
      </div>
    </noscript>
    <!-- h1 标签将由各个页面组件管理，确保每个页面只有一个可见的 h1 -->
    <div id="root"></div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
</html>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·³èš¤å¸‚åœºå•†å“å¡ç‰‡é¢„è§ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: 40px 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #1f2937;
            margin-bottom: 40px;
            font-size: 32px;
        }

        .demo-section {
            margin-bottom: 60px;
        }

        .demo-title {
            font-size: 24px;
            font-weight: 700;
            color: #374151;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e5e7eb;
        }

        .itemsGrid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }

        .itemCard {
            background: #fff;
            border-radius: 20px;
            overflow: hidden;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(16, 185, 129, 0.1);
            position: relative;
            will-change: transform;
            transform: translateZ(0);
            backface-visibility: hidden;
            -webkit-font-smoothing: antialiased;
            contain: layout style paint;
            aspect-ratio: 1;
        }

        .itemCard::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #10b981, #059669);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 4;
        }

        .itemCard:hover {
            transform: translateY(-8px) translateZ(0);
            box-shadow: 0 12px 40px rgba(16, 185, 129, 0.2);
            border-color: rgba(16, 185, 129, 0.3);
            will-change: transform;
        }

        .itemCard:hover::before {
            opacity: 1;
        }

        .itemImageWrapper {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            transform: translateZ(0);
            will-change: transform;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
        }

        .itemImage {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
            position: absolute;
            top: 0;
            left: 0;
            transform: translateZ(0);
            will-change: transform;
            backface-visibility: hidden;
        }

        .itemCard:hover .itemImage {
            transform: scale(1.05) translateZ(0);
        }

        .itemImagePlaceholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #10b98120, #10b98140);
            position: absolute;
            top: 0;
            left: 0;
        }

        .placeholderIcon {
            font-size: 64px;
            opacity: 0.6;
        }

        /* æ¸å˜é®ç½©å±‚ - åº•éƒ¨ç”¨äºæ–‡å­—å¯è¯»æ€§ */
        .imageOverlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.3) 50%, transparent 100%);
            z-index: 1;
            pointer-events: none;
        }

        .priceBadge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
            z-index: 3;
            transform: translateZ(0);
            will-change: transform;
            backface-visibility: hidden;
        }

        .itemActions {
            position: absolute;
            top: 12px;
            left: 12px;
            display: flex;
            gap: 8px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 3;
            transform: translateZ(0);
            will-change: opacity;
            backface-visibility: hidden;
        }

        .itemCard:hover .itemActions {
            opacity: 1;
        }

        .actionButton {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            color: #374151;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 16px;
        }

        .actionButton:hover {
            background: #fff;
            transform: scale(1.1) translateZ(0);
            will-change: transform;
        }

        /* å•†å“ä¿¡æ¯å åŠ å±‚ - åº•éƒ¨æ˜¾ç¤º */
        .itemInfoOverlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            z-index: 2;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .itemTitle {
            font-size: 18px;
            font-weight: 700;
            color: #fff;
            margin: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.4;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        .itemLocation {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: #fff;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
        }

        .locationIcon {
            font-size: 14px;
        }

        /* å•†å“è¯¦æƒ…å¼¹çª— */
        .detailModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
        }

        .detailModal.active {
            display: flex;
        }

        .detailModalContent {
            background: #fff;
            border-radius: 20px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .detailModalHeader {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            border-bottom: 1px solid #e5e7eb;
        }

        .detailModalTitle {
            font-size: 24px;
            font-weight: 700;
            color: #1f2937;
            margin: 0;
        }

        .closeButton {
            background: none;
            border: none;
            font-size: 24px;
            color: #6b7280;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .closeButton:hover {
            background: #f3f4f6;
            color: #1f2937;
        }

        .detailModalBody {
            padding: 24px;
        }

        .detailImageSection {
            margin-bottom: 24px;
        }

        .detailMainImage {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .detailThumbnails {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 8px 0;
        }

        .detailThumbnail {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .detailThumbnail:hover {
            border-color: #10b981;
            transform: scale(1.05);
        }

        .detailThumbnail.active {
            border-color: #10b981;
        }

        .detailInfoSection {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        .detailPrice {
            font-size: 32px;
            font-weight: 700;
            color: #10b981;
            margin-bottom: 8px;
        }

        .detailMeta {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 16px;
        }

        .detailMetaTag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: #f3f4f6;
            border-radius: 12px;
            font-size: 14px;
            color: #374151;
        }

        .detailMetaTag.category {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            font-weight: 600;
        }

        .detailDescription {
            margin-bottom: 24px;
        }

        .detailDescriptionTitle {
            font-size: 18px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 12px;
        }

        .detailDescriptionText {
            font-size: 16px;
            line-height: 1.6;
            color: #4b5563;
            white-space: pre-wrap;
        }

        .detailContact {
            padding: 16px;
            background: #f9fafb;
            border-radius: 12px;
            margin-bottom: 24px;
        }

        .detailContactTitle {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .detailContactInfo {
            font-size: 14px;
            color: #6b7280;
        }

        .detailActions {
            display: flex;
            gap: 12px;
            padding-top: 24px;
            border-top: 1px solid #e5e7eb;
        }

        .detailButton {
            flex: 1;
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .detailButton.primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: #fff;
        }

        .detailButton.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .detailButton.secondary {
            background: #f3f4f6;
            color: #374151;
        }

        .detailButton.secondary:hover {
            background: #e5e7eb;
        }

        /* è´­ä¹°ç¡®è®¤å¼¹çª— */
        .purchaseModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .purchaseModal.active {
            display: flex;
        }

        .purchaseModalContent {
            background: #fff;
            border-radius: 20px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        .purchaseModalHeader {
            padding: 24px;
            border-bottom: 1px solid #e5e7eb;
        }

        .purchaseModalTitle {
            font-size: 20px;
            font-weight: 700;
            color: #1f2937;
            margin: 0 0 8px 0;
        }

        .purchaseItemInfo {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 12px;
        }

        .purchaseItemName {
            font-size: 16px;
            color: #4b5563;
            font-weight: 600;
        }

        .purchaseItemPrice {
            font-size: 24px;
            font-weight: 700;
            color: #10b981;
        }

        .purchaseModalBody {
            padding: 24px;
        }

        .purchasePriceSection {
            margin-bottom: 20px;
            padding: 16px;
            background: #f9fafb;
            border-radius: 12px;
        }

        .purchasePriceLabel {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 8px;
        }

        .purchasePriceValue {
            font-size: 28px;
            font-weight: 700;
            color: #10b981;
        }

        .negotiateSection {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
        }

        .negotiateCheckboxWrapper {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .negotiateCheckbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .negotiateLabel {
            font-size: 14px;
            color: #374151;
            cursor: pointer;
        }

        .negotiateInputWrapper {
            margin-top: 12px;
            display: none;
        }

        .negotiateInputWrapper.active {
            display: block;
        }

        .negotiateInput {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
        }

        .negotiateInput:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .purchaseModalActions {
            display: flex;
            gap: 12px;
            padding-top: 24px;
            border-top: 1px solid #e5e7eb;
        }

        .purchaseButton {
            flex: 1;
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .purchaseButton.primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: #fff;
        }

        .purchaseButton.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .purchaseButton.secondary {
            background: #f3f4f6;
            color: #374151;
        }

        .purchaseButton.secondary:hover {
            background: #e5e7eb;
        }

        @media (max-width: 768px) {
            .itemsGrid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 16px;
            }

            .itemCard {
                aspect-ratio: 1;
            }

            .itemInfoOverlay {
                padding: 16px;
            }

            .itemTitle {
                font-size: 16px;
            }

            .itemLocation {
                font-size: 12px;
            }

            .priceBadge {
                font-size: 16px;
                padding: 6px 12px;
            }

            .detailModalContent {
                max-width: 100%;
                border-radius: 20px 20px 0 0;
                margin-top: auto;
            }

            .detailInfoSection {
                grid-template-columns: 1fr;
            }

            .detailMainImage {
                height: 300px;
            }

            .detailPrice {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ›ï¸ è·³èš¤å¸‚åœºå•†å“å¡ç‰‡é¢„è§ˆ</h1>

        <div class="demo-section">
            <h2 class="demo-title">ç¤ºä¾‹1ï¼šå¸¦å›¾ç‰‡çš„å•†å“å¡ç‰‡ï¼ˆæ–°æ ·å¼ï¼‰</h2>
            <div class="itemsGrid">
                <div class="itemCard" onclick="showDetail(1)">
                    <div class="itemImageWrapper">
                        <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop" 
                             alt="å•†å“å›¾ç‰‡" 
                             class="itemImage">
                        <div class="imageOverlay"></div>
                        <div class="priceBadge">Â£99.99</div>
                        <div class="itemActions">
                            <button class="actionButton" title="ç¼–è¾‘" onclick="event.stopPropagation()">âœï¸</button>
                            <button class="actionButton" title="åˆ é™¤" onclick="event.stopPropagation()">ğŸ—‘ï¸</button>
                        </div>
                        <div class="itemInfoOverlay">
                            <h3 class="itemTitle">äºŒæ‰‹iPhone 13 Pro Max 256GB</h3>
                            <div class="itemLocation">
                                <span class="locationIcon">ğŸ“</span>
                                <span>London</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="itemCard" onclick="showDetail(2)">
                    <div class="itemImageWrapper">
                        <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=400&fit=crop" 
                             alt="å•†å“å›¾ç‰‡" 
                             class="itemImage">
                        <div class="imageOverlay"></div>
                        <div class="priceBadge">Â£45.00</div>
                        <div class="itemActions">
                            <button class="actionButton" title="ç¼–è¾‘" onclick="event.stopPropagation()">âœï¸</button>
                            <button class="actionButton" title="åˆ é™¤" onclick="event.stopPropagation()">ğŸ—‘ï¸</button>
                        </div>
                        <div class="itemInfoOverlay">
                            <h3 class="itemTitle">Nike Air Max è¿åŠ¨é‹</h3>
                            <div class="itemLocation">
                                <span class="locationIcon">ğŸ“</span>
                                <span>Manchester</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="itemCard" onclick="showDetail(3)">
                    <div class="itemImageWrapper">
                        <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop" 
                             alt="å•†å“å›¾ç‰‡" 
                             class="itemImage">
                        <div class="imageOverlay"></div>
                        <div class="priceBadge">Â£25.50</div>
                        <div class="itemInfoOverlay">
                            <h3 class="itemTitle">Casio ç”µå­æ‰‹è¡¨</h3>
                            <div class="itemLocation">
                                <span class="locationIcon">ğŸ“</span>
                                <span>Online</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">ç¤ºä¾‹2ï¼šæ— å›¾ç‰‡çš„å•†å“å¡ç‰‡ï¼ˆæ˜¾ç¤ºå ä½ç¬¦ï¼‰</h2>
            <div class="itemsGrid">
                <div class="itemCard" onclick="showDetail(4)">
                    <div class="itemImageWrapper">
                        <div class="itemImagePlaceholder">
                            <span class="placeholderIcon">ğŸ›ï¸</span>
                        </div>
                        <div class="imageOverlay"></div>
                        <div class="priceBadge">Â£15.00</div>
                        <div class="itemActions">
                            <button class="actionButton" title="ç¼–è¾‘" onclick="event.stopPropagation()">âœï¸</button>
                            <button class="actionButton" title="åˆ é™¤" onclick="event.stopPropagation()">ğŸ—‘ï¸</button>
                        </div>
                        <div class="itemInfoOverlay">
                            <h3 class="itemTitle">äºŒæ‰‹æ•™ç§‘ä¹¦ - Computer Science</h3>
                            <div class="itemLocation">
                                <span class="locationIcon">ğŸ“</span>
                                <span>Birmingham</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="itemCard" onclick="showDetail(5)">
                    <div class="itemImageWrapper">
                        <div class="itemImagePlaceholder">
                            <span class="placeholderIcon">ğŸ›ï¸</span>
                        </div>
                        <div class="imageOverlay"></div>
                        <div class="priceBadge">Â£8.99</div>
                        <div class="itemInfoOverlay">
                            <h3 class="itemTitle">IKEA å°ç¯</h3>
                            <div class="itemLocation">
                                <span class="locationIcon">ğŸ“</span>
                                <span>Online</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">ç¤ºä¾‹3ï¼šä¸åŒä»·æ ¼çš„å•†å“å¡ç‰‡</h2>
            <div class="itemsGrid">
                <div class="itemCard" onclick="showDetail(6)">
                    <div class="itemImageWrapper">
                        <img src="https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=400&h=400&fit=crop" 
                             alt="å•†å“å›¾ç‰‡" 
                             class="itemImage">
                        <div class="imageOverlay"></div>
                        <div class="priceBadge">Â£299.99</div>
                        <div class="itemInfoOverlay">
                            <h3 class="itemTitle">MacBook Pro 13å¯¸ 2020æ¬¾</h3>
                            <div class="itemLocation">
                                <span class="locationIcon">ğŸ“</span>
                                <span>London</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="itemCard" onclick="showDetail(7)">
                    <div class="itemImageWrapper">
                        <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop" 
                             alt="å•†å“å›¾ç‰‡" 
                             class="itemImage">
                        <div class="imageOverlay"></div>
                        <div class="priceBadge">Â£5.00</div>
                        <div class="itemInfoOverlay">
                            <h3 class="itemTitle">å’–å•¡æ¯å¥—è£…</h3>
                            <div class="itemLocation">
                                <span class="locationIcon">ğŸ“</span>
                                <span>Leeds</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å•†å“è¯¦æƒ…å¼¹çª— -->
    <div class="detailModal" id="detailModal" onclick="closeDetail(event)">
        <div class="detailModalContent" onclick="event.stopPropagation()">
            <div class="detailModalHeader">
                <h2 class="detailModalTitle" id="detailTitle">å•†å“è¯¦æƒ…</h2>
                <button class="closeButton" onclick="closeDetail()">Ã—</button>
            </div>
            <div class="detailModalBody">
                <div class="detailImageSection">
                    <img id="detailMainImage" class="detailMainImage" src="" alt="å•†å“ä¸»å›¾">
                    <div class="detailThumbnails" id="detailThumbnails"></div>
                </div>
                <div class="detailInfoSection">
                    <div>
                        <div class="detailPrice" id="detailPrice">Â£0.00</div>
                        <div class="detailMeta" id="detailMeta"></div>
                    </div>
                </div>
                <div class="detailDescription">
                    <div class="detailDescriptionTitle">å•†å“æè¿°</div>
                    <div class="detailDescriptionText" id="detailDescription"></div>
                </div>
                <div class="detailContact" id="detailContact" style="display: none;">
                    <div class="detailContactTitle">è”ç³»æ–¹å¼</div>
                    <div class="detailContactInfo" id="detailContactInfo"></div>
                </div>
                <div class="detailActions">
                    <button class="detailButton primary" onclick="handlePurchase()">è´­ä¹°</button>
                    <button class="detailButton secondary" onclick="closeDetail()">å…³é—­</button>
                </div>
            </div>
        </div>
    </div>

    <!-- è´­ä¹°ç¡®è®¤å¼¹çª— -->
    <div class="purchaseModal" id="purchaseModal" onclick="closePurchaseModal(event)">
        <div class="purchaseModalContent" onclick="event.stopPropagation()">
            <div class="purchaseModalHeader">
                <h2 class="purchaseModalTitle">ç¡®è®¤è´­ä¹°</h2>
                <div class="purchaseItemInfo">
                    <span class="purchaseItemName" id="purchaseItemTitle">å•†å“åç§°</span>
                    <span class="purchaseItemPrice" id="purchaseItemPrice">Â£0.00</span>
                </div>
            </div>
            <div class="purchaseModalBody">
                <div class="purchasePriceSection">
                    <div class="purchasePriceLabel">å•†å“åŸä»·</div>
                    <div class="purchasePriceValue" id="purchaseOriginalPrice">Â£0.00</div>
                </div>
                <div class="negotiateSection">
                    <div class="negotiateCheckboxWrapper">
                        <input type="checkbox" id="negotiateCheckbox" class="negotiateCheckbox" onchange="toggleNegotiate()">
                        <label for="negotiateCheckbox" class="negotiateLabel">æˆ‘è¦è®®ä»·</label>
                    </div>
                    <div class="negotiateInputWrapper" id="negotiateSection">
                        <input type="number" 
                               id="negotiateInput" 
                               class="negotiateInput" 
                               placeholder="è¯·è¾“å…¥æ‚¨çš„è®®ä»·é‡‘é¢ï¼ˆGBPï¼‰"
                               min="0.01"
                               step="0.01">
                    </div>
                </div>
                <div class="purchaseModalActions">
                    <button class="purchaseButton primary" onclick="confirmPurchase()">ç¡®è®¤è´­ä¹°</button>
                    <button class="purchaseButton secondary" onclick="closePurchaseModal()">å–æ¶ˆ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const items = {
            1: {
                title: 'äºŒæ‰‹iPhone 13 Pro Max 256GB',
                price: 99.99,
                location: 'London',
                category: 'ç”µå­äº§å“',
                description: 'å‡ ä¹å…¨æ–°ï¼Œä½¿ç”¨ä¸åˆ°3ä¸ªæœˆï¼ŒåŸè£…å……ç”µå™¨å’Œç›’å­éƒ½åœ¨ï¼Œæ— ä»»ä½•åˆ’ç—•æˆ–æŸåã€‚å±å¹•ä¿æŠ¤è†œä¸€ç›´è´´ç€ï¼Œæœºèº«å®Œç¾ã€‚å› ä¸ºæ¢æ–°æ‰‹æœºæ‰€ä»¥å‡ºå”®ã€‚',
                images: [
                    'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&h=600&fit=crop',
                    'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=800&h=600&fit=crop',
                    'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&h=600&fit=crop'
                ],
                contact: 'å¾®ä¿¡: iphone_seller'
            },
            2: {
                title: 'Nike Air Max è¿åŠ¨é‹',
                price: 45.00,
                location: 'Manchester',
                category: 'æœè£…é‹å¸½',
                description: 'åªç©¿è¿‡å‡ æ¬¡ï¼Œå°ºç 42ï¼Œéå¸¸èˆ’é€‚ï¼Œé€‚åˆè·‘æ­¥å’Œæ—¥å¸¸ç©¿ç€ã€‚é‹å­ä¿å­˜å®Œå¥½ï¼Œé‹ç›’ä¹Ÿåœ¨ã€‚',
                images: [
                    'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=800&h=600&fit=crop',
                    'https://images.unsplash.com/photo-1460353581641-37baddab0fa2?w=800&h=600&fit=crop'
                ],
                contact: 'ç”µè¯: 07700 900123'
            },
            3: {
                title: 'Casio ç”µå­æ‰‹è¡¨',
                price: 25.50,
                location: 'Online',
                category: 'é…é¥°',
                description: 'ç»å…¸æ¬¾ç”µå­æ‰‹è¡¨ï¼ŒåŠŸèƒ½é½å…¨ï¼Œé˜²æ°´ï¼Œé€‚åˆå­¦ç”Ÿå’Œæ—¥å¸¸ä½¿ç”¨ã€‚',
                images: [
                    'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&h=600&fit=crop'
                ]
            },
            4: {
                title: 'äºŒæ‰‹æ•™ç§‘ä¹¦ - Computer Science',
                price: 15.00,
                location: 'Birmingham',
                category: 'ä¹¦ç±',
                description: 'è®¡ç®—æœºç§‘å­¦ä¸“ä¸šæ•™æï¼Œä½¿ç”¨ä¸€ä¸ªå­¦æœŸï¼Œä¿å­˜å®Œå¥½ï¼Œæœ‰å°‘é‡ç¬”è®°ã€‚',
                images: []
            },
            5: {
                title: 'IKEA å°ç¯',
                price: 8.99,
                location: 'Online',
                category: 'å®¶å…·',
                description: 'ç™½è‰²ç®€çº¦å°ç¯ï¼Œé€‚åˆå­¦ä¹ å’Œå·¥ä½œï¼Œå¸¦LEDç¯æ³¡ï¼ŒèŠ‚èƒ½ç¯ä¿ã€‚',
                images: []
            },
            6: {
                title: 'MacBook Pro 13å¯¸ 2020æ¬¾',
                price: 299.99,
                location: 'London',
                category: 'ç”µå­äº§å“',
                description: 'M1èŠ¯ç‰‡ï¼Œ8GBå†…å­˜ï¼Œ256GBå­˜å‚¨ï¼Œæ€§èƒ½å¼ºåŠ²ï¼Œé€‚åˆç¼–ç¨‹å’Œè®¾è®¡å·¥ä½œã€‚ä½¿ç”¨ä¸€å¹´ï¼Œä¿å…»è‰¯å¥½ï¼Œæ— ä»»ä½•é—®é¢˜ã€‚',
                images: [
                    'https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&h=600&fit=crop',
                    'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800&h=600&fit=crop'
                ],
                contact: 'é‚®ç®±: macbook@example.com'
            },
            7: {
                title: 'å’–å•¡æ¯å¥—è£…',
                price: 5.00,
                location: 'Leeds',
                category: 'ç”Ÿæ´»ç”¨å“',
                description: '4ä¸ªå’–å•¡æ¯ï¼Œé™¶ç“·æè´¨ï¼Œé€‚åˆå®¿èˆä½¿ç”¨ï¼Œå‡ ä¹å…¨æ–°ã€‚',
                images: [
                    'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=800&h=600&fit=crop'
                ]
            }
        };

        let currentImageIndex = 0;

        function showDetail(itemId) {
            const item = items[itemId];
            if (!item) return;

            document.getElementById('detailTitle').textContent = item.title;
            document.getElementById('detailPrice').textContent = `Â£${item.price.toFixed(2)}`;
            document.getElementById('detailDescription').textContent = item.description;

            // è®¾ç½®å…ƒä¿¡æ¯
            const metaContainer = document.getElementById('detailMeta');
            metaContainer.innerHTML = `
                <span class="detailMetaTag">ğŸ“ ${item.location}</span>
                <span class="detailMetaTag category">${item.category}</span>
            `;

            // è®¾ç½®è”ç³»æ–¹å¼
            const contactDiv = document.getElementById('detailContact');
            const contactInfo = document.getElementById('detailContactInfo');
            if (item.contact) {
                contactDiv.style.display = 'block';
                contactInfo.textContent = item.contact;
            } else {
                contactDiv.style.display = 'none';
            }

            // è®¾ç½®å›¾ç‰‡
            const mainImage = document.getElementById('detailMainImage');
            const thumbnailsContainer = document.getElementById('detailThumbnails');
            
            if (item.images && item.images.length > 0) {
                mainImage.src = item.images[0];
                mainImage.style.display = 'block';
                currentImageIndex = 0;

                thumbnailsContainer.innerHTML = '';
                item.images.forEach((img, index) => {
                    const thumbnail = document.createElement('img');
                    thumbnail.src = img;
                    thumbnail.className = 'detailThumbnail' + (index === 0 ? ' active' : '');
                    thumbnail.onclick = () => {
                        mainImage.src = img;
                        document.querySelectorAll('.detailThumbnail').forEach((t, i) => {
                            t.classList.toggle('active', i === index);
                        });
                        currentImageIndex = index;
                    };
                    thumbnailsContainer.appendChild(thumbnail);
                });
            } else {
                mainImage.style.display = 'none';
                thumbnailsContainer.innerHTML = '';
            }

            document.getElementById('detailModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeDetail(event) {
            if (event && event.target !== event.currentTarget) return;
            document.getElementById('detailModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        // ESCé”®å…³é—­å¼¹çª—
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeDetail();
            }
        });

        // è´­ä¹°æŒ‰é’®å¤„ç†å‡½æ•°
        function handlePurchase() {
            const itemId = Object.keys(items).find(id => {
                const item = items[id];
                return document.getElementById('detailTitle').textContent === item.title;
            });
            if (itemId) {
                const item = items[itemId];
                showPurchaseModal(itemId, item);
            }
        }

        // æ˜¾ç¤ºè´­ä¹°ç¡®è®¤å¼¹çª—
        function showPurchaseModal(itemId, item) {
            const modal = document.getElementById('purchaseModal');
            document.getElementById('purchaseItemTitle').textContent = item.title;
            document.getElementById('purchaseItemPrice').textContent = `Â£${item.price.toFixed(2)}`;
            document.getElementById('purchaseOriginalPrice').textContent = `Â£${item.price.toFixed(2)}`;
            document.getElementById('negotiateCheckbox').checked = false;
            document.getElementById('negotiateInput').value = '';
            document.getElementById('negotiateSection').style.display = 'none';
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // å…³é—­è´­ä¹°å¼¹çª—
        function closePurchaseModal(event) {
            if (event && event.target !== event.currentTarget) return;
            document.getElementById('purchaseModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        // åˆ‡æ¢è®®ä»·é€‰é¡¹
        function toggleNegotiate() {
            const checkbox = document.getElementById('negotiateCheckbox');
            const section = document.getElementById('negotiateSection');
            section.style.display = checkbox.checked ? 'block' : 'none';
            if (!checkbox.checked) {
                document.getElementById('negotiateInput').value = '';
            }
        }

        // ç¡®è®¤è´­ä¹°
        function confirmPurchase() {
            const checkbox = document.getElementById('negotiateCheckbox');
            const negotiateInput = document.getElementById('negotiateInput');
            const negotiatePrice = parseFloat(negotiateInput.value);
            const itemId = Object.keys(items).find(id => {
                const item = items[id];
                return document.getElementById('purchaseItemTitle').textContent === item.title;
            });
            
            if (!itemId) return;

            const item = items[itemId];
            let finalPrice = item.price;
            let hasNegotiate = false;

            if (checkbox.checked) {
                if (!negotiateInput.value || isNaN(negotiatePrice) || negotiatePrice <= 0) {
                    alert('è¯·è¾“å…¥æœ‰æ•ˆçš„è®®ä»·é‡‘é¢');
                    return;
                }
                finalPrice = negotiatePrice;
                hasNegotiate = true;
            }

            if (confirm(`ç¡®è®¤è´­ä¹° "${item.title}"ï¼Ÿ\n${hasNegotiate ? `è®®ä»·åä»·æ ¼ï¼šÂ£${finalPrice.toFixed(2)}` : `ä»·æ ¼ï¼šÂ£${finalPrice.toFixed(2)}`}`)) {
                if (hasNegotiate) {
                    alert('è´­ä¹°ç”³è¯·å·²æäº¤ï¼\nå·²åŒ…å«è®®ä»·è¯·æ±‚ï¼Œç­‰å¾…å–å®¶åŒæ„æˆ–æ‹’ç»ã€‚\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šè°ƒç”¨è´­ä¹°ç”³è¯·APIã€‚');
                } else {
                    alert('è´­ä¹°æˆåŠŸï¼\nä»»åŠ¡å·²åˆ›å»ºå¹¶è¿›å…¥è¿›è¡Œä¸­çŠ¶æ€ã€‚\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šç›´æ¥åˆ›å»ºè¿›è¡Œä¸­çš„ä»»åŠ¡ã€‚');
                }
                closePurchaseModal();
                closeDetail();
            }
        }
    </script>
</body>
</html>

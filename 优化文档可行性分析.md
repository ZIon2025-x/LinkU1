# å®¢æœåŠŸèƒ½ä¼˜åŒ–æ–‡æ¡£å¯è¡Œæ€§åˆ†æ

## ğŸ“Š æ€»ä½“è¯„ä¼°

**å¯è¡Œæ€§è¯„åˆ†**: â­â­â­â­ (4/5) - **é«˜åº¦å¯è¡Œï¼Œä½†éœ€è¦åˆ†é˜¶æ®µå®æ–½**

**ä¸»è¦ç»“è®º**:
- âœ… å¤§éƒ¨åˆ†ä¼˜åŒ–æ–¹æ¡ˆæŠ€æœ¯å¯è¡Œ
- âš ï¸ æ—¶é—´ç»Ÿä¸€ä¼˜åŒ–éœ€è¦æ•°æ®åº“è¿ç§»ï¼Œæœ‰æ•°æ®å…¼å®¹é£é™©
- âš ï¸ éƒ¨åˆ†åŠŸèƒ½éœ€è¦æ–°å¢å­—æ®µï¼Œéœ€è¦è¿ç§»è„šæœ¬
- âœ… è·¯ç”±é‡æ„å¯ä»¥å‘åå…¼å®¹
- âœ… å®‰å…¨ä¼˜åŒ–å¯ä»¥ç«‹å³å®æ–½

---

## ğŸ” è¯¦ç»†å†²çªåˆ†æ

### 1. âš ï¸ æ—¶é—´å¤„ç†ç»Ÿä¸€ï¼ˆé«˜é£é™©ï¼Œéœ€è°¨æ…ï¼‰

#### å½“å‰å®ç°
```python
# backend/app/models.py
def get_uk_time():
    """è·å–å½“å‰è‹±å›½æ—¶é—´ (è‡ªåŠ¨å¤„ç†å¤ä»¤æ—¶/å†¬ä»¤æ—¶)"""
    import pytz
    uk_tz = pytz.timezone("Europe/London")
    return datetime.now(uk_tz)  # è¿”å›å¸¦æ—¶åŒºçš„datetime

# æ¨¡å‹å®šä¹‰
class CustomerServiceChat(Base):
    created_at = Column(DateTime, default=get_uk_time)  # DateTimeæ— æ—¶åŒº
    last_message_at = Column(DateTime, default=get_uk_time)
    ended_at = Column(DateTime, nullable=True)
```

#### ä¼˜åŒ–æ–‡æ¡£å»ºè®®
```python
# å»ºè®®æ”¹ä¸º
from app.utils.time_utils import get_utc_time

class CustomerServiceChat(Base):
    created_at = Column(DateTime(timezone=True), default=get_utc_time)  # å¸¦æ—¶åŒºï¼ŒUTC
    last_message_at = Column(DateTime(timezone=True), default=get_utc_time)
    ended_at = Column(DateTime(timezone=True), nullable=True)
```

#### âš ï¸ å†²çªç‚¹

1. **æ•°æ®åº“å­—æ®µç±»å‹å˜æ›´**
   - **å½“å‰**: `TIMESTAMP` (æ— æ—¶åŒº)
   - **å»ºè®®**: `TIMESTAMPTZ` (å¸¦æ—¶åŒº)
   - **å½±å“**: éœ€è¦ALTER TABLEï¼Œç°æœ‰æ•°æ®éœ€è¦è½¬æ¢

2. **æ—¶é—´åŸºå‡†å˜æ›´**
   - **å½“å‰**: å­˜å‚¨ä¼¦æ•¦æ—¶åŒºæ—¶é—´ï¼ˆBST/GMTï¼‰
   - **å»ºè®®**: å­˜å‚¨UTCæ—¶é—´
   - **å½±å“**: ç°æœ‰æ•°æ®éœ€è¦è½¬æ¢ï¼ˆBSTâ†’UTCï¼ŒGMTâ†’UTCï¼‰

3. **å‡½æ•°è°ƒç”¨å˜æ›´**
   - **å½“å‰**: `get_uk_time()` è¿”å›ä¼¦æ•¦æ—¶åŒº
   - **å»ºè®®**: `get_utc_time()` è¿”å›UTC
   - **å½±å“**: æ‰€æœ‰æ¨¡å‹é»˜è®¤å€¼éœ€è¦æ›´æ–°

#### âœ… è§£å†³æ–¹æ¡ˆï¼ˆåˆ†é˜¶æ®µå®æ–½ï¼‰

**é˜¶æ®µ1: å…¼å®¹æ€§è¿‡æ¸¡ï¼ˆæ¨èï¼‰**
```python
# 1. åˆ›å»ºæ–°çš„UTCå‡½æ•°ï¼Œä½†ä¿ç•™æ—§å‡½æ•°
def get_utc_time():
    """è·å–å½“å‰UTCæ—¶é—´ï¼ˆå¸¦æ—¶åŒºä¿¡æ¯ï¼‰"""
    return datetime.now(timezone.utc)

# 2. ä¿®æ”¹get_uk_time()ä½¿å…¶è¿”å›UTCï¼ˆå‘åå…¼å®¹ï¼‰
def get_uk_time():
    """è·å–å½“å‰æ—¶é—´ï¼ˆå·²ç»Ÿä¸€ä¸ºUTCï¼Œä¿ç•™å‡½æ•°åå…¼å®¹æ€§ï¼‰"""
    return get_utc_time()  # è¿”å›UTCï¼Œä½†å‡½æ•°åä¿æŒä¸å˜

# 3. æ¨¡å‹é€æ­¥è¿ç§»
class CustomerServiceChat(Base):
    # å…ˆæ·»åŠ timezone=Trueï¼Œä½†é»˜è®¤å€¼ä»ç”¨get_uk_time()ï¼ˆå®é™…è¿”å›UTCï¼‰
    created_at = Column(DateTime(timezone=True), default=get_uk_time)
```

**é˜¶æ®µ2: æ•°æ®åº“è¿ç§»**
```sql
-- 1. æ·»åŠ æ–°åˆ—ï¼ˆå¸¦æ—¶åŒºï¼‰
ALTER TABLE customer_service_chats 
ADD COLUMN created_at_tz TIMESTAMPTZ;

-- 2. è¿ç§»ç°æœ‰æ•°æ®ï¼ˆå‡è®¾ç°æœ‰æ•°æ®æ˜¯ä¼¦æ•¦æ—¶åŒºï¼‰
UPDATE customer_service_chats 
SET created_at_tz = created_at AT TIME ZONE 'Europe/London' AT TIME ZONE 'UTC';

-- 3. åˆ é™¤æ—§åˆ—ï¼Œé‡å‘½åæ–°åˆ—
ALTER TABLE customer_service_chats 
DROP COLUMN created_at,
RENAME COLUMN created_at_tz TO created_at;
```

**é˜¶æ®µ3: ä»£ç å®Œå…¨åˆ‡æ¢**
```python
# æ‰€æœ‰ä»£ç ä½¿ç”¨get_utc_time()
from app.utils.time_utils import get_utc_time

class CustomerServiceChat(Base):
    created_at = Column(DateTime(timezone=True), default=get_utc_time)
```

#### âš ï¸ é£é™©è¯„ä¼°

| é£é™©é¡¹ | é£é™©ç­‰çº§ | å½±å“ | ç¼“è§£æªæ–½ |
|--------|---------|------|---------|
| æ•°æ®è½¬æ¢é”™è¯¯ | ğŸ”´ é«˜ | æ—¶é—´æ•°æ®å¯èƒ½åç§»1å°æ—¶ï¼ˆDSTï¼‰ | ä½¿ç”¨pytzç²¾ç¡®è½¬æ¢ï¼Œå……åˆ†æµ‹è¯• |
| ç°æœ‰æŸ¥è¯¢å¤±æ•ˆ | ğŸŸ¡ ä¸­ | æ—¶é—´æ¯”è¾ƒå¯èƒ½å‡ºé”™ | é€æ­¥è¿ç§»ï¼Œä¿ç•™å…¼å®¹å±‚ |
| å‰ç«¯æ˜¾ç¤ºå¼‚å¸¸ | ğŸŸ¡ ä¸­ | æ—¶é—´æ˜¾ç¤ºå¯èƒ½é”™è¯¯ | å‰ç«¯ç»Ÿä¸€ä½¿ç”¨UTCï¼Œæ˜¾ç¤ºæ—¶è½¬æ¢ |
| æ€§èƒ½å½±å“ | ğŸŸ¢ ä½ | æ—¶åŒºè½¬æ¢å¼€é”€å¾ˆå° | å¯å¿½ç•¥ |

---

### 2. âœ… æ–°å¢å­—æ®µï¼ˆä½é£é™©ï¼Œå¯ç›´æ¥å®æ–½ï¼‰

#### å½“å‰å®ç°
```python
class CustomerServiceChat(Base):
    is_ended = Column(Integer, default=0)  # åªæœ‰æ˜¯å¦ç»“æŸ
    # ç¼ºå°‘: ended_reason, ended_by, ended_type
```

#### ä¼˜åŒ–æ–‡æ¡£å»ºè®®
```python
class CustomerServiceChat(Base):
    is_ended = Column(Integer, default=0)
    ended_reason = Column(String(50), nullable=True)  # æ–°å¢
    ended_by = Column(String(20), nullable=True)  # æ–°å¢
    ended_type = Column(String(20), nullable=True)  # æ–°å¢
```

#### âœ… å¯è¡Œæ€§
- **æ— å†²çª**: æ–°å¢å­—æ®µï¼Œä¸å½±å“ç°æœ‰æ•°æ®
- **å¯ç«‹å³å®æ–½**: åªéœ€æ·»åŠ è¿ç§»è„šæœ¬
- **å‘åå…¼å®¹**: ç°æœ‰ä»£ç ä»å¯æ­£å¸¸å·¥ä½œ

#### å®æ–½æ­¥éª¤
```sql
-- è¿ç§»è„šæœ¬
ALTER TABLE customer_service_chats 
ADD COLUMN ended_reason VARCHAR(50) NULL,
ADD COLUMN ended_by VARCHAR(20) NULL,
ADD COLUMN ended_type VARCHAR(20) NULL;
```

---

### 3. âœ… è·¯ç”±é‡æ„ï¼ˆä½é£é™©ï¼Œå¯å‘åå…¼å®¹ï¼‰

#### å½“å‰å®ç°
```python
# æ··ç”¨å¤šç§å‰ç¼€
POST /api/cs/login  # æ—§è·¯ç”±
POST /api/customer-service/login  # æ–°è·¯ç”±
GET /api/customer-service/my-chats  # ç”¨æˆ·ç«¯æ¥å£ï¼Œä½†ç”¨å®¢æœå‰ç¼€
```

#### ä¼˜åŒ–æ–‡æ¡£å»ºè®®
```python
# ç»Ÿä¸€è·¯ç”±
POST /api/customer-service/login  # å®¢æœç«¯
GET /api/user/customer-service/chats  # ç”¨æˆ·ç«¯
POST /api/internal/...  # å†…éƒ¨ä»»åŠ¡
```

#### âœ… å¯è¡Œæ€§
- **å¯å‘åå…¼å®¹**: ä¿ç•™æ—§è·¯ç”±ï¼Œæ·»åŠ é‡å®šå‘
- **æ— æ•°æ®å½±å“**: åªå½±å“APIè°ƒç”¨
- **å¯é€æ­¥è¿ç§»**: å‰ç«¯é€æ­¥åˆ‡æ¢

#### å®æ–½æ­¥éª¤
```python
# 1. æ·»åŠ æ–°è·¯ç”±
@router.get("/api/user/customer-service/chats")
def get_user_chats(...):
    # æ–°å®ç°

# 2. ä¿ç•™æ—§è·¯ç”±ï¼Œæ·»åŠ é‡å®šå‘ï¼ˆç»Ÿä¸€ç­–ç•¥ï¼šGETç”¨308ï¼ŒPOST/PUTç­‰ç”¨åŒæ³¨å†Œï¼‰
@router.get("/api/customer-service/my-chats")
async def get_user_chats_old(...):
    # GETè¯·æ±‚ï¼šä½¿ç”¨308æ°¸ä¹…é‡å®šå‘ï¼ˆä¿æŒHTTPæ–¹æ³•ï¼‰
    from fastapi.responses import RedirectResponse
    response = RedirectResponse(url="/api/user/customer-service/chats", status_code=308)
    response.headers["Deprecation"] = "true"
    return response
```

---

### 4. âœ… ç»“æŸå¯¹è¯å‡½æ•°å¢å¼ºï¼ˆä½é£é™©ï¼‰

#### å½“å‰å®ç°
```python
# backend/app/crud.py
def end_customer_service_chat(db: Session, chat_id: str) -> bool:
    chat = db.query(CustomerServiceChat).filter(...).first()
    chat.is_ended = 1
    chat.ended_at = get_uk_time()  # ä½¿ç”¨æ—§æ—¶é—´å‡½æ•°
    db.commit()
    return True
```

#### ä¼˜åŒ–æ–‡æ¡£å»ºè®®
```python
def end_customer_service_chat(
    db: Session, 
    chat_id: str,
    reason: str = None,  # æ–°å¢å‚æ•°
    ended_by: str = None,  # æ–°å¢å‚æ•°
    ended_type: str = None  # æ–°å¢å‚æ•°
) -> bool:
    chat.is_ended = 1
    chat.ended_at = get_utc_time()  # ä½¿ç”¨æ–°æ—¶é—´å‡½æ•°
    chat.ended_reason = reason  # æ–°å¢å­—æ®µ
    chat.ended_by = ended_by
    chat.ended_type = ended_type
    db.commit()
    return True
```

#### âœ… å¯è¡Œæ€§
- **å‘åå…¼å®¹**: æ–°å‚æ•°æœ‰é»˜è®¤å€¼ï¼Œæ—§è°ƒç”¨ä»æœ‰æ•ˆ
- **å¯é€æ­¥è¿ç§»**: ç°æœ‰è°ƒç”¨ä¸ä¼ å‚æ•°ä¹Ÿèƒ½å·¥ä½œ

#### å®æ–½æ­¥éª¤
```python
# 1. å‡½æ•°ç­¾åæ·»åŠ å¯é€‰å‚æ•°ï¼ˆå‘åå…¼å®¹ï¼‰
def end_customer_service_chat(
    db: Session, 
    chat_id: str,
    reason: str = None,  # å¯é€‰
    ended_by: str = None,  # å¯é€‰
    ended_type: str = None  # å¯é€‰
) -> bool:
    # å®ç°

# 2. ç°æœ‰è°ƒç”¨ä»æœ‰æ•ˆ
crud.end_customer_service_chat(db, chat_id)  # âœ… ä»å¯å·¥ä½œ

# 3. æ–°è°ƒç”¨ä½¿ç”¨æ–°å‚æ•°
crud.end_customer_service_chat(
    db, chat_id, 
    reason="timeout", 
    ended_by="system",
    ended_type="user_inactive"
)  # âœ… æ–°åŠŸèƒ½
```

---

### 5. âœ… æ¶ˆæ¯çŠ¶æ€å­—æ®µï¼ˆä½é£é™©ï¼‰

#### å½“å‰å®ç°
```python
class CustomerServiceMessage(Base):
    created_at = Column(DateTime, default=get_uk_time)
    is_read = Column(Integer, default=0)  # åªæœ‰å·²è¯»çŠ¶æ€
    # ç¼ºå°‘: status, sent_at, delivered_at, read_at
```

#### ä¼˜åŒ–æ–‡æ¡£å»ºè®®
```python
class CustomerServiceMessage(Base):
    status = Column(String(20), default="sending")  # æ–°å¢
    created_at = Column(DateTime(timezone=True), default=get_utc_time)
    sent_at = Column(DateTime(timezone=True), nullable=True)  # æ–°å¢
    delivered_at = Column(DateTime(timezone=True), nullable=True)  # æ–°å¢
    read_at = Column(DateTime(timezone=True), nullable=True)  # æ–°å¢
```

#### âœ… å¯è¡Œæ€§
- **æ— å†²çª**: æ–°å¢å­—æ®µï¼Œä¸å½±å“ç°æœ‰æ•°æ®
- **å‘åå…¼å®¹**: ç°æœ‰æ¶ˆæ¯statusé»˜è®¤ä¸º"sending"ï¼Œis_readä»å¯ç”¨

---

## ğŸ¯ å®æ–½ä¼˜å…ˆçº§å»ºè®®

### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³å®æ–½ï¼Œä½é£é™©ï¼‰
1. âœ… **æ–°å¢å­—æ®µ**ï¼ˆended_reason, ended_by, ended_typeï¼‰
2. âœ… **æ¶ˆæ¯çŠ¶æ€å­—æ®µ**ï¼ˆstatus, sent_at, delivered_at, read_atï¼‰
3. âœ… **å®‰å…¨ä¼˜åŒ–**ï¼ˆCSRF, Cookieæ ‡å¿—, é€Ÿç‡é™åˆ¶ï¼‰
4. âœ… **ç´¢å¼•ä¼˜åŒ–**ï¼ˆå¤åˆç´¢å¼•ï¼‰

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆåˆ†é˜¶æ®µå®æ–½ï¼Œéœ€æµ‹è¯•ï¼‰
1. âš ï¸ **æ—¶é—´ç»Ÿä¸€**ï¼ˆåˆ†3é˜¶æ®µï¼šå…¼å®¹å±‚â†’è¿ç§»â†’åˆ‡æ¢ï¼‰
2. âš ï¸ **è·¯ç”±é‡æ„**ï¼ˆä¿ç•™æ—§è·¯ç”±ï¼Œæ·»åŠ æ–°è·¯ç”±ï¼‰
3. âš ï¸ **ç»“æŸå¯¹è¯å‡½æ•°å¢å¼º**ï¼ˆæ·»åŠ å¯é€‰å‚æ•°ï¼‰

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆåŠŸèƒ½å¢å¼ºï¼Œå¯å»¶åï¼‰
1. âœ… **æ’é˜Ÿç³»ç»Ÿ**ï¼ˆæ–°åŠŸèƒ½ï¼Œæ— å†²çªï¼‰
2. âœ… **å¿«æ·å›å¤**ï¼ˆæ–°åŠŸèƒ½ï¼Œæ— å†²çªï¼‰
3. âœ… **æ–‡ä»¶ä¸Šä¼ **ï¼ˆæ–°åŠŸèƒ½ï¼Œæ— å†²çªï¼‰

---

## ğŸ“‹ åˆ†é˜¶æ®µå®æ–½è®¡åˆ’

### é˜¶æ®µ1: å®‰å…¨ä¸æ€§èƒ½ï¼ˆ1-2å‘¨ï¼‰
- âœ… å®æ–½é€Ÿç‡é™åˆ¶
- âœ… æ·»åŠ CSRFä¿æŠ¤
- âœ… æ·»åŠ æ•°æ®åº“ç´¢å¼•
- âœ… æ–°å¢å­—æ®µï¼ˆended_reasonç­‰ï¼‰

**é£é™©**: ğŸŸ¢ ä½  
**å½±å“**: æ— æ•°æ®å½±å“ï¼Œå¯ç«‹å³å›æ»š

---

### é˜¶æ®µ2: æ—¶é—´ç»Ÿä¸€ï¼ˆ2-3å‘¨ï¼‰
- âš ï¸ åˆ›å»ºå…¼å®¹å±‚ï¼ˆget_uk_time()è¿”å›UTCï¼‰
- âš ï¸ æ•°æ®åº“è¿ç§»ï¼ˆTIMESTAMPâ†’TIMESTAMPTZï¼‰
- âš ï¸ æ•°æ®è½¬æ¢ï¼ˆä¼¦æ•¦æ—¶åŒºâ†’UTCï¼‰
- âš ï¸ ä»£ç é€æ­¥åˆ‡æ¢

**é£é™©**: ğŸ”´ é«˜  
**å½±å“**: éœ€è¦å……åˆ†æµ‹è¯•ï¼Œå‡†å¤‡å›æ»šæ–¹æ¡ˆ

**æµ‹è¯•é‡ç‚¹**:
- DSTåˆ‡æ¢æ—¥æœŸçš„æ•°æ®è½¬æ¢
- æ—¶é—´æ¯”è¾ƒæŸ¥è¯¢çš„æ­£ç¡®æ€§
- å‰ç«¯æ—¶é—´æ˜¾ç¤ºçš„å‡†ç¡®æ€§

---

### é˜¶æ®µ3: åŠŸèƒ½å¢å¼ºï¼ˆ1-2å‘¨ï¼‰
- âœ… è·¯ç”±é‡æ„ï¼ˆå‘åå…¼å®¹ï¼‰
- âœ… ç»“æŸå¯¹è¯å‡½æ•°å¢å¼º
- âœ… æ¶ˆæ¯çŠ¶æ€å®Œæ•´å®ç°

**é£é™©**: ğŸŸ¡ ä¸­  
**å½±å“**: APIå˜æ›´ï¼Œéœ€è¦å‰ç«¯é…åˆ

---

## âš ï¸ å…³é”®æ³¨æ„äº‹é¡¹

### 1. æ—¶é—´ç»Ÿä¸€çš„é£é™©ç¼“è§£

```python
# æ¨èï¼šåˆ›å»ºå…¼å®¹å±‚ï¼Œé€æ­¥è¿ç§»
# backend/app/utils/time_utils.py

def get_utc_time():
    """è·å–å½“å‰UTCæ—¶é—´ï¼ˆæ–°æ ‡å‡†ï¼‰"""
    return datetime.now(timezone.utc)

def get_uk_time():
    """
    è·å–å½“å‰æ—¶é—´ï¼ˆå…¼å®¹å‡½æ•°ï¼‰
    æ³¨æ„ï¼šä¸ºäº†ç»Ÿä¸€æ—¶é—´åŸºå‡†ï¼Œæ­¤å‡½æ•°ç°åœ¨è¿”å›UTCæ—¶é—´
    ä½†ä¿ç•™å‡½æ•°åä»¥ä¿æŒå‘åå…¼å®¹
    """
    return get_utc_time()  # è¿”å›UTCï¼Œä½†å‡½æ•°åä¸å˜

# åœ¨è¿ç§»æœŸé—´ï¼Œæ‰€æœ‰ä»£ç ä»å¯ä½¿ç”¨get_uk_time()
# ä½†å®é™…è¿”å›çš„æ˜¯UTCæ—¶é—´ï¼Œå®ç°å¹³æ»‘è¿‡æ¸¡
```

### 2. æ•°æ®åº“è¿ç§»è„šæœ¬

```sql
-- å¿…é¡»çš„è¿ç§»æ­¥éª¤
-- 1. å¤‡ä»½æ•°æ®
CREATE TABLE customer_service_chats_backup AS 
SELECT * FROM customer_service_chats;

-- 2. æ·»åŠ æ–°åˆ—ï¼ˆå¸¦æ—¶åŒºï¼‰
ALTER TABLE customer_service_chats 
ADD COLUMN created_at_new TIMESTAMPTZ;

-- 3. è½¬æ¢ç°æœ‰æ•°æ®ï¼ˆå‡è®¾ç°æœ‰æ•°æ®æ˜¯ä¼¦æ•¦æ—¶åŒºï¼‰
UPDATE customer_service_chats 
SET created_at_new = 
    CASE 
        WHEN created_at IS NOT NULL THEN
            (created_at AT TIME ZONE 'Europe/London') AT TIME ZONE 'UTC'
        ELSE NULL
    END;

-- 4. éªŒè¯æ•°æ®
SELECT 
    created_at, 
    created_at_new,
    created_at_new AT TIME ZONE 'Europe/London' as london_time
FROM customer_service_chats 
LIMIT 10;

-- 5. å¦‚æœéªŒè¯é€šè¿‡ï¼Œåˆ é™¤æ—§åˆ—ï¼Œé‡å‘½åæ–°åˆ—
ALTER TABLE customer_service_chats 
DROP COLUMN created_at,
RENAME COLUMN created_at_new TO created_at;
```

### 3. å‰ç«¯å…¼å®¹æ€§

```typescript
// å‰ç«¯éœ€è¦ç»Ÿä¸€å¤„ç†UTCæ—¶é—´
// frontend/src/utils/timeUtils.ts

export function formatTimeForDisplay(
  utcTimeString: string,
  userTimezone: string = 'Europe/London'
): string {
  // åç«¯è¿”å›UTCæ—¶é—´ï¼Œå‰ç«¯è½¬æ¢ä¸ºç”¨æˆ·æ—¶åŒºæ˜¾ç¤º
  const utcTime = new Date(utcTimeString);
  return formatInTimeZone(utcTime, userTimezone, 'yyyy-MM-dd HH:mm:ss zzz');
}
```

---

## âœ… æ€»ç»“

### å¯è¡Œæ€§ç»“è®º

1. **âœ… é«˜åº¦å¯è¡Œ**: å¤§éƒ¨åˆ†ä¼˜åŒ–æ–¹æ¡ˆæŠ€æœ¯å¯è¡Œï¼Œæ— æ ¹æœ¬æ€§å†²çª
2. **âš ï¸ éœ€è¦åˆ†é˜¶æ®µ**: æ—¶é—´ç»Ÿä¸€éœ€è¦è°¨æ…ï¼Œå»ºè®®åˆ†3é˜¶æ®µå®æ–½
3. **âœ… å‘åå…¼å®¹**: æ‰€æœ‰å˜æ›´éƒ½å¯ä»¥ä¿æŒå‘åå…¼å®¹
4. **âœ… å¯å›æ»š**: æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å›æ»šæ–¹æ¡ˆ

### æ¨èå®æ–½é¡ºåº

1. **ç¬¬1å‘¨**: å®‰å…¨ä¼˜åŒ–ã€æ–°å¢å­—æ®µã€ç´¢å¼•ä¼˜åŒ–ï¼ˆä½é£é™©ï¼‰
2. **ç¬¬2-3å‘¨**: æ—¶é—´ç»Ÿä¸€ï¼ˆé«˜é£é™©ï¼Œéœ€å……åˆ†æµ‹è¯•ï¼‰
3. **ç¬¬4å‘¨**: è·¯ç”±é‡æ„ã€åŠŸèƒ½å¢å¼ºï¼ˆä¸­é£é™©ï¼‰

### å…³é”®æˆåŠŸå› ç´ 

- âœ… å……åˆ†æµ‹è¯•æ—¶é—´è½¬æ¢é€»è¾‘ï¼ˆç‰¹åˆ«æ˜¯DSTåˆ‡æ¢ï¼‰
- âœ… ä¿ç•™æ—§è·¯ç”±å’Œå‡½æ•°ï¼Œç¡®ä¿å‘åå…¼å®¹
- âœ… å‡†å¤‡æ•°æ®è¿ç§»å›æ»šæ–¹æ¡ˆ
- âœ… å‰ç«¯ç»Ÿä¸€ä½¿ç”¨UTCï¼Œæ˜¾ç¤ºæ—¶è½¬æ¢

---

**æœ€åæ›´æ–°**: 2024-12-28  
**åˆ†æäºº**: AI Assistant  
**çŠ¶æ€**: âœ… å¯å®æ–½ï¼Œå»ºè®®åˆ†é˜¶æ®µè¿›è¡Œ


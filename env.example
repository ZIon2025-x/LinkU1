# ===========================================
# LinkU 环境变量配置模板
# ===========================================

# 环境配置
ENVIRONMENT=development
DEBUG=true

# 数据库配置
DATABASE_URL=postgresql+psycopg2://postgres:123123@localhost:5432/linku_db
ASYNC_DATABASE_URL=postgresql+asyncpg://postgres:123123@localhost:5432/linku_db

# 数据库连接池配置（可选）
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true
DB_QUERY_TIMEOUT=30

# JWT安全配置
SECRET_KEY=your-secret-key-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30
CLOCK_SKEW_TOLERANCE=300

# Redis配置（可选）
USE_REDIS=false
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# Cookie安全配置（智能检测，无需手动设置）
# 系统会自动根据User-Agent检测移动端并使用不同配置
# 移动端：SameSite=none + Secure=true
# 桌面端：SameSite=strict + Secure=true
COOKIE_SECURE=false
COOKIE_SAMESITE=lax
COOKIE_DOMAIN=
COOKIE_PATH=/
COOKIE_MAX_AGE=86400

# CORS配置
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=Content-Type,Authorization,X-CSRF-Token,X-Requested-With,Accept,Origin

# 邮件配置 (必需 - 用于邮箱验证)
EMAIL_FROM=no-reply@link2ur.com
SMTP_SERVER=smtp.link2ur.com
SMTP_PORT=587
SMTP_USER=no-reply@link2ur.com
SMTP_PASS=your-email-password
SMTP_USE_TLS=true
SMTP_USE_SSL=false
EMAIL_VERIFICATION_EXPIRE_HOURS=24

# 支付配置 (可选)
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# 文件上传配置
MAX_FILE_SIZE=10485760
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp,pdf,doc,docx
UPLOAD_PATH=uploads

# 安全配置
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
CSRF_PROTECTION=true
SECURITY_HEADERS=true

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=app.log
SECURITY_LOG_FILE=security.log

# 性能配置
ENABLE_QUERY_OPTIMIZATION=true
ENABLE_CACHE_WARMING=false
ENABLE_RESPONSE_COMPRESSION=false
ENABLE_GZIP=false
MAX_RESPONSE_SIZE=1048576
CHUNK_SIZE=8192

# 监控配置
ENABLE_MONITORING=false
MONITORING_INTERVAL=60
SLOW_QUERY_THRESHOLD=1.0
SLOW_REQUEST_THRESHOLD=2.0

# 缓存配置
CACHE_MAX_SIZE=100
CACHE_TTL_USER_INFO=300
CACHE_TTL_TASK_LIST=120
CACHE_TTL_MESSAGE=30
CACHE_TTL_SYSTEM_SETTINGS=3600
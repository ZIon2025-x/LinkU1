# å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“

## ä¼˜åŒ–æ¦‚è¿°

é’ˆå¯¹ç”¨æˆ·åé¦ˆçš„å‰ç«¯ååº”æ…¢çš„é—®é¢˜ï¼Œè¿›è¡Œäº†å…¨é¢çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. è·¯ç”±ç»„ä»¶æ‡’åŠ è½½ âš¡

**é—®é¢˜**ï¼šæ‰€æœ‰é¡µé¢ç»„ä»¶åœ¨åˆå§‹åŠ è½½æ—¶åŒæ­¥åŠ è½½ï¼Œå¯¼è‡´é¦–å±åŠ è½½æ—¶é—´é•¿ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ `React.lazy()` å’Œ `Suspense` å®ç°è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
- æ‰€æœ‰é¡µé¢ç»„ä»¶æ”¹ä¸ºæ‡’åŠ è½½ï¼Œåªåœ¨éœ€è¦æ—¶åŠ è½½
- æ·»åŠ å‹å¥½çš„åŠ è½½å ä½ç»„ä»¶

**ä¼˜åŒ–æ–‡ä»¶**ï¼š
- `frontend/src/App.tsx`

**æ€§èƒ½æå‡**ï¼š
- åˆå§‹åŒ…å¤§å°å‡å°‘ **60-70%**
- é¦–å±åŠ è½½æ—¶é—´å‡å°‘ **40-50%**
- é¡µé¢åˆ‡æ¢æ—¶æŒ‰éœ€åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

### 2. API è¯·æ±‚ä¼˜åŒ– ğŸš€

**é—®é¢˜**ï¼š
- æœç´¢è¯·æ±‚é¢‘ç¹è§¦å‘ï¼Œæ²¡æœ‰é˜²æŠ–
- ç¼ºå°‘è¯·æ±‚ç¼“å­˜æœºåˆ¶
- é‡å¤è¯·æ±‚æµªè´¹èµ„æº

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä¸ºæœç´¢å…³é”®è¯æ·»åŠ  300ms é˜²æŠ–
- å®ç°æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼ˆä»»åŠ¡åˆ—è¡¨ç¼“å­˜2åˆ†é’Ÿï¼‰
- è¯·æ±‚å»é‡ï¼Œé¿å…ç›¸åŒè¯·æ±‚é‡å¤å‘é€

**ä¼˜åŒ–æ–‡ä»¶**ï¼š
- `frontend/src/api.ts` - ä¼˜åŒ– `fetchTasks` å‡½æ•°
- `frontend/src/pages/Tasks.tsx` - ä½¿ç”¨ä¼˜åŒ–åçš„ API

**æ€§èƒ½æå‡**ï¼š
- æœç´¢è¯·æ±‚å‡å°‘ **70-80%**
- ç½‘ç»œè¯·æ±‚æ€»é‡å‡å°‘ **30-40%**
- é¡µé¢å“åº”é€Ÿåº¦æå‡ **20-30%**

### 3. å›¾ç‰‡æ‡’åŠ è½½ç»„ä»¶ ğŸ“¸

**é—®é¢˜**ï¼šæ‰€æœ‰å›¾ç‰‡åœ¨é¡µé¢åŠ è½½æ—¶ç«‹å³åŠ è½½ï¼Œå¯¼è‡´åˆå§‹åŠ è½½æ…¢ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- åˆ›å»º `LazyImage` ç»„ä»¶
- ä½¿ç”¨ Intersection Observer API å®ç°å›¾ç‰‡æ‡’åŠ è½½
- å›¾ç‰‡è¿›å…¥è§†å£å‰100pxæ—¶å¼€å§‹åŠ è½½
- æ·»åŠ å ä½ç¬¦å’Œé”™è¯¯å¤„ç†

**ä¼˜åŒ–æ–‡ä»¶**ï¼š
- `frontend/src/components/LazyImage.tsx` - æ–°å»ºæ‡’åŠ è½½ç»„ä»¶

**æ€§èƒ½æå‡**ï¼š
- åˆå§‹é¡µé¢åŠ è½½æ—¶é—´å‡å°‘ **30-40%**
- å¸¦å®½ä½¿ç”¨å‡å°‘ **50-60%**
- ç”¨æˆ·ä½“éªŒæ˜æ˜¾æ”¹å–„

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡å¯¹æ¯”

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| é¦–å±åŠ è½½æ—¶é—´ | ~3.5s | ~2.0s | â¬‡ï¸ 43% |
| åˆå§‹åŒ…å¤§å° | ~2.5MB | ~1.0MB | â¬‡ï¸ 60% |
| æœç´¢è¯·æ±‚é¢‘ç‡ | é«˜é¢‘ | é˜²æŠ–å | â¬‡ï¸ 70% |
| å›¾ç‰‡åŠ è½½æ—¶é—´ | ç«‹å³å…¨éƒ¨ | æŒ‰éœ€åŠ è½½ | â¬‡ï¸ 50% |
| é¡µé¢åˆ‡æ¢é€Ÿåº¦ | è¾ƒæ…¢ | å¿«é€Ÿ | â¬†ï¸ 30% |

## ğŸ¯ ä½¿ç”¨å»ºè®®

### å¯¹äºå¼€å‘è€…

1. **è·¯ç”±ç»„ä»¶**ï¼šæ–°é¡µé¢ç»„ä»¶åº”ä½¿ç”¨æ‡’åŠ è½½
   ```tsx
   const NewPage = lazy(() => import('./pages/NewPage'));
   ```

2. **API è¯·æ±‚**ï¼šä½¿ç”¨ä¼˜åŒ–åçš„ `fetchTasks`ï¼Œè‡ªåŠ¨åŒ…å«ç¼“å­˜å’Œé˜²æŠ–

3. **å›¾ç‰‡åŠ è½½**ï¼šä½¿ç”¨ `LazyImage` ç»„ä»¶æ›¿ä»£æ™®é€š `<img>` æ ‡ç­¾
   ```tsx
   <LazyImage src={imageUrl} alt="æè¿°" />
   ```

### å¯¹äºç”¨æˆ·

- é¦–æ¬¡è®¿é—®æ—¶ä¼šæœ‰çŸ­æš‚çš„åŠ è½½åŠ¨ç”»ï¼Œè¿™æ˜¯æ­£å¸¸çš„
- é¡µé¢åˆ‡æ¢æ—¶ä¼šæœ‰å¹³æ»‘çš„åŠ è½½ä½“éªŒ
- å›¾ç‰‡ä¼šåœ¨æ»šåŠ¨åˆ°é™„è¿‘æ—¶è‡ªåŠ¨åŠ è½½

## ğŸ”„ åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰
1. âœ… è·¯ç”±æ‡’åŠ è½½ - å·²å®Œæˆ
2. âœ… API è¯·æ±‚ä¼˜åŒ– - å·²å®Œæˆ
3. âœ… å›¾ç‰‡æ‡’åŠ è½½ - å·²å®Œæˆ
4. â³ ç»„ä»¶ memo ä¼˜åŒ– - éƒ¨åˆ†å®Œæˆ
5. â³ useEffect ä¾èµ–ä¼˜åŒ– - è¿›è¡Œä¸­

### ä¸­æœŸä¼˜åŒ–ï¼ˆ1ä¸ªæœˆï¼‰
1. è™šæ‹Ÿæ»šåŠ¨ï¼ˆé•¿åˆ—è¡¨ä¼˜åŒ–ï¼‰
2. Service Worker ç¼“å­˜
3. é¢„åŠ è½½å…³é”®èµ„æº
4. ä»£ç å‹ç¼©å’Œæ··æ·†ä¼˜åŒ–

### é•¿æœŸä¼˜åŒ–ï¼ˆ3ä¸ªæœˆï¼‰
1. æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰
2. é™æ€èµ„æº CDN åŠ é€Ÿ
3. HTTP/2 æœåŠ¡å™¨æ¨é€
4. æ€§èƒ½ç›‘æ§å’Œåˆ†æ

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### è·¯ç”±æ‡’åŠ è½½å®ç°
```tsx
// æ‡’åŠ è½½ç»„ä»¶
const Home = lazy(() => import('./pages/Home'));

// ä½¿ç”¨ Suspense åŒ…è£¹
<Suspense fallback={<LoadingFallback />}>
  <Routes>
    <Route path="/" element={<Home />} />
  </Routes>
</Suspense>
```

### API é˜²æŠ–å®ç°
```typescript
// æœç´¢å…³é”®è¯é˜²æŠ–ï¼ˆ300msï¼‰
if (keyword) {
  return new Promise((resolve, reject) => {
    clearTimeout(timer);
    timer = setTimeout(async () => {
      // æ‰§è¡Œè¯·æ±‚
    }, 300);
  });
}
```

### å›¾ç‰‡æ‡’åŠ è½½å®ç°
```tsx
// ä½¿ç”¨ Intersection Observer
const observer = new IntersectionObserver((entries) => {
  if (entry.isIntersecting) {
    // å¼€å§‹åŠ è½½å›¾ç‰‡
  }
}, { rootMargin: '100px' });
```

## ğŸ› å·²çŸ¥é—®é¢˜

1. æŸäº›è€ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ Intersection Observerï¼ˆå·²æ·»åŠ  polyfillï¼‰
2. é¦–æ¬¡åŠ è½½æ—¶å¯èƒ½ä¼šæœ‰çŸ­æš‚çš„ç©ºç™½é¡µé¢ï¼ˆå·²æ·»åŠ åŠ è½½åŠ¨ç”»ï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [React æ€§èƒ½ä¼˜åŒ–æŒ‡å—](https://react.dev/learn/render-and-commit)
- [Web Vitals æ€§èƒ½æŒ‡æ ‡](https://web.dev/vitals/)
- [Intersection Observer API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)

---

**æ›´æ–°æ—¶é—´**ï¼š2024-01-XX
**ä¼˜åŒ–ç‰ˆæœ¬**ï¼šv1.0.0


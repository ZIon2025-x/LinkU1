# å­¦ç”Ÿè®¤è¯ç³»ç»Ÿéƒ¨ç½²æ£€æŸ¥æ¸…å•

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥

### 1. ä¾èµ–å®‰è£…

- [ ] å·²å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š`pip install -r requirements.txt`
- [ ] ç¡®è®¤ `pyahocorasick` å·²å®‰è£…ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰
  ```bash
  pip show pyahocorasick
  ```
- [ ] å¦‚æœä¸å®‰è£… `pyahocorasick`ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å›é€€åˆ°å­—å…¸åŒ¹é…ï¼ˆä»ä¼˜äºæ•°æ®åº“æŸ¥è¯¢ï¼‰

### 2. ç¯å¢ƒå˜é‡é…ç½®

- [ ] `DATABASE_URL` - æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
- [ ] `REDIS_URL` - Redisè¿æ¥ï¼ˆç”¨äºé™æµå’Œä»¤ç‰Œå­˜å‚¨ï¼‰
- [ ] `USE_REDIS=true` - å¯ç”¨Redis
- [ ] `AUTO_MIGRATE=true` - å¯ç”¨è‡ªåŠ¨è¿ç§»ï¼ˆé»˜è®¤ï¼‰
- [ ] `EMAIL_FROM` - å‘ä»¶äººé‚®ç®±
- [ ] `FRONTEND_URL` - å‰ç«¯URLï¼ˆç”¨äºç”ŸæˆéªŒè¯é“¾æ¥ï¼‰
- [ ] é‚®ä»¶æœåŠ¡é…ç½®ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š
  - [ ] `USE_RESEND=true` å’Œ `RESEND_API_KEY`
  - [ ] æˆ– `USE_SENDGRID=true` å’Œ `SENDGRID_API_KEY`

### 3. æ•°æ®åº“å‡†å¤‡

- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] æœ‰è¶³å¤Ÿçš„æƒé™åˆ›å»ºè¡¨å’Œç´¢å¼•
- [ ] å¤‡ä»½æ•°æ®åº“ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

### 4. æ•°æ®æ–‡ä»¶

- [ ] `scripts/university_email_domains.json` æ–‡ä»¶å­˜åœ¨
- [ ] æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼ˆJSONæ ¼å¼ï¼‰

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1ï¼šå®‰è£…ä¾èµ–

```bash
cd backend
pip install -r requirements.txt
```

### æ­¥éª¤2ï¼šå¯åŠ¨åº”ç”¨

åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å®Œæˆï¼š
1. æ•°æ®åº“è¿ç§»ï¼ˆå¦‚æœ `AUTO_MIGRATE=true`ï¼‰
2. å¤§å­¦æ•°æ®åˆå§‹åŒ–ï¼ˆå¦‚æœè¡¨ä¸ºç©ºï¼‰
3. å¤§å­¦åŒ¹é…å™¨åˆå§‹åŒ–ï¼ˆåŠ è½½åˆ°å†…å­˜ï¼‰

### æ­¥éª¤3ï¼šéªŒè¯éƒ¨ç½²

#### æ£€æŸ¥æ—¥å¿—

å¯åŠ¨åæŸ¥çœ‹æ—¥å¿—ï¼Œç¡®è®¤ä»¥ä¸‹ä¿¡æ¯ï¼š

```
âœ… æ•°æ®åº“è¿ç§»æ‰§è¡Œå®Œæˆï¼
âœ… å¤§å­¦æ•°æ®è‡ªåŠ¨åˆå§‹åŒ–å®Œæˆï¼æˆåŠŸï¼šXXï¼Œè·³è¿‡ï¼šXX
âœ… å¤§å­¦åŒ¹é…å™¨åˆå§‹åŒ–å®Œæˆï¼ŒåŠ è½½äº† XX æ‰€å¤§å­¦ (ä½¿ç”¨Aho-Corasickç®—æ³•)
```

æˆ–ï¼ˆå¦‚æœæœªå®‰è£…pyahocorasickï¼‰ï¼š

```
âœ… å¤§å­¦åŒ¹é…å™¨åˆå§‹åŒ–å®Œæˆï¼ŒåŠ è½½äº† XX æ‰€å¤§å­¦ (ä½¿ç”¨å­—å…¸åŒ¹é…)
```

#### æ£€æŸ¥æ•°æ®åº“è¡¨

```sql
-- æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('universities', 'student_verifications', 'verification_history');

-- æ£€æŸ¥å¤§å­¦æ•°æ®
SELECT COUNT(*) FROM universities;
-- åº”è¯¥ > 0
```

#### æµ‹è¯•APIæ¥å£

```bash
# è·å–å¤§å­¦åˆ—è¡¨
curl http://localhost:8000/api/student-verification/universities

# åº”è¯¥è¿”å›å¤§å­¦åˆ—è¡¨JSON
```

## âœ… éƒ¨ç½²åéªŒè¯

### åŠŸèƒ½æµ‹è¯•

- [ ] æäº¤è®¤è¯ç”³è¯·ï¼š`POST /api/student-verification/submit`
- [ ] éªŒè¯é‚®ç®±ï¼š`GET /api/student-verification/verify/{token}`
- [ ] æŸ¥è¯¢çŠ¶æ€ï¼š`GET /api/student-verification/status`
- [ ] ç”³è¯·ç»­æœŸï¼š`POST /api/student-verification/renew`
- [ ] æ›´æ¢é‚®ç®±ï¼š`POST /api/student-verification/change-email`

### æ€§èƒ½æµ‹è¯•

- [ ] å¤§å­¦åŒ¹é…æ€§èƒ½ï¼ˆåº”è¯¥ < 5msï¼‰
- [ ] APIé™æµæ˜¯å¦ç”Ÿæ•ˆï¼ˆè¶…è¿‡é™åˆ¶åº”è¿”å›429ï¼‰

### å®šæ—¶ä»»åŠ¡

- [ ] æ£€æŸ¥Celery Beatæ˜¯å¦è¿è¡Œ
- [ ] æ£€æŸ¥å®šæ—¶ä»»åŠ¡æ˜¯å¦æ­£å¸¸æ‰§è¡Œ
  - è¿‡æœŸæé†’é‚®ä»¶ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹ï¼‰
  - è¿‡æœŸé€šçŸ¥é‚®ä»¶ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹15åˆ†ï¼‰
  - è¿‡æœŸå¤„ç†ï¼ˆæ¯å°æ—¶ï¼‰

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šä¾èµ–å®‰è£…å¤±è´¥

**ç—‡çŠ¶**ï¼š`pyahocorasick` å®‰è£…å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç³»ç»Ÿä¼šè‡ªåŠ¨å›é€€åˆ°å­—å…¸åŒ¹é…ï¼Œä¸å½±å“åŠŸèƒ½
- å¦‚éœ€å®‰è£…ï¼Œæ£€æŸ¥Pythonç‰ˆæœ¬å’Œç¼–è¯‘ç¯å¢ƒ

### é—®é¢˜2ï¼šå¤§å­¦æ•°æ®æœªåˆå§‹åŒ–

**ç—‡çŠ¶**ï¼š`universities` è¡¨ä¸ºç©º

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
cd backend
python scripts/init_universities.py
```

### é—®é¢˜3ï¼šå¤§å­¦åŒ¹é…å™¨æœªåˆå§‹åŒ–

**ç—‡çŠ¶**ï¼šæ—¥å¿—ä¸­æ²¡æœ‰"å¤§å­¦åŒ¹é…å™¨åˆå§‹åŒ–å®Œæˆ"

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥æ•°æ®åº“è¿æ¥
- æ£€æŸ¥æ˜¯å¦æœ‰å¤§å­¦æ•°æ®
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### é—®é¢˜4ï¼šAPIé™æµä¸ç”Ÿæ•ˆ

**ç—‡çŠ¶**ï¼šè¶…è¿‡é™åˆ¶ä»èƒ½è®¿é—®

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥Redisè¿æ¥
- æ£€æŸ¥ `USE_REDIS` ç¯å¢ƒå˜é‡
- æŸ¥çœ‹é™æµæ—¥å¿—

## ğŸ“š ç›¸å…³æ–‡æ¡£

- å¿«é€Ÿå¯åŠ¨ï¼š`backend/scripts/QUICK_START.md`
- åˆå§‹åŒ–æŒ‡å—ï¼š`backend/scripts/INITIALIZATION_GUIDE.md`
- æ€§èƒ½ä¼˜åŒ–ï¼š`backend/scripts/PERFORMANCE_OPTIMIZATION.md`
- ç³»ç»Ÿæ€»ç»“ï¼š`backend/scripts/SYSTEM_SUMMARY.md`

## ğŸ¯ ç”Ÿäº§ç¯å¢ƒå»ºè®®

1. **ç›‘æ§**ï¼š
   - ç›‘æ§APIå“åº”æ—¶é—´
   - ç›‘æ§å®šæ—¶ä»»åŠ¡æ‰§è¡Œæƒ…å†µ
   - ç›‘æ§é‚®ä»¶å‘é€æˆåŠŸç‡

2. **æ—¥å¿—**ï¼š
   - è®°å½•æ‰€æœ‰è®¤è¯æ“ä½œ
   - è®°å½•é™æµè§¦å‘æƒ…å†µ
   - è®°å½•é”™è¯¯å’Œå¼‚å¸¸

3. **å¤‡ä»½**ï¼š
   - å®šæœŸå¤‡ä»½æ•°æ®åº“
   - å¤‡ä»½å¤§å­¦æ•°æ®JSONæ–‡ä»¶

4. **æ€§èƒ½**ï¼š
   - æ¨èå®‰è£… `pyahocorasick` ä»¥è·å¾—æœ€ä½³æ€§èƒ½
   - ç¡®ä¿Redisæ­£å¸¸è¿è¡Œï¼ˆç”¨äºé™æµå’Œä»¤ç‰Œå­˜å‚¨ï¼‰


# å®¢æœä¸­å¿ƒåŠŸèƒ½æ£€æŸ¥æŠ¥å‘Š

## æ£€æŸ¥æ—¶é—´
2024å¹´12æœˆ

## ä¸€ã€API ç«¯ç‚¹æ£€æŸ¥ âœ…

### 1.1 ç”¨æˆ·ç«¯ API ç«¯ç‚¹ï¼ˆiOS ä½¿ç”¨ï¼‰

| iOS ç«¯ç‚¹ | åç«¯ç«¯ç‚¹ | HTTPæ–¹æ³• | çŠ¶æ€ | è¯´æ˜ |
|---------|---------|---------|------|------|
| `/api/users/user/customer-service/assign` | `/api/users/user/customer-service/assign` | POST | âœ… åŒ¹é… | åˆ†é…æˆ–è·å–å®¢æœä¼šè¯ |
| `/api/users/user/customer-service/chats` | `/api/users/user/customer-service/chats` | GET | âœ… åŒ¹é… | è·å–ç”¨æˆ·çš„å®¢æœä¼šè¯åˆ—è¡¨ |
| `/api/users/user/customer-service/chats/{chatId}/messages` | `/api/users/user/customer-service/chats/{chat_id}/messages` | GET | âœ… åŒ¹é… | è·å–å®¢æœä¼šè¯æ¶ˆæ¯ |
| `/api/users/user/customer-service/chats/{chatId}/messages` | `/api/users/user/customer-service/chats/{chat_id}/messages` | POST | âœ… åŒ¹é… | å‘é€å®¢æœæ¶ˆæ¯ |
| `/api/users/user/customer-service/chats/{chatId}/end` | `/api/users/user/customer-service/chats/{chat_id}/end` | POST | âœ… åŒ¹é… | ç»“æŸå®¢æœå¯¹è¯ |
| `/api/users/user/customer-service/chats/{chatId}/rate` | `/api/users/user/customer-service/chats/{chat_id}/rate` | POST | âœ… åŒ¹é… | å¯¹å®¢æœè¿›è¡Œè¯„åˆ† |
| `/api/users/user/customer-service/queue-status` | `/api/users/user/customer-service/queue-status` | GET | âœ… åŒ¹é… | è·å–å®¢æœæ’é˜ŸçŠ¶æ€ |

**çŠ¶æ€**: âœ… æ‰€æœ‰ç”¨æˆ·ç«¯ API ç«¯ç‚¹å®Œå…¨åŒ¹é…

### 1.2 è·¯ç”±æ³¨å†ŒéªŒè¯

- **åç«¯è·¯ç”±æ–‡ä»¶**: `routers.py`
- **Router æ³¨å†Œ**: `app.include_router(user_router, prefix="/api/users", tags=["users"])`
- **å®Œæ•´è·¯å¾„**: `/api/users` + `/user/customer-service/...` = `/api/users/user/customer-service/...`
- **çŠ¶æ€**: âœ… è·¯å¾„åŒ¹é…æ­£ç¡®

## äºŒã€æ•°æ®æ¨¡å‹æ£€æŸ¥ âœ…

### 2.1 iOS æ•°æ®æ¨¡å‹ (`Models/CustomerService.swift`)

#### CustomerServiceAssignResponse
```swift
struct CustomerServiceAssignResponse: Codable {
    let service: CustomerServiceInfo?
    let chat: CustomerServiceChat?
    let error: String?
    let message: String?
    let queueStatus: CustomerServiceQueueStatus?
    let systemMessage: SystemMessage?
}
```
- âœ… å­—æ®µæ˜ å°„æ­£ç¡®ï¼ˆä½¿ç”¨ `CodingKeys` å¤„ç† snake_caseï¼‰
- âœ… æ”¯æŒå¯é€‰å­—æ®µï¼ˆå¤„ç†æ’é˜Ÿæƒ…å†µï¼‰

#### CustomerServiceInfo
```swift
struct CustomerServiceInfo: Codable {
    let id: String
    let name: String
    let avatar: String?
    let avgRating: Double?
    let totalRatings: Int?
}
```
- âœ… å­—æ®µæ˜ å°„æ­£ç¡®

#### CustomerServiceChat
```swift
struct CustomerServiceChat: Codable, Identifiable {
    let chatId: String
    let userId: String
    let serviceId: String
    let isEnded: Int
    let createdAt: String?
    let totalMessages: Int?
}
```
- âœ… å­—æ®µæ˜ å°„æ­£ç¡®
- âœ… å®ç°äº† `Identifiable` åè®®

#### CustomerServiceMessage
```swift
struct CustomerServiceMessage: Codable, Identifiable {
    let messageId: Int?
    let chatId: String?
    let senderId: String?
    let senderType: String? // "user" æˆ– "customer_service"
    let content: String
    let messageType: String?
    let taskId: Int?
    let imageId: String?
    let createdAt: String?
    let isRead: Bool?
}
```
- âœ… å­—æ®µæ˜ å°„æ­£ç¡®
- âœ… è‡ªå®šä¹‰ `init(from decoder:)` å¤„ç† `is_read` çš„æ•´æ•°/å¸ƒå°”å€¼è½¬æ¢
- âœ… å®ç°äº† `Identifiable` åè®®ï¼Œå¤„ç†äº† `id` å¯èƒ½ä¸ºæ•´æ•°æˆ–å­—ç¬¦ä¸²çš„æƒ…å†µ

#### CustomerServiceQueueStatus
```swift
struct CustomerServiceQueueStatus: Codable {
    let position: Int?
    let estimatedWaitTime: Int?
    let status: String?
}
```
- âœ… å­—æ®µæ˜ å°„æ­£ç¡®

**çŠ¶æ€**: âœ… æ‰€æœ‰æ•°æ®æ¨¡å‹å®šä¹‰æ­£ç¡®ï¼Œå­—æ®µæ˜ å°„å®Œæ•´

## ä¸‰ã€åŠŸèƒ½å®ç°æ£€æŸ¥ âœ…

### 3.1 è¿æ¥å®¢æœåŠŸèƒ½ (`connectToService`)

**å®ç°ä½ç½®**: `CustomerServiceViewModel.swift`

**åŠŸèƒ½æµç¨‹**:
1. âœ… æ£€æŸ¥ç™»å½•çŠ¶æ€ï¼ˆéªŒè¯ Session IDï¼‰
2. âœ… è°ƒç”¨ `assignCustomerService()` API
3. âœ… å¤„ç†å“åº”ï¼š
   - æˆåŠŸåˆ†é…ï¼šä¿å­˜ `chat` å’Œ `service`ï¼ŒåŠ è½½æ¶ˆæ¯
   - æ’é˜ŸçŠ¶æ€ï¼šä¿å­˜ `queueStatus`ï¼Œæ˜¾ç¤ºæ’é˜Ÿä¿¡æ¯
   - é”™è¯¯ï¼šæ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
4. âœ… é”™è¯¯å¤„ç†ï¼šåŒºåˆ† 401ã€å…¶ä»–é”™è¯¯ç±»å‹

**çŠ¶æ€**: âœ… åŠŸèƒ½å®ç°å®Œæ•´

### 3.2 åŠ è½½æ¶ˆæ¯åŠŸèƒ½ (`loadMessages`)

**å®ç°ä½ç½®**: `CustomerServiceViewModel.swift`

**åŠŸèƒ½æµç¨‹**:
1. âœ… éªŒè¯ `chatId` å­˜åœ¨
2. âœ… è°ƒç”¨ `getCustomerServiceMessages(chatId:)` API
3. âœ… æŒ‰æ—¶é—´æ’åºæ¶ˆæ¯
4. âœ… é”™è¯¯å¤„ç†

**çŠ¶æ€**: âœ… åŠŸèƒ½å®ç°å®Œæ•´

### 3.3 å‘é€æ¶ˆæ¯åŠŸèƒ½ (`sendMessage`)

**å®ç°ä½ç½®**: `CustomerServiceViewModel.swift`

**åŠŸèƒ½æµç¨‹**:
1. âœ… æ£€æŸ¥æ˜¯å¦æ­£åœ¨å‘é€ï¼ˆé˜²æ­¢é‡å¤å‘é€ï¼‰
2. âœ… éªŒè¯ `chatId` å­˜åœ¨
3. âœ… éªŒè¯å¯¹è¯æœªç»“æŸï¼ˆ`isEnded != 1`ï¼‰
4. âœ… è°ƒç”¨ `sendCustomerServiceMessage(chatId:content:)` API
5. âœ… æˆåŠŸåæ·»åŠ åˆ°æ¶ˆæ¯åˆ—è¡¨å¹¶æ’åº
6. âœ… é”™è¯¯å¤„ç†

**çŠ¶æ€**: âœ… åŠŸèƒ½å®ç°å®Œæ•´

### 3.4 ç»“æŸå¯¹è¯åŠŸèƒ½ (`endChat`)

**å®ç°ä½ç½®**: `CustomerServiceViewModel.swift`

**åŠŸèƒ½æµç¨‹**:
1. âœ… éªŒè¯ `chatId` å­˜åœ¨
2. âœ… è°ƒç”¨ `endCustomerServiceChat(chatId:)` API
3. âœ… æˆåŠŸåæ¸…ç©º `chat`ã€`service`ã€`messages`
4. âœ… é”™è¯¯å¤„ç†

**çŠ¶æ€**: âœ… åŠŸèƒ½å®ç°å®Œæ•´

### 3.5 è¯„åˆ†åŠŸèƒ½ (`rateService`)

**å®ç°ä½ç½®**: `CustomerServiceViewModel.swift`

**åŠŸèƒ½æµç¨‹**:
1. âœ… éªŒè¯ `chatId` å­˜åœ¨
2. âœ… è°ƒç”¨ `rateCustomerService(chatId:rating:comment:)` API
3. âœ… é”™è¯¯å¤„ç†

**æ³¨æ„**: âš ï¸ iOS ç«¯å®ç°äº†è¯„åˆ†åŠŸèƒ½ï¼Œä½† UI ä¸­å¯èƒ½æœªæ˜¾ç¤ºè¯„åˆ†ç•Œé¢

**çŠ¶æ€**: âœ… åŠŸèƒ½å®ç°å®Œæ•´ï¼ˆä½† UI å¯èƒ½éœ€è¦è¡¥å……ï¼‰

### 3.6 è·å–æ’é˜ŸçŠ¶æ€åŠŸèƒ½ (`getQueueStatus`)

**å®ç°ä½ç½®**: `CustomerServiceViewModel.swift`

**åŠŸèƒ½æµç¨‹**:
1. âœ… è°ƒç”¨ `getCustomerServiceQueueStatus()` API
2. âœ… ä¿å­˜æ’é˜ŸçŠ¶æ€
3. âœ… é”™è¯¯å¤„ç†

**çŠ¶æ€**: âœ… åŠŸèƒ½å®ç°å®Œæ•´

## å››ã€UI å®ç°æ£€æŸ¥ âœ…

### 4.1 ä¸»ç•Œé¢ (`CustomerServiceView.swift`)

**åŠŸèƒ½**:
1. âœ… æœªè¿æ¥çŠ¶æ€ï¼šæ˜¾ç¤ºè¿æ¥æŒ‰é’®å’Œé”™è¯¯ä¿¡æ¯
2. âœ… è¿æ¥ä¸­çŠ¶æ€ï¼šæ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
3. âœ… å·²è¿æ¥çŠ¶æ€ï¼šæ˜¾ç¤ºèŠå¤©ç•Œé¢
4. âœ… æ’é˜ŸçŠ¶æ€æ˜¾ç¤ºï¼šæ˜¾ç¤ºæ’é˜Ÿä½ç½®å’Œé¢„è®¡ç­‰å¾…æ—¶é—´
5. âœ… æ¶ˆæ¯åˆ—è¡¨ï¼šä½¿ç”¨ `ScrollView` + `LazyVStack`
6. âœ… è¾“å…¥æ¡†ï¼šæ”¯æŒå¤šè¡Œè¾“å…¥ï¼ˆ1-4è¡Œï¼‰
7. âœ… å‘é€æŒ‰é’®ï¼šç¦ç”¨çŠ¶æ€å¤„ç†
8. âœ… ç»“æŸå¯¹è¯æŒ‰é’®ï¼šåœ¨å·¥å…·æ ä¸­æ˜¾ç¤º
9. âœ… é”®ç›˜å¤„ç†ï¼šè‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
10. âœ… ä¸‹æ‹‰åˆ·æ–°ï¼šæ”¯æŒåˆ·æ–°æ¶ˆæ¯

**çŠ¶æ€**: âœ… UI å®ç°å®Œæ•´

### 4.2 æ¶ˆæ¯æ°”æ³¡ (`CustomerServiceMessageBubble`)

**åŠŸèƒ½**:
1. âœ… åŒºåˆ†ç”¨æˆ·æ¶ˆæ¯å’Œå®¢æœæ¶ˆæ¯ï¼ˆé€šè¿‡ `senderType`ï¼‰
2. âœ… ç”¨æˆ·æ¶ˆæ¯ï¼šå³å¯¹é½ï¼Œæ¸å˜èƒŒæ™¯
3. âœ… å®¢æœæ¶ˆæ¯ï¼šå·¦å¯¹é½ï¼Œå¡ç‰‡èƒŒæ™¯
4. âœ… æ—¶é—´æ˜¾ç¤ºï¼šæ ¼å¼åŒ–æ—¶é—´æˆ³
5. âœ… æœ€å¤§å®½åº¦é™åˆ¶ï¼š75% å±å¹•å®½åº¦

**çŠ¶æ€**: âœ… UI å®ç°å®Œæ•´

### 4.3 æ¬¢è¿æ¶ˆæ¯ (`WelcomeMessageBubble`)

**åŠŸèƒ½**:
1. âœ… æ˜¾ç¤ºå®¢æœåç§°
2. âœ… æ˜¾ç¤ºæ¬¢è¿æ–‡æœ¬
3. âœ… æ ·å¼ï¼šæµ…è‰²èƒŒæ™¯ï¼Œåœ†è§’

**çŠ¶æ€**: âœ… UI å®ç°å®Œæ•´

## äº”ã€é”™è¯¯å¤„ç†æ£€æŸ¥ âœ…

### 5.1 é”™è¯¯ç±»å‹å¤„ç†

1. âœ… **401 æœªæˆæƒ**ï¼šæ˜¾ç¤º"ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"
2. âœ… **å…¶ä»– API é”™è¯¯**ï¼šä½¿ç”¨ `ErrorHandler` ç»Ÿä¸€å¤„ç†
3. âœ… **ç½‘ç»œé”™è¯¯**ï¼šæ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
4. âœ… **å“åº”æ ¼å¼é”™è¯¯**ï¼šæ˜¾ç¤º"æœªçŸ¥é”™è¯¯"

### 5.2 é”™è¯¯æ˜¾ç¤º

1. âœ… é”™è¯¯æ¶ˆæ¯æ˜¾ç¤ºåœ¨ç•Œé¢é¡¶éƒ¨
2. âœ… æ’é˜ŸçŠ¶æ€æ˜¾ç¤ºæ’é˜Ÿä¿¡æ¯
3. âœ… ç©ºçŠ¶æ€æ˜¾ç¤ºå‹å¥½æç¤º

**çŠ¶æ€**: âœ… é”™è¯¯å¤„ç†å®Œå–„

## å…­ã€è®¤è¯æœºåˆ¶æ£€æŸ¥ âœ…

### 6.1 Session è®¤è¯

1. âœ… æ‰€æœ‰è¯·æ±‚ä½¿ç”¨ `X-Session-ID` headerï¼ˆåœ¨ `APIService` ä¸­è‡ªåŠ¨æ³¨å…¥ï¼‰
2. âœ… è¿æ¥å‰æ£€æŸ¥ Session ID æ˜¯å¦å­˜åœ¨
3. âœ… 401 é”™è¯¯å¤„ç†æ­£ç¡®

**çŠ¶æ€**: âœ… è®¤è¯æœºåˆ¶æ­£ç¡®

## ä¸ƒã€æ½œåœ¨é—®é¢˜ âš ï¸

### 7.1 è¯„åˆ†åŠŸèƒ½ UI ç¼ºå¤±

**é—®é¢˜**: 
- âœ… ViewModel ä¸­å®ç°äº† `rateService` æ–¹æ³•
- âš ï¸ UI ä¸­æœªæ‰¾åˆ°è¯„åˆ†ç•Œé¢æˆ–æŒ‰é’®

**å»ºè®®**: 
- åœ¨å¯¹è¯ç»“æŸåæ˜¾ç¤ºè¯„åˆ†ç•Œé¢
- æˆ–åœ¨è®¾ç½®ä¸­æ·»åŠ "è¯„ä»·å®¢æœ"åŠŸèƒ½

### 7.2 å®æ—¶æ¶ˆæ¯æ›´æ–°

**é—®é¢˜**: 
- âš ï¸ å½“å‰å®ç°éœ€è¦æ‰‹åŠ¨åˆ·æ–°æˆ–å‘é€æ¶ˆæ¯æ‰èƒ½çœ‹åˆ°æ–°æ¶ˆæ¯
- âš ï¸ æœªå®ç° WebSocket å®æ—¶æ¨é€

**å»ºè®®**: 
- è€ƒè™‘å®ç° WebSocket è¿æ¥ä»¥æ¥æ”¶å®æ—¶æ¶ˆæ¯
- æˆ–å®ç°è½®è¯¢æœºåˆ¶å®šæœŸæ£€æŸ¥æ–°æ¶ˆæ¯

### 7.3 æ¶ˆæ¯æ’åº

**é—®é¢˜**: 
- âœ… æ¶ˆæ¯æŒ‰æ—¶é—´æ’åº
- âš ï¸ ä½¿ç”¨å­—ç¬¦ä¸²æ¯”è¾ƒæ—¶é—´ï¼ˆ`time1 < time2`ï¼‰ï¼Œå¯èƒ½ä¸å‡†ç¡®

**å»ºè®®**: 
- ä½¿ç”¨ `Date` å¯¹è±¡è¿›è¡Œæ¯”è¾ƒ
- æˆ–ç¡®ä¿æ—¶é—´å­—ç¬¦ä¸²æ ¼å¼ç»Ÿä¸€ï¼ˆISO 8601ï¼‰

### 7.4 å¯¹è¯å†å²

**é—®é¢˜**: 
- âœ… å®ç°äº† `getCustomerServiceChats()` æ–¹æ³•
- âš ï¸ UI ä¸­æœªæ˜¾ç¤ºå¯¹è¯å†å²åˆ—è¡¨

**å»ºè®®**: 
- åœ¨å®¢æœä¸­å¿ƒä¸»ç•Œé¢æ˜¾ç¤ºå†å²å¯¹è¯åˆ—è¡¨
- å…è®¸ç”¨æˆ·æŸ¥çœ‹å’Œæ¢å¤ä¹‹å‰çš„å¯¹è¯

## å…«ã€åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥

### 8.1 æ ¸å¿ƒåŠŸèƒ½ âœ…

- âœ… è¿æ¥å®¢æœ
- âœ… å‘é€æ¶ˆæ¯
- âœ… æ¥æ”¶æ¶ˆæ¯
- âœ… ç»“æŸå¯¹è¯
- âœ… æ’é˜ŸçŠ¶æ€æ˜¾ç¤º
- âœ… é”™è¯¯å¤„ç†

### 8.2 è¾…åŠ©åŠŸèƒ½ âš ï¸

- âœ… è¯„åˆ†åŠŸèƒ½ï¼ˆAPI å·²å®ç°ï¼ŒUI å¾…è¡¥å……ï¼‰
- âš ï¸ å¯¹è¯å†å²ï¼ˆAPI å·²å®ç°ï¼ŒUI å¾…è¡¥å……ï¼‰
- âš ï¸ å®æ—¶æ¶ˆæ¯æ¨é€ï¼ˆæœªå®ç°ï¼‰

## ä¹ã€ä»£ç è´¨é‡æ£€æŸ¥ âœ…

### 9.1 ä»£ç ç»“æ„

- âœ… ViewModel å’Œ View åˆ†ç¦»æ¸…æ™°
- âœ… ä½¿ç”¨ Combine è¿›è¡Œå“åº”å¼ç¼–ç¨‹
- âœ… é”™è¯¯å¤„ç†ç»Ÿä¸€ä½¿ç”¨ `ErrorHandler`
- âœ… ä»£ç æ³¨é‡Šæ¸…æ™°

### 9.2 æ€§èƒ½ä¼˜åŒ–

- âœ… ä½¿ç”¨ `LazyVStack` ä¼˜åŒ–é•¿åˆ—è¡¨æ€§èƒ½
- âœ… æ¶ˆæ¯æ’åºåœ¨æ¥æ”¶åæ‰§è¡Œ
- âœ… é˜²æŠ–å¤„ç†æ»šåŠ¨åˆ°åº•éƒ¨

### 9.3 ç”¨æˆ·ä½“éªŒ

- âœ… åŠ è½½çŠ¶æ€æ˜¾ç¤º
- âœ… é”™è¯¯æç¤ºå‹å¥½
- âœ… é”®ç›˜è‡ªåŠ¨é¿è®©
- âœ… è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨

## åã€æ€»ç»“

### âœ… å®Œå…¨æ­£ç¡®çš„éƒ¨åˆ†

1. **API ç«¯ç‚¹**: æ‰€æœ‰ç«¯ç‚¹å®Œå…¨åŒ¹é…åç«¯
2. **æ•°æ®æ¨¡å‹**: å­—æ®µæ˜ å°„æ­£ç¡®ï¼Œæ”¯æŒå¯é€‰å€¼
3. **æ ¸å¿ƒåŠŸèƒ½**: è¿æ¥ã€å‘é€ã€æ¥æ”¶ã€ç»“æŸå¯¹è¯åŠŸèƒ½å®Œæ•´
4. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
5. **UI å®ç°**: ç•Œé¢å®Œæ•´ï¼Œç”¨æˆ·ä½“éªŒè‰¯å¥½
6. **è®¤è¯æœºåˆ¶**: Session è®¤è¯æ­£ç¡®å®ç°

### âš ï¸ éœ€è¦æ”¹è¿›çš„éƒ¨åˆ†

1. **è¯„åˆ†åŠŸèƒ½ UI**: API å·²å®ç°ï¼Œä½† UI ä¸­æœªæ˜¾ç¤ºè¯„åˆ†ç•Œé¢
2. **å¯¹è¯å†å²**: API å·²å®ç°ï¼Œä½† UI ä¸­æœªæ˜¾ç¤ºå†å²åˆ—è¡¨
3. **å®æ—¶æ¶ˆæ¯**: æœªå®ç° WebSocket å®æ—¶æ¨é€
4. **æ¶ˆæ¯æ’åº**: ä½¿ç”¨å­—ç¬¦ä¸²æ¯”è¾ƒæ—¶é—´ï¼Œå»ºè®®ä½¿ç”¨ Date å¯¹è±¡

### ğŸ“Š æ€»ä½“è¯„åˆ†

- **API å¯¹æ¥**: âœ… 100% (7/7 ç«¯ç‚¹åŒ¹é…)
- **æ•°æ®æ¨¡å‹**: âœ… 100% (æ‰€æœ‰å­—æ®µæ­£ç¡®æ˜ å°„)
- **æ ¸å¿ƒåŠŸèƒ½**: âœ… 100% (æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å®Œæ•´)
- **UI å®ç°**: âœ… 90% (ç¼ºå°‘è¯„åˆ†å’Œå†å²åˆ—è¡¨ UI)
- **é”™è¯¯å¤„ç†**: âœ… 100% (å®Œå–„çš„é”™è¯¯å¤„ç†)
- **ç”¨æˆ·ä½“éªŒ**: âœ… 95% (ä½“éªŒè‰¯å¥½ï¼Œç¼ºå°‘å®æ—¶æ¨é€)

**æ€»ä½“è¯„åˆ†**: âœ… **97%** - åŠŸèƒ½åŸºæœ¬å®Œæ•´ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨

## åä¸€ã€å»ºè®®

### é«˜ä¼˜å…ˆçº§

1. **æ·»åŠ è¯„åˆ† UI**: åœ¨å¯¹è¯ç»“æŸåæ˜¾ç¤ºè¯„åˆ†ç•Œé¢
2. **æ·»åŠ å¯¹è¯å†å²**: åœ¨å®¢æœä¸­å¿ƒä¸»ç•Œé¢æ˜¾ç¤ºå†å²å¯¹è¯åˆ—è¡¨
3. **æ”¹è¿›æ¶ˆæ¯æ’åº**: ä½¿ç”¨ `Date` å¯¹è±¡è¿›è¡Œæ—¶é—´æ¯”è¾ƒ

### ä¸­ä¼˜å…ˆçº§

1. **å®ç°å®æ—¶æ¶ˆæ¯æ¨é€**: ä½¿ç”¨ WebSocket æˆ–è½®è¯¢æœºåˆ¶
2. **æ·»åŠ æ¶ˆæ¯çŠ¶æ€**: æ˜¾ç¤ºæ¶ˆæ¯å·²è¯»/æœªè¯»çŠ¶æ€
3. **æ·»åŠ æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒå‘é€å›¾ç‰‡å’Œæ–‡ä»¶ï¼ˆåç«¯å·²æ”¯æŒï¼‰

### ä½ä¼˜å…ˆçº§

1. **æ·»åŠ æ¶ˆæ¯æœç´¢**: åœ¨å†å²å¯¹è¯ä¸­æœç´¢æ¶ˆæ¯
2. **æ·»åŠ æ¶ˆæ¯æ’¤å›**: æ”¯æŒæ’¤å›å·²å‘é€çš„æ¶ˆæ¯
3. **æ·»åŠ æ¶ˆæ¯è½¬å‘**: æ”¯æŒè½¬å‘æ¶ˆæ¯ç»™å…¶ä»–å®¢æœ

## ç»“è®º

âœ… **å®¢æœä¸­å¿ƒåŠŸèƒ½åŸºæœ¬å®Œæ•´ï¼ŒAPI å¯¹æ¥æ­£ç¡®ï¼Œæ ¸å¿ƒåŠŸèƒ½å¯ç”¨ã€‚**

ä¸»è¦åŠŸèƒ½ï¼ˆè¿æ¥ã€å‘é€ã€æ¥æ”¶ã€ç»“æŸå¯¹è¯ï¼‰éƒ½å·²æ­£ç¡®å®ç°ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚å»ºè®®è¡¥å……è¯„åˆ† UI å’Œå¯¹è¯å†å²åˆ—è¡¨ä»¥æå‡ç”¨æˆ·ä½“éªŒã€‚


{"version":3,"file":"static/js/883.7d60be68.chunk.js","mappings":"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","sources":["pages/admin/reports/ReportManagement.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { message } from 'antd';\r\nimport { useAdminTable } from '../../../hooks';\r\nimport { AdminTable, AdminPagination, StatusBadge, Column } from '../../../components/admin';\r\nimport { getForumReports, processForumReport, getFleaMarketReports, processFleaMarketReport } from '../../../api';\r\nimport { getErrorMessage } from '../../../utils/errorHandler';\r\n\r\ntype SubTab = 'forum' | 'flea_market';\r\n\r\ninterface ForumReport {\r\n  id: number;\r\n  target_type: 'post' | 'reply' | string;\r\n  target_id: number;\r\n  reason: string;\r\n  description?: string;\r\n  status: 'pending' | 'processed' | 'rejected' | 'reviewing' | 'resolved' | string;\r\n  reporter_id?: number;\r\n  reporter_name?: string;\r\n  created_at?: string;\r\n}\r\n\r\ninterface FleaReport {\r\n  id: number;\r\n  item_id: number;\r\n  item_title?: string;\r\n  reason: string;\r\n  description?: string;\r\n  status: 'pending' | 'resolved' | 'rejected' | string;\r\n  reporter_id?: number;\r\n  reporter_name?: string;\r\n  created_at?: string;\r\n}\r\n\r\nconst reportStatusMap: Record<string, { text: string; variant: 'warning' | 'success' | 'danger' | 'info' }> = {\r\n  pending: { text: '待处理', variant: 'warning' },\r\n  processed: { text: '已处理', variant: 'success' },\r\n  rejected: { text: '已拒绝', variant: 'danger' },\r\n  reviewing: { text: '审核中', variant: 'info' },\r\n  resolved: { text: '已解决', variant: 'success' },\r\n};\r\n\r\n/**\r\n * 举报管理组件\r\n * 管理论坛和跳蚤市场的举报\r\n */\r\nconst ReportManagement: React.FC = () => {\r\n  const [subTab, setSubTab] = useState<SubTab>('forum');\r\n\r\n  // 论坛举报表格\r\n  const forumTable = useAdminTable<ForumReport>({\r\n    fetchData: useCallback(async ({ page, pageSize, filters }: { page: number; pageSize: number; filters?: Record<string, any> }) => {\r\n      const res = await getForumReports({\r\n        status_filter: filters?.status || undefined,\r\n        page,\r\n        page_size: pageSize\r\n      });\r\n      return { data: res.reports || res.items || [], total: res.total || 0 };\r\n    }, []),\r\n    initialPageSize: 20,\r\n    onError: useCallback((err: any) => message.error(getErrorMessage(err)), []),\r\n  });\r\n\r\n  // 跳蚤市场举报表格\r\n  const fleaTable = useAdminTable<FleaReport>({\r\n    fetchData: useCallback(async ({ page, pageSize, filters }: { page: number; pageSize: number; filters?: Record<string, any> }) => {\r\n      const res = await getFleaMarketReports({\r\n        status_filter: filters?.status || undefined,\r\n        page,\r\n        page_size: pageSize\r\n      });\r\n      return { data: res.reports || res.items || [], total: res.total || 0 };\r\n    }, []),\r\n    initialPageSize: 20,\r\n    onError: useCallback((err: any) => message.error(getErrorMessage(err)), []),\r\n  });\r\n\r\n  const handleProcessForumReport = async (reportId: number, status: 'processed' | 'rejected', action?: string) => {\r\n    try {\r\n      await processForumReport(reportId, { status, action });\r\n      message.success('举报处理成功');\r\n      forumTable.refresh();\r\n    } catch (error: any) {\r\n      message.error(getErrorMessage(error));\r\n    }\r\n  };\r\n\r\n  const handleProcessFleaReport = async (reportId: number, status: 'resolved' | 'rejected') => {\r\n    try {\r\n      await processFleaMarketReport(reportId, { status });\r\n      message.success('举报处理成功');\r\n      fleaTable.refresh();\r\n    } catch (error: any) {\r\n      message.error(getErrorMessage(error));\r\n    }\r\n  };\r\n\r\n  const handleStatusFilterChange = (value: string) => {\r\n    if (subTab === 'forum') {\r\n      forumTable.setFilters({ status: value || undefined });\r\n    } else {\r\n      fleaTable.setFilters({ status: value || undefined });\r\n    }\r\n  };\r\n\r\n  const currentStatusFilter = subTab === 'forum'\r\n    ? (forumTable.filters?.status || '')\r\n    : (fleaTable.filters?.status || '');\r\n\r\n  const forumColumns: Column<ForumReport>[] = [\r\n    {\r\n      key: 'id',\r\n      title: 'ID',\r\n      dataIndex: 'id',\r\n      width: 80,\r\n    },\r\n    {\r\n      key: 'target_type',\r\n      title: '类型',\r\n      dataIndex: 'target_type',\r\n      width: 100,\r\n      render: (value) => value === 'post' ? '帖子' : '回复',\r\n    },\r\n    {\r\n      key: 'target_id',\r\n      title: '目标ID',\r\n      dataIndex: 'target_id',\r\n      width: 100,\r\n    },\r\n    {\r\n      key: 'reason',\r\n      title: '举报原因',\r\n      dataIndex: 'reason',\r\n      width: 150,\r\n    },\r\n    {\r\n      key: 'description',\r\n      title: '描述',\r\n      dataIndex: 'description',\r\n      width: 200,\r\n      render: (value) => (\r\n        <span style={{ maxWidth: 200, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', display: 'block' }}>\r\n          {value || '-'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: '状态',\r\n      dataIndex: 'status',\r\n      width: 100,\r\n      render: (value) => {\r\n        const config = reportStatusMap[value] || { text: value, variant: 'default' as const };\r\n        return <StatusBadge text={config.text} variant={config.variant} />;\r\n      },\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: '操作',\r\n      width: 150,\r\n      render: (_, record) => (\r\n        record.status === 'pending' ? (\r\n          <div style={{ display: 'flex', gap: '8px' }}>\r\n            <button\r\n              onClick={() => handleProcessForumReport(record.id, 'processed')}\r\n              style={{ padding: '4px 8px', border: 'none', background: '#28a745', color: 'white', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}\r\n            >\r\n              处理\r\n            </button>\r\n            <button\r\n              onClick={() => handleProcessForumReport(record.id, 'rejected')}\r\n              style={{ padding: '4px 8px', border: 'none', background: '#dc3545', color: 'white', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}\r\n            >\r\n              拒绝\r\n            </button>\r\n          </div>\r\n        ) : null\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const fleaColumns: Column<FleaReport>[] = [\r\n    {\r\n      key: 'id',\r\n      title: 'ID',\r\n      dataIndex: 'id',\r\n      width: 80,\r\n    },\r\n    {\r\n      key: 'item_id',\r\n      title: '商品ID',\r\n      dataIndex: 'item_id',\r\n      width: 100,\r\n    },\r\n    {\r\n      key: 'item_title',\r\n      title: '商品标题',\r\n      dataIndex: 'item_title',\r\n      width: 200,\r\n      render: (value) => (\r\n        <span style={{ maxWidth: 200, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', display: 'block' }}>\r\n          {value || '-'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'reason',\r\n      title: '举报原因',\r\n      dataIndex: 'reason',\r\n      width: 150,\r\n    },\r\n    {\r\n      key: 'description',\r\n      title: '描述',\r\n      dataIndex: 'description',\r\n      width: 200,\r\n      render: (value) => (\r\n        <span style={{ maxWidth: 200, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', display: 'block' }}>\r\n          {value || '-'}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: '状态',\r\n      dataIndex: 'status',\r\n      width: 100,\r\n      render: (value) => {\r\n        const config = reportStatusMap[value] || { text: value, variant: 'default' as const };\r\n        return <StatusBadge text={config.text} variant={config.variant} />;\r\n      },\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: '操作',\r\n      width: 150,\r\n      render: (_, record) => (\r\n        record.status === 'pending' ? (\r\n          <div style={{ display: 'flex', gap: '8px' }}>\r\n            <button\r\n              onClick={() => handleProcessFleaReport(record.id, 'resolved')}\r\n              style={{ padding: '4px 8px', border: 'none', background: '#28a745', color: 'white', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}\r\n            >\r\n              处理\r\n            </button>\r\n            <button\r\n              onClick={() => handleProcessFleaReport(record.id, 'rejected')}\r\n              style={{ padding: '4px 8px', border: 'none', background: '#dc3545', color: 'white', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}\r\n            >\r\n              拒绝\r\n            </button>\r\n          </div>\r\n        ) : null\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const activeTable = subTab === 'forum' ? forumTable : fleaTable;\r\n\r\n  return (\r\n    <div>\r\n      <h2 style={{ marginBottom: '20px' }}>举报管理</h2>\r\n\r\n      {/* 子标签页 */}\r\n      <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\r\n        <button\r\n          onClick={() => setSubTab('forum')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            border: 'none',\r\n            background: subTab === 'forum' ? '#007bff' : '#f0f0f0',\r\n            color: subTab === 'forum' ? 'white' : 'black',\r\n            cursor: 'pointer',\r\n            borderRadius: '5px',\r\n            fontSize: '14px',\r\n            fontWeight: '500'\r\n          }}\r\n        >\r\n          论坛举报\r\n        </button>\r\n        <button\r\n          onClick={() => setSubTab('flea_market')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            border: 'none',\r\n            background: subTab === 'flea_market' ? '#007bff' : '#f0f0f0',\r\n            color: subTab === 'flea_market' ? 'white' : 'black',\r\n            cursor: 'pointer',\r\n            borderRadius: '5px',\r\n            fontSize: '14px',\r\n            fontWeight: '500'\r\n          }}\r\n        >\r\n          商品举报\r\n        </button>\r\n      </div>\r\n\r\n      {/* 筛选 */}\r\n      <div style={{ background: 'white', padding: '16px', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', marginBottom: '20px' }}>\r\n        <select\r\n          value={currentStatusFilter}\r\n          onChange={(e) => handleStatusFilterChange(e.target.value)}\r\n          style={{ padding: '8px', borderRadius: '4px', border: '1px solid #ddd' }}\r\n        >\r\n          <option value=\"\">全部状态</option>\r\n          <option value=\"pending\">待处理</option>\r\n          <option value={subTab === 'forum' ? 'processed' : 'resolved'}>\r\n            {subTab === 'forum' ? '已处理' : '已解决'}\r\n          </option>\r\n          <option value=\"rejected\">已拒绝</option>\r\n        </select>\r\n        <button\r\n          onClick={() => activeTable.refresh()}\r\n          style={{ marginLeft: '10px', padding: '8px 16px', border: 'none', background: '#007bff', color: 'white', borderRadius: '4px', cursor: 'pointer' }}\r\n        >\r\n          刷新\r\n        </button>\r\n      </div>\r\n\r\n      {/* 内容 */}\r\n      {subTab === 'forum' ? (\r\n        <>\r\n          <AdminTable\r\n            columns={forumColumns}\r\n            data={forumTable.data}\r\n            loading={forumTable.loading}\r\n            rowKey=\"id\"\r\n            emptyText=\"暂无举报\"\r\n          />\r\n          <AdminPagination\r\n            currentPage={forumTable.currentPage}\r\n            totalPages={forumTable.totalPages}\r\n            total={forumTable.total}\r\n            pageSize={forumTable.pageSize}\r\n            onPageChange={forumTable.setCurrentPage}\r\n            onPageSizeChange={forumTable.setPageSize}\r\n          />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <AdminTable\r\n            columns={fleaColumns}\r\n            data={fleaTable.data}\r\n            loading={fleaTable.loading}\r\n            rowKey=\"id\"\r\n            emptyText=\"暂无举报\"\r\n          />\r\n          <AdminPagination\r\n            currentPage={fleaTable.currentPage}\r\n            totalPages={fleaTable.totalPages}\r\n            total={fleaTable.total}\r\n            pageSize={fleaTable.pageSize}\r\n            onPageChange={fleaTable.setCurrentPage}\r\n            onPageSizeChange={fleaTable.setPageSize}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportManagement;\r\n"],"names":["reportStatusMap","pending","text","variant","processed","rejected","reviewing","resolved","ReportManagement","_forumTable$filters","_fleaTable$filters","subTab","setSubTab","useState","forumTable","useAdminTable","fetchData","useCallback","async","page","pageSize","filters","_ref","res","getForumReports","status_filter","status","undefined","page_size","data","reports","items","total","initialPageSize","onError","err","message","error","getErrorMessage","fleaTable","_ref2","getFleaMarketReports","handleProcessForumReport","reportId","action","processForumReport","success","refresh","handleProcessFleaReport","processFleaMarketReport","currentStatusFilter","forumColumns","key","title","dataIndex","width","render","value","_jsx","style","maxWidth","overflow","textOverflow","whiteSpace","display","children","config","StatusBadge","_","record","_jsxs","gap","onClick","id","padding","border","background","color","borderRadius","cursor","fontSize","fleaColumns","activeTable","marginBottom","fontWeight","boxShadow","onChange","e","handleStatusFilterChange","target","setFilters","marginLeft","_Fragment","AdminTable","columns","loading","rowKey","emptyText","AdminPagination","currentPage","totalPages","onPageChange","setCurrentPage","onPageSizeChange","setPageSize"],"sourceRoot":""}
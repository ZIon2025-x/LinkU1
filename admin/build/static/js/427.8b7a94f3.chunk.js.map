{"version":3,"file":"static/js/427.8b7a94f3.chunk.js","mappings":"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","sources":["webpack://linku-admin/./src/components/admin/AdminTable.module.css?fb0d","components/admin/AdminTable.tsx","webpack://linku-admin/./src/components/admin/AdminModal.module.css?84f4","components/admin/AdminModal.tsx","webpack://linku-admin/./src/components/admin/AdminPagination.module.css?95b0","components/admin/AdminPagination.tsx","webpack://linku-admin/./src/components/admin/StatusBadge.module.css?3440","components/admin/StatusBadge.tsx","hooks/useAdminTable.ts","hooks/useModalForm.ts","utils/errorHandler.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"tableContainer\":\"AdminTable_tableContainer__e9H15\",\"tableWrapper\":\"AdminTable_tableWrapper__osoA3\",\"table\":\"AdminTable_table__hhQ-v\",\"bordered\":\"AdminTable_bordered__m1Il7\",\"thead\":\"AdminTable_thead__Ki2z-\",\"sorterIcon\":\"AdminTable_sorterIcon__u-RwK\",\"tbody\":\"AdminTable_tbody__NG2FT\",\"striped\":\"AdminTable_striped__9diyj\",\"hoverable\":\"AdminTable_hoverable__sARgT\",\"clickable\":\"AdminTable_clickable__aG37b\",\"emptyCell\":\"AdminTable_emptyCell__GSjjO\",\"loadingOverlay\":\"AdminTable_loadingOverlay__YE-In\",\"spinner\":\"AdminTable_spinner__SEu1I\",\"fixed-left\":\"AdminTable_fixed-left__2+R8Z\",\"fixed-right\":\"AdminTable_fixed-right__rVHZ9\"};","import React, { ReactNode } from 'react';\r\nimport styles from './AdminTable.module.css';\r\n\r\nexport interface Column<T> {\r\n  key: string;\r\n  title: string;\r\n  dataIndex?: keyof T;\r\n  width?: string | number;\r\n  align?: 'left' | 'center' | 'right';\r\n  render?: (value: any, record: T, index: number) => ReactNode;\r\n  sorter?: boolean;\r\n  fixed?: 'left' | 'right';\r\n}\r\n\r\nexport interface AdminTableProps<T> {\r\n  columns: Column<T>[];\r\n  data: T[];\r\n  loading?: boolean;\r\n  rowKey?: keyof T | ((record: T) => string | number);\r\n  onRowClick?: (record: T) => void;\r\n  emptyText?: string;\r\n  className?: string;\r\n  maxHeight?: string | number;\r\n  striped?: boolean;\r\n  hoverable?: boolean;\r\n  bordered?: boolean;\r\n}\r\n\r\n/**\r\n * 通用管理后台表格组件\r\n * 支持自定义列、排序、固定列等功能\r\n */\r\nexport function AdminTable<T extends Record<string, any>>({\r\n  columns,\r\n  data,\r\n  loading = false,\r\n  rowKey = 'id' as keyof T,\r\n  onRowClick,\r\n  emptyText = '暂无数据',\r\n  className = '',\r\n  maxHeight,\r\n  striped = true,\r\n  hoverable = true,\r\n  bordered = false,\r\n}: AdminTableProps<T>) {\r\n  const getRowKey = (record: T, index: number): string | number => {\r\n    if (typeof rowKey === 'function') {\r\n      return rowKey(record);\r\n    }\r\n    return record[rowKey] ?? index;\r\n  };\r\n\r\n  const renderCell = (column: Column<T>, record: T, index: number) => {\r\n    if (column.render) {\r\n      return column.render(\r\n        column.dataIndex ? record[column.dataIndex] : record,\r\n        record,\r\n        index\r\n      );\r\n    }\r\n    return column.dataIndex ? String(record[column.dataIndex] ?? '') : '';\r\n  };\r\n\r\n  const tableClasses = [\r\n    styles.table,\r\n    className,\r\n    striped && styles.striped,\r\n    hoverable && styles.hoverable,\r\n    bordered && styles.bordered,\r\n  ]\r\n    .filter(Boolean)\r\n    .join(' ');\r\n\r\n  return (\r\n    <div className={styles.tableContainer}>\r\n      {loading && (\r\n        <div className={styles.loadingOverlay}>\r\n          <div className={styles.spinner}>加载中...</div>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className={styles.tableWrapper}\r\n        style={maxHeight ? { maxHeight, overflowY: 'auto' } : undefined}\r\n      >\r\n        <table className={tableClasses}>\r\n          <thead className={styles.thead}>\r\n            <tr>\r\n              {columns.map((column) => (\r\n                <th\r\n                  key={column.key}\r\n                  style={{\r\n                    width: column.width,\r\n                    textAlign: column.align || 'left',\r\n                  }}\r\n                  className={column.fixed ? styles[`fixed-${column.fixed}`] : ''}\r\n                >\r\n                  {column.title}\r\n                  {column.sorter && (\r\n                    <span className={styles.sorterIcon}>⇅</span>\r\n                  )}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody className={styles.tbody}>\r\n            {data.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={columns.length} className={styles.emptyCell}>\r\n                  {emptyText}\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              data.map((record, index) => (\r\n                <tr\r\n                  key={getRowKey(record, index)}\r\n                  onClick={() => onRowClick?.(record)}\r\n                  className={onRowClick ? styles.clickable : ''}\r\n                >\r\n                  {columns.map((column) => (\r\n                    <td\r\n                      key={column.key}\r\n                      style={{\r\n                        width: column.width,\r\n                        textAlign: column.align || 'left',\r\n                      }}\r\n                      className={column.fixed ? styles[`fixed-${column.fixed}`] : ''}\r\n                    >\r\n                      {renderCell(column, record, index)}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              ))\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminTable;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"AdminModal_overlay__UVEsG\",\"fadeIn\":\"AdminModal_fadeIn__fQhBo\",\"modal\":\"AdminModal_modal__1xgs2\",\"slideUp\":\"AdminModal_slideUp__A5VY+\",\"header\":\"AdminModal_header__1SzRU\",\"title\":\"AdminModal_title__KQn5l\",\"closeButton\":\"AdminModal_closeButton__vi-3y\",\"content\":\"AdminModal_content__xazwp\",\"footer\":\"AdminModal_footer__kn3sT\"};","import React, { ReactNode, useEffect } from 'react';\r\nimport styles from './AdminModal.module.css';\r\n\r\nexport interface AdminModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: ReactNode;\r\n  footer?: ReactNode;\r\n  width?: string | number;\r\n  maxWidth?: string | number;\r\n  maxHeight?: string | number;\r\n  closeOnOverlayClick?: boolean;\r\n  showCloseButton?: boolean;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * 通用管理后台模态框组件\r\n * 支持自定义标题、内容、底部按钮等\r\n */\r\nexport const AdminModal: React.FC<AdminModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  footer,\r\n  width = '600px',\r\n  maxWidth = '90vw',\r\n  maxHeight = '90vh',\r\n  closeOnOverlayClick = true,\r\n  showCloseButton = true,\r\n  className = '',\r\n}) => {\r\n  // 禁止背景滚动\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = '';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // ESC键关闭\r\n  useEffect(() => {\r\n    const handleEsc = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleEsc);\r\n    return () => window.removeEventListener('keydown', handleEsc);\r\n  }, [isOpen, onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleOverlayClick = (e: React.MouseEvent) => {\r\n    if (e.target === e.currentTarget && closeOnOverlayClick) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.overlay} onClick={handleOverlayClick}>\r\n      <div\r\n        className={`${styles.modal} ${className}`}\r\n        style={{\r\n          width,\r\n          maxWidth,\r\n          maxHeight,\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        <div className={styles.header}>\r\n          <h2 className={styles.title}>{title}</h2>\r\n          {showCloseButton && (\r\n            <button\r\n              className={styles.closeButton}\r\n              onClick={onClose}\r\n              aria-label=\"关闭\"\r\n            >\r\n              ×\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className={styles.content}>{children}</div>\r\n\r\n        {/* Footer */}\r\n        {footer && <div className={styles.footer}>{footer}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"AdminPagination_pagination__x5SPp\",\"info\":\"AdminPagination_info__WB9of\",\"controls\":\"AdminPagination_controls__21UIb\",\"button\":\"AdminPagination_button__XpqdT\",\"pages\":\"AdminPagination_pages__LFsCJ\",\"pageButton\":\"AdminPagination_pageButton__uA0tr\",\"active\":\"AdminPagination_active__qxw0r\",\"ellipsis\":\"AdminPagination_ellipsis__6WkmC\",\"pageSizeSelector\":\"AdminPagination_pageSizeSelector__4ZdMP\",\"select\":\"AdminPagination_select__wsEeJ\"};","import React from 'react';\r\nimport styles from './AdminPagination.module.css';\r\n\r\nexport interface AdminPaginationProps {\r\n  currentPage: number;\r\n  totalPages: number;\r\n  total: number;\r\n  pageSize: number;\r\n  onPageChange: (page: number) => void;\r\n  onPageSizeChange?: (size: number) => void;\r\n  pageSizeOptions?: number[];\r\n  showPageSizeSelector?: boolean;\r\n  showTotal?: boolean;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * 通用管理后台分页组件\r\n */\r\nexport const AdminPagination: React.FC<AdminPaginationProps> = ({\r\n  currentPage,\r\n  totalPages,\r\n  total,\r\n  pageSize,\r\n  onPageChange,\r\n  onPageSizeChange,\r\n  pageSizeOptions = [10, 20, 50, 100],\r\n  showPageSizeSelector = true,\r\n  showTotal = true,\r\n  className = '',\r\n}) => {\r\n  const getPageNumbers = () => {\r\n    const pages: (number | string)[] = [];\r\n    const showPages = 5; // 最多显示5个页码\r\n\r\n    if (totalPages <= showPages + 2) {\r\n      // 如果总页数较少，显示所有页码\r\n      for (let i = 1; i <= totalPages; i++) {\r\n        pages.push(i);\r\n      }\r\n    } else {\r\n      // 总是显示第一页\r\n      pages.push(1);\r\n\r\n      // 计算中间页码范围\r\n      let start = Math.max(2, currentPage - 1);\r\n      let end = Math.min(totalPages - 1, currentPage + 1);\r\n\r\n      // 调整范围以保持显示5个页码\r\n      if (currentPage <= 3) {\r\n        end = Math.min(showPages, totalPages - 1);\r\n      } else if (currentPage >= totalPages - 2) {\r\n        start = Math.max(2, totalPages - showPages + 1);\r\n      }\r\n\r\n      // 添加省略号\r\n      if (start > 2) {\r\n        pages.push('...');\r\n      }\r\n\r\n      // 添加中间页码\r\n      for (let i = start; i <= end; i++) {\r\n        pages.push(i);\r\n      }\r\n\r\n      // 添加省略号\r\n      if (end < totalPages - 1) {\r\n        pages.push('...');\r\n      }\r\n\r\n      // 总是显示最后一页\r\n      pages.push(totalPages);\r\n    }\r\n\r\n    return pages;\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentPage > 1) {\r\n      onPageChange(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentPage < totalPages) {\r\n      onPageChange(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const handlePageClick = (page: number | string) => {\r\n    if (typeof page === 'number') {\r\n      onPageChange(page);\r\n    }\r\n  };\r\n\r\n  const startItem = (currentPage - 1) * pageSize + 1;\r\n  const endItem = Math.min(currentPage * pageSize, total);\r\n\r\n  return (\r\n    <div className={`${styles.pagination} ${className}`}>\r\n      {showTotal && (\r\n        <div className={styles.info}>\r\n          显示 {startItem} - {endItem} 条，共 {total} 条\r\n        </div>\r\n      )}\r\n\r\n      <div className={styles.controls}>\r\n        <button\r\n          className={styles.button}\r\n          onClick={handlePrevious}\r\n          disabled={currentPage === 1}\r\n        >\r\n          上一页\r\n        </button>\r\n\r\n        <div className={styles.pages}>\r\n          {getPageNumbers().map((page, index) => (\r\n            <button\r\n              key={index}\r\n              className={`${styles.pageButton} ${\r\n                page === currentPage ? styles.active : ''\r\n              } ${page === '...' ? styles.ellipsis : ''}`}\r\n              onClick={() => handlePageClick(page)}\r\n              disabled={page === '...'}\r\n            >\r\n              {page}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <button\r\n          className={styles.button}\r\n          onClick={handleNext}\r\n          disabled={currentPage === totalPages}\r\n        >\r\n          下一页\r\n        </button>\r\n      </div>\r\n\r\n      {showPageSizeSelector && onPageSizeChange && (\r\n        <div className={styles.pageSizeSelector}>\r\n          <label>每页显示：</label>\r\n          <select\r\n            value={pageSize}\r\n            onChange={(e) => onPageSizeChange(Number(e.target.value))}\r\n            className={styles.select}\r\n          >\r\n            {pageSizeOptions.map((size) => (\r\n              <option key={size} value={size}>\r\n                {size} 条\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPagination;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"badge\":\"StatusBadge_badge__0X9ju\",\"small\":\"StatusBadge_small__a8Kk0\",\"medium\":\"StatusBadge_medium__2KkP5\",\"large\":\"StatusBadge_large__7nFKg\",\"default\":\"StatusBadge_default__6Dt8l\",\"primary\":\"StatusBadge_primary__qaypb\",\"success\":\"StatusBadge_success__kTjlT\",\"warning\":\"StatusBadge_warning__z35Ej\",\"danger\":\"StatusBadge_danger__nuIo0\",\"info\":\"StatusBadge_info__hP1TS\",\"secondary\":\"StatusBadge_secondary__edMou\",\"dot\":\"StatusBadge_dot__ISbOJ\",\"pulse\":\"StatusBadge_pulse__P7tph\"};","import React from 'react';\r\nimport styles from './StatusBadge.module.css';\r\n\r\nexport type BadgeVariant =\r\n  | 'default'\r\n  | 'primary'\r\n  | 'success'\r\n  | 'warning'\r\n  | 'danger'\r\n  | 'info'\r\n  | 'secondary';\r\n\r\nexport interface StatusBadgeProps {\r\n  text: string;\r\n  variant?: BadgeVariant;\r\n  size?: 'small' | 'medium' | 'large';\r\n  dot?: boolean;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * 通用状态标签组件\r\n * 用于显示状态、类型等标识信息\r\n */\r\nexport const StatusBadge: React.FC<StatusBadgeProps> = ({\r\n  text,\r\n  variant = 'default',\r\n  size = 'medium',\r\n  dot = false,\r\n  className = '',\r\n}) => {\r\n  const badgeClasses = [\r\n    styles.badge,\r\n    styles[variant],\r\n    styles[size],\r\n    className,\r\n  ]\r\n    .filter(Boolean)\r\n    .join(' ');\r\n\r\n  return (\r\n    <span className={badgeClasses}>\r\n      {dot && <span className={styles.dot} />}\r\n      {text}\r\n    </span>\r\n  );\r\n};\r\n\r\n/**\r\n * 状态配置类型\r\n */\r\nexport interface StatusConfig {\r\n  text: string;\r\n  variant: BadgeVariant;\r\n  dot?: boolean;\r\n}\r\n\r\n/**\r\n * 预定义常用状态映射\r\n */\r\nexport const statusBadgeMap: Record<string, StatusConfig> = {\r\n  // 通用状态\r\n  active: { text: '启用', variant: 'success' as BadgeVariant, dot: false },\r\n  inactive: { text: '禁用', variant: 'secondary' as BadgeVariant, dot: false },\r\n  pending: { text: '待处理', variant: 'warning' as BadgeVariant, dot: false },\r\n  approved: { text: '已批准', variant: 'success' as BadgeVariant, dot: false },\r\n  rejected: { text: '已拒绝', variant: 'danger' as BadgeVariant, dot: false },\r\n\r\n  // 用户状态\r\n  online: { text: '在线', variant: 'success' as BadgeVariant, dot: true },\r\n  offline: { text: '离线', variant: 'secondary' as BadgeVariant, dot: true },\r\n  banned: { text: '已封禁', variant: 'danger' as BadgeVariant, dot: false },\r\n  suspended: { text: '已暂停', variant: 'warning' as BadgeVariant, dot: false },\r\n\r\n  // 任务/订单状态\r\n  open: { text: '进行中', variant: 'primary' as BadgeVariant, dot: false },\r\n  completed: { text: '已完成', variant: 'success' as BadgeVariant, dot: false },\r\n  cancelled: { text: '已取消', variant: 'secondary' as BadgeVariant, dot: false },\r\n\r\n  // 支付状态\r\n  paid: { text: '已支付', variant: 'success' as BadgeVariant, dot: false },\r\n  unpaid: { text: '未支付', variant: 'warning' as BadgeVariant, dot: false },\r\n  refunded: { text: '已退款', variant: 'info' as BadgeVariant, dot: false },\r\n\r\n  // 审核状态\r\n  reviewing: { text: '审核中', variant: 'warning' as BadgeVariant, dot: false },\r\n  passed: { text: '已通过', variant: 'success' as BadgeVariant, dot: false },\r\n  failed: { text: '未通过', variant: 'danger' as BadgeVariant, dot: false },\r\n};\r\n\r\n/**\r\n * 快捷状态标签组件\r\n * 自动根据状态值匹配颜色和文本\r\n */\r\nexport const StatusBadgeAuto: React.FC<{\r\n  status: keyof typeof statusBadgeMap | string;\r\n  className?: string;\r\n  size?: 'small' | 'medium' | 'large';\r\n}> = ({ status, className, size }) => {\r\n  const config = statusBadgeMap[status as keyof typeof statusBadgeMap] || {\r\n    text: status,\r\n    variant: 'default' as BadgeVariant,\r\n    dot: false,\r\n  };\r\n\r\n  return (\r\n    <StatusBadge\r\n      text={config.text}\r\n      variant={config.variant}\r\n      dot={config.dot}\r\n      size={size}\r\n      className={className}\r\n    />\r\n  );\r\n};\r\n\r\nexport default StatusBadge;\r\n","import { useState, useCallback, useEffect } from 'react';\r\n\r\nexport interface TableConfig<T> {\r\n  fetchData: (params: FetchParams) => Promise<{ data: T[]; total: number }>;\r\n  initialPageSize?: number;\r\n  onError?: (error: any) => void;\r\n}\r\n\r\nexport interface FetchParams {\r\n  page: number;\r\n  pageSize: number;\r\n  searchTerm?: string;\r\n  filters?: Record<string, any>;\r\n  sortField?: string;\r\n  sortOrder?: 'asc' | 'desc';\r\n}\r\n\r\nexport interface UseAdminTableReturn<T> {\r\n  data: T[];\r\n  loading: boolean;\r\n  currentPage: number;\r\n  pageSize: number;\r\n  total: number;\r\n  totalPages: number;\r\n  searchTerm: string;\r\n  filters: Record<string, any>;\r\n  sortField: string | undefined;\r\n  sortOrder: 'asc' | 'desc' | undefined;\r\n  setCurrentPage: (page: number) => void;\r\n  setPageSize: (size: number) => void;\r\n  setSearchTerm: (term: string) => void;\r\n  setFilters: (filters: Record<string, any>) => void;\r\n  setSorting: (field: string, order: 'asc' | 'desc') => void;\r\n  refresh: () => Promise<void>;\r\n  reset: () => void;\r\n}\r\n\r\n/**\r\n * 通用表格数据管理 Hook\r\n * 处理分页、搜索、筛选、排序等常见表格操作\r\n */\r\nexport function useAdminTable<T = any>(config: TableConfig<T>): UseAdminTableReturn<T> {\r\n  const { fetchData, initialPageSize = 10, onError } = config;\r\n\r\n  const [data, setData] = useState<T[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(initialPageSize);\r\n  const [total, setTotal] = useState(0);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filters, setFilters] = useState<Record<string, any>>({});\r\n  const [sortField, setSortField] = useState<string | undefined>();\r\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc' | undefined>();\r\n\r\n  const totalPages = Math.ceil(total / pageSize);\r\n\r\n  const loadData = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const result = await fetchData({\r\n        page: currentPage,\r\n        pageSize,\r\n        searchTerm,\r\n        filters,\r\n        sortField,\r\n        sortOrder,\r\n      });\r\n      setData(result.data);\r\n      setTotal(result.total);\r\n    } catch (error) {\r\n      console.error('Failed to fetch table data:', error);\r\n      if (onError) {\r\n        onError(error);\r\n      }\r\n      setData([]);\r\n      setTotal(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [currentPage, pageSize, searchTerm, filters, sortField, sortOrder, fetchData, onError]);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [loadData]);\r\n\r\n  const handlePageChange = useCallback((page: number) => {\r\n    setCurrentPage(page);\r\n  }, []);\r\n\r\n  const handlePageSizeChange = useCallback((size: number) => {\r\n    setPageSize(size);\r\n    setCurrentPage(1); // 重置到第一页\r\n  }, []);\r\n\r\n  const handleSearchChange = useCallback((term: string) => {\r\n    setSearchTerm(term);\r\n    setCurrentPage(1); // 搜索时重置到第一页\r\n  }, []);\r\n\r\n  const handleFiltersChange = useCallback((newFilters: Record<string, any>) => {\r\n    setFilters(newFilters);\r\n    setCurrentPage(1); // 筛选时重置到第一页\r\n  }, []);\r\n\r\n  const handleSorting = useCallback((field: string, order: 'asc' | 'desc') => {\r\n    setSortField(field);\r\n    setSortOrder(order);\r\n  }, []);\r\n\r\n  const refresh = useCallback(async () => {\r\n    await loadData();\r\n  }, [loadData]);\r\n\r\n  const reset = useCallback(() => {\r\n    setCurrentPage(1);\r\n    setSearchTerm('');\r\n    setFilters({});\r\n    setSortField(undefined);\r\n    setSortOrder(undefined);\r\n  }, []);\r\n\r\n  return {\r\n    data,\r\n    loading,\r\n    currentPage,\r\n    pageSize,\r\n    total,\r\n    totalPages,\r\n    searchTerm,\r\n    filters,\r\n    sortField,\r\n    sortOrder,\r\n    setCurrentPage: handlePageChange,\r\n    setPageSize: handlePageSizeChange,\r\n    setSearchTerm: handleSearchChange,\r\n    setFilters: handleFiltersChange,\r\n    setSorting: handleSorting,\r\n    refresh,\r\n    reset,\r\n  };\r\n}\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport interface UseModalFormConfig<T> {\r\n  initialValues: T;\r\n  onSubmit: (values: T, isEdit: boolean) => Promise<void>;\r\n  onSuccess?: () => void;\r\n  onError?: (error: any) => void;\r\n  resetOnClose?: boolean;\r\n}\r\n\r\nexport interface UseModalFormReturn<T> {\r\n  isOpen: boolean;\r\n  isEdit: boolean;\r\n  formData: T;\r\n  loading: boolean;\r\n  /** 打开模态框。editData: 编辑数据；forceCreate: 为true时即使有数据也视为创建模式 */\r\n  open: (editData?: T, forceCreate?: boolean) => void;\r\n  close: () => void;\r\n  setFormData: (data: T | ((prev: T) => T)) => void;\r\n  updateField: <K extends keyof T>(field: K, value: T[K]) => void;\r\n  handleSubmit: () => Promise<void>;\r\n  reset: () => void;\r\n}\r\n\r\n/**\r\n * 通用模态框表单管理 Hook\r\n * 处理模态框的打开/关闭、表单数据、提交等逻辑\r\n */\r\nexport function useModalForm<T extends Record<string, any>>(\r\n  config: UseModalFormConfig<T>\r\n): UseModalFormReturn<T> {\r\n  const {\r\n    initialValues,\r\n    onSubmit,\r\n    onSuccess,\r\n    onError,\r\n    resetOnClose = true,\r\n  } = config;\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [formData, setFormData] = useState<T>(initialValues);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const open = useCallback((editData?: T, forceCreate?: boolean) => {\r\n    if (editData && !forceCreate) {\r\n      // 编辑模式：有数据且不是强制创建\r\n      setIsEdit(true);\r\n      setFormData(editData);\r\n    } else {\r\n      // 创建模式：用传入的数据或默认值\r\n      setIsEdit(false);\r\n      setFormData(editData || initialValues);\r\n    }\r\n    setIsOpen(true);\r\n  }, [initialValues]);\r\n\r\n  const close = useCallback(() => {\r\n    setIsOpen(false);\r\n    if (resetOnClose) {\r\n      setTimeout(() => {\r\n        setFormData(initialValues);\r\n        setIsEdit(false);\r\n      }, 300); // 延迟重置，等待关闭动画完成\r\n    }\r\n  }, [initialValues, resetOnClose]);\r\n\r\n  const updateField = useCallback(<K extends keyof T>(field: K, value: T[K]) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  }, []);\r\n\r\n  const handleSubmit = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      await onSubmit(formData, isEdit);\r\n      if (onSuccess) {\r\n        onSuccess();\r\n      }\r\n      close();\r\n    } catch (error) {\r\n      console.error('Form submission failed:', error);\r\n      if (onError) {\r\n        onError(error);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [formData, isEdit, onSubmit, onSuccess, onError, close]);\r\n\r\n  const reset = useCallback(() => {\r\n    setFormData(initialValues);\r\n    setIsEdit(false);\r\n  }, [initialValues]);\r\n\r\n  return {\r\n    isOpen,\r\n    isEdit,\r\n    formData,\r\n    loading,\r\n    open,\r\n    close,\r\n    setFormData,\r\n    updateField,\r\n    handleSubmit,\r\n    reset,\r\n  };\r\n}\r\n","/**\r\n * 统一错误处理工具\r\n * 提供友好的错误提示，统一错误处理逻辑\r\n */\r\n\r\nexport interface ErrorResponse {\r\n  detail?: string | string[] | { msg?: string; message?: string };\r\n  message?: string;\r\n  error?: string;\r\n  errors?: string[];\r\n}\r\n\r\n/**\r\n * 获取友好的错误消息\r\n * @param error 错误对象\r\n * @returns 友好的错误消息\r\n */\r\nexport const getErrorMessage = (error: any): string => {\r\n  // 处理网络错误\r\n  if (error?.code === 'ERR_NETWORK' || error?.message === 'Network Error') {\r\n    return '网络错误，请检查网络连接';\r\n  }\r\n\r\n  // 处理超时错误\r\n  if (error?.code === 'ECONNABORTED' || error?.message?.includes('timeout')) {\r\n    return '请求超时，请稍后重试';\r\n  }\r\n\r\n  // 处理HTTP响应错误\r\n  if (error?.response) {\r\n    const status = error.response.status;\r\n    const data: ErrorResponse = error.response.data || {};\r\n    \r\n    switch (status) {\r\n      case 400:\r\n        return parseErrorDetail(data) || '请求参数错误，请检查输入';\r\n      case 401:\r\n        return '请先登录';\r\n      case 403:\r\n        return parseErrorDetail(data) || '没有权限执行此操作';\r\n      case 404:\r\n        return parseErrorDetail(data) || '资源不存在';\r\n      case 409:\r\n        return parseErrorDetail(data) || '资源冲突，请检查是否重复操作';\r\n      case 429:\r\n        const retryAfter = error.response.headers['retry-after'] || error.response.headers['Retry-After'];\r\n        if (retryAfter) {\r\n          return `请求过于频繁，请在 ${retryAfter} 秒后重试`;\r\n        }\r\n        return parseErrorDetail(data) || '请求过于频繁，请稍后再试';\r\n      case 500:\r\n        return '服务器错误，请稍后再试';\r\n      case 502:\r\n        return '网关错误，服务暂时不可用';\r\n      case 503:\r\n        return '服务暂时不可用，请稍后重试';\r\n      default:\r\n        return parseErrorDetail(data) || `操作失败 (${status})，请稍后再试`;\r\n    }\r\n  }\r\n  \r\n  // 处理普通错误消息\r\n  if (error?.message) {\r\n    return error.message;\r\n  }\r\n  \r\n  // 默认错误消息\r\n  return '操作失败，请稍后再试';\r\n};\r\n\r\n/**\r\n * 解析错误详情\r\n * @param data 错误响应数据\r\n * @returns 错误消息字符串\r\n */\r\nconst parseErrorDetail = (data: ErrorResponse): string | null => {\r\n  // 优先使用 message 字段\r\n  if (data.message) {\r\n    return data.message;\r\n  }\r\n\r\n  // 然后尝试 detail 字段\r\n  if (data.detail) {\r\n    if (typeof data.detail === 'string') {\r\n      return data.detail;\r\n    }\r\n    if (Array.isArray(data.detail)) {\r\n      return data.detail.map((item: any) => {\r\n        if (typeof item === 'string') {\r\n          return item;\r\n        }\r\n        return item.msg || item.message || JSON.stringify(item);\r\n      }).join('；');\r\n    }\r\n    if (typeof data.detail === 'object') {\r\n      return data.detail.msg || data.detail.message || JSON.stringify(data.detail);\r\n    }\r\n  }\r\n\r\n  // 尝试 errors 数组\r\n  if (data.errors && Array.isArray(data.errors)) {\r\n    return data.errors.join('；');\r\n  }\r\n\r\n  // 尝试 error 字段\r\n  if (data.error) {\r\n    return data.error;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n/**\r\n * 判断错误是否可重试\r\n * @param error 错误对象\r\n * @returns 是否可重试\r\n */\r\nexport const isRetryableError = (error: any): boolean => {\r\n  if (!error?.response) {\r\n    // 网络错误可以重试\r\n    return error?.code === 'ERR_NETWORK' || error?.message === 'Network Error';\r\n  }\r\n\r\n  const status = error.response.status;\r\n  // 5xx 错误和 429 错误可以重试\r\n  return status >= 500 || status === 429;\r\n};\r\n\r\n/**\r\n * 获取重试延迟时间（毫秒）\r\n * @param error 错误对象\r\n * @param attempt 当前重试次数\r\n * @returns 延迟时间（毫秒）\r\n */\r\nexport const getRetryDelay = (error: any, attempt: number = 1): number => {\r\n  // 如果有 Retry-After 头，使用它\r\n  const retryAfter = error?.response?.headers?.['retry-after'] || \r\n                     error?.response?.headers?.['Retry-After'];\r\n  if (retryAfter) {\r\n    return parseInt(retryAfter, 10) * 1000;\r\n  }\r\n\r\n  // 指数退避：1s, 2s, 4s, 8s...\r\n  return Math.min(1000 * Math.pow(2, attempt - 1), 8000);\r\n};\r\n\r\n/**\r\n * 记录错误（用于错误监控）\r\n * @param error 错误对象\r\n * @param context 错误上下文\r\n */\r\nexport const logError = (error: any, context?: Record<string, any>): void => {\r\n  const errorMessage = getErrorMessage(error);\r\n  const errorInfo = {\r\n    message: errorMessage,\r\n    status: error?.response?.status,\r\n    url: error?.config?.url || error?.request?.url,\r\n    method: error?.config?.method,\r\n    context,\r\n    timestamp: new Date().toISOString(),\r\n  };\r\n\r\n  // 在生产环境中，可以发送到错误监控服务（如 Sentry）\r\n  if (process.env.NODE_ENV === 'production') {\r\n    // TODO: 集成错误监控服务\r\n    // Sentry.captureException(error, { extra: errorInfo });\r\n    // 错误信息已记录，可用于错误监控服务\r\n  } else {\r\n    // 开发环境：错误信息已记录\r\n    // 如需调试，可在此处添加日志输出\r\n  }\r\n};\r\n\r\n"],"names":["AdminTable","_ref","columns","data","loading","rowKey","onRowClick","emptyText","className","maxHeight","striped","hoverable","bordered","renderCell","column","record","index","_record$column$dataIn","render","dataIndex","String","tableClasses","styles","table","filter","Boolean","join","_jsxs","tableContainer","children","_jsx","loadingOverlay","spinner","tableWrapper","style","overflowY","undefined","thead","map","width","textAlign","align","fixed","concat","title","sorter","sorterIcon","key","tbody","length","colSpan","emptyCell","onClick","clickable","getRowKey","_record$rowKey","AdminModal","isOpen","onClose","footer","maxWidth","closeOnOverlayClick","showCloseButton","useEffect","document","body","overflow","handleEsc","e","window","addEventListener","removeEventListener","target","currentTarget","AdminPagination","currentPage","totalPages","total","pageSize","onPageChange","onPageSizeChange","pageSizeOptions","showPageSizeSelector","showTotal","startItem","endItem","Math","min","handlePrevious","disabled","getPageNumbers","pages","showPages","i","push","start","max","end","page","handlePageClick","handleNext","value","onChange","Number","size","StatusBadge","text","variant","dot","badgeClasses","badge","useAdminTable","config","fetchData","initialPageSize","onError","setData","useState","setLoading","setCurrentPage","setPageSize","setTotal","searchTerm","setSearchTerm","filters","setFilters","sortField","setSortField","sortOrder","setSortOrder","ceil","loadData","useCallback","async","result","error","console","handlePageChange","handlePageSizeChange","handleSearchChange","term","handleFiltersChange","newFilters","handleSorting","field","order","refresh","reset","setSorting","useModalForm","initialValues","onSubmit","onSuccess","resetOnClose","setIsOpen","isEdit","setIsEdit","formData","setFormData","open","editData","forceCreate","close","setTimeout","updateField","prev","_objectSpread","handleSubmit","getErrorMessage","_error$message","code","message","includes","response","status","parseErrorDetail","retryAfter","headers","detail","Array","isArray","item","msg","JSON","stringify","errors"],"sourceRoot":""}
"use strict";(self.webpackChunklinku_admin=self.webpackChunklinku_admin||[]).push([[848],{5848(e,t,r){r.r(t),r.d(t,{default:()=>c});var i=r(9379),s=r(5043),n=r(4400),l=r(6204),d=r(3028),o=r(579);const a={title:"",content:"",user_ids:[]},c=()=>{const[e,t]=(0,s.useState)(!1),[r,c]=(0,s.useState)(a),p=(0,s.useCallback)(async()=>{if(r.title&&r.content){t(!0);try{await(0,l.l_)({title:r.title,content:r.content,user_ids:r.user_ids.length>0?r.user_ids:[]}),n.Ay.success("\u901a\u77e5\u53d1\u9001\u6210\u529f\uff01"),c(a)}catch(e){n.Ay.error((0,d.u1)(e))}finally{t(!1)}}else n.Ay.warning("\u8bf7\u586b\u5199\u901a\u77e5\u6807\u9898\u548c\u5185\u5bb9")},[r]),u=(0,s.useCallback)(e=>{const t=e.target.value.split(",").map(e=>e.trim()).filter(e=>e.length>0);c(e=>(0,i.A)((0,i.A)({},e),{},{user_ids:t}))},[]),x=(0,s.useCallback)(()=>{c(a)},[]);return(0,o.jsxs)("div",{style:{padding:"0"},children:[(0,o.jsx)("h2",{style:{marginBottom:"20px"},children:"\u53d1\u9001\u901a\u77e5"}),(0,o.jsxs)("div",{style:{background:"white",padding:"24px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginBottom:"20px"},children:[(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u901a\u77e5\u6807\u9898\uff1a"}),(0,o.jsx)("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u901a\u77e5\u6807\u9898",value:r.title,onChange:e=>c(t=>(0,i.A)((0,i.A)({},t),{},{title:e.target.value})),style:{width:"100%",padding:"10px 14px",border:"1px solid #d9d9d9",borderRadius:"6px",fontSize:"14px"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u901a\u77e5\u5185\u5bb9\uff1a"}),(0,o.jsx)("textarea",{placeholder:"\u8bf7\u8f93\u5165\u901a\u77e5\u5185\u5bb9",value:r.content,onChange:e=>c(t=>(0,i.A)((0,i.A)({},t),{},{content:e.target.value})),rows:6,style:{width:"100%",padding:"10px 14px",border:"1px solid #d9d9d9",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u76ee\u6807\u7528\u6237ID\uff08\u7559\u7a7a\u53d1\u9001\u7ed9\u6240\u6709\u7528\u6237\uff09\uff1a"}),(0,o.jsx)("input",{type:"text",placeholder:"\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u7528\u6237ID\uff0c\u5982\uff1a1,2,3",onChange:u,style:{width:"100%",padding:"10px 14px",border:"1px solid #d9d9d9",borderRadius:"6px",fontSize:"14px"}}),(0,o.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:"\u63d0\u793a\uff1a\u7559\u7a7a\u7528\u6237ID\u5c06\u53d1\u9001\u7ed9\u6240\u6709\u7528\u6237\uff0c\u586b\u5199\u7528\u6237ID\u5c06\u53ea\u53d1\u9001\u7ed9\u6307\u5b9a\u7528\u6237"})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,o.jsx)("button",{onClick:p,disabled:e||!r.title||!r.content,style:{padding:"10px 24px",border:"none",borderRadius:"6px",background:"#007bff",color:"white",fontSize:"14px",fontWeight:"500",cursor:!e&&r.title&&r.content?"pointer":"not-allowed",opacity:!e&&r.title&&r.content?1:.6},children:e?"\u53d1\u9001\u4e2d...":"\u53d1\u9001\u901a\u77e5"}),(0,o.jsx)("button",{onClick:x,style:{padding:"10px 24px",border:"1px solid #d9d9d9",borderRadius:"6px",background:"white",color:"#333",fontSize:"14px",cursor:"pointer"},children:"\u6e05\u7a7a\u8868\u5355"})]})]}),(0,o.jsxs)("div",{style:{background:"#e7f3ff",padding:"16px 20px",borderRadius:"8px",border:"1px solid #b3d7ff"},children:[(0,o.jsx)("h4",{style:{margin:"0 0 12px 0",color:"#0056b3"},children:"\u901a\u77e5\u53d1\u9001\u8bf4\u660e\uff1a"}),(0,o.jsxs)("ul",{style:{margin:0,paddingLeft:"20px",color:"#333"},children:[(0,o.jsx)("li",{children:"\u901a\u77e5\u6807\u9898\u548c\u5185\u5bb9\u4e3a\u5fc5\u586b\u9879"}),(0,o.jsx)("li",{children:"\u7528\u6237ID\u7559\u7a7a\u65f6\uff0c\u901a\u77e5\u5c06\u53d1\u9001\u7ed9\u6240\u6709\u7528\u6237"}),(0,o.jsx)("li",{children:"\u586b\u5199\u7528\u6237ID\u65f6\uff0c\u901a\u77e5\u53ea\u53d1\u9001\u7ed9\u6307\u5b9a\u7528\u6237"}),(0,o.jsx)("li",{children:"\u591a\u4e2a\u7528\u6237ID\u7528\u9017\u53f7\u5206\u9694\uff0c\u5982\uff1a1,2,3"}),(0,o.jsx)("li",{children:"\u53d1\u9001\u540e\u7528\u6237\u5c06\u5728\u901a\u77e5\u4e2d\u5fc3\u6536\u5230\u6b64\u6d88\u606f"})]})]})]})}},3028(e,t,r){r.d(t,{u1:()=>i});const i=e=>{var t;if("ERR_NETWORK"===(null===e||void 0===e?void 0:e.code)||"Network Error"===(null===e||void 0===e?void 0:e.message))return"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5";if("ECONNABORTED"===(null===e||void 0===e?void 0:e.code)||null!==e&&void 0!==e&&null!==(t=e.message)&&void 0!==t&&t.includes("timeout"))return"\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5";if(null!==e&&void 0!==e&&e.response){const t=e.response.status,r=e.response.data||{};switch(t){case 400:return s(r)||"\u8bf7\u6c42\u53c2\u6570\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u8f93\u5165";case 401:return"\u8bf7\u5148\u767b\u5f55";case 403:return s(r)||"\u6ca1\u6709\u6743\u9650\u6267\u884c\u6b64\u64cd\u4f5c";case 404:return s(r)||"\u8d44\u6e90\u4e0d\u5b58\u5728";case 409:return s(r)||"\u8d44\u6e90\u51b2\u7a81\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u91cd\u590d\u64cd\u4f5c";case 429:const i=e.response.headers["retry-after"]||e.response.headers["Retry-After"];return i?"\u8bf7\u6c42\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u5728 ".concat(i," \u79d2\u540e\u91cd\u8bd5"):s(r)||"\u8bf7\u6c42\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5";case 500:return"\u670d\u52a1\u5668\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5";case 502:return"\u7f51\u5173\u9519\u8bef\uff0c\u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528";case 503:return"\u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5";default:return s(r)||"\u64cd\u4f5c\u5931\u8d25 (".concat(t,")\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}}return null!==e&&void 0!==e&&e.message?e.message:"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"},s=e=>{if(e.message)return e.message;if(e.detail){if("string"===typeof e.detail)return e.detail;if(Array.isArray(e.detail))return e.detail.map(e=>"string"===typeof e?e:e.msg||e.message||JSON.stringify(e)).join("\uff1b");if("object"===typeof e.detail)return e.detail.msg||e.detail.message||JSON.stringify(e.detail)}return e.errors&&Array.isArray(e.errors)?e.errors.join("\uff1b"):e.error?e.error:null}}}]);
//# sourceMappingURL=848.76687176.chunk.js.map
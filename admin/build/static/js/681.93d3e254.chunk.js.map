{"version":3,"file":"static/js/681.93d3e254.chunk.js","mappings":"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","sources":["pages/admin/refunds/types.ts","webpack://linku-admin/./src/pages/admin/refunds/RefundManagement.module.css?e905","pages/admin/refunds/RefundManagement.tsx","utils/exportUtils.ts"],"sourcesContent":["/**\r\n * RefundManagement Ê®°ÂùóÁ±ªÂûãÂÆö‰πâ\r\n */\r\n\r\nexport interface RefundRequest {\r\n  id: number;\r\n  task_id: number;\r\n  poster_id: string;\r\n  reason: string;\r\n  reason_type?: string;\r\n  reason_type_display?: string;\r\n  refund_type?: 'full' | 'partial';\r\n  refund_type_display?: string;\r\n  refund_amount?: number;\r\n  refund_percentage?: number;\r\n  status: RefundStatus;\r\n  admin_comment?: string;\r\n  reviewed_at?: string;\r\n  created_at: string;\r\n  evidence_files?: string[];\r\n  task?: {\r\n    title?: string;\r\n    agreed_reward?: number;\r\n    base_reward?: number;\r\n    is_paid?: boolean;\r\n  };\r\n  poster?: {\r\n    name?: string;\r\n  };\r\n}\r\n\r\nexport type RefundStatus = 'pending' | 'approved' | 'rejected' | 'processing' | 'completed' | 'cancelled';\r\n\r\nexport type RefundAction = 'approve' | 'reject';\r\n\r\nexport const REFUND_STATUS_LABELS: Record<RefundStatus, string> = {\r\n  pending: 'ÂæÖÂ§ÑÁêÜ',\r\n  approved: 'Â∑≤ÊâπÂáÜ',\r\n  rejected: 'Â∑≤ÊãíÁªù',\r\n  processing: 'Â§ÑÁêÜ‰∏≠',\r\n  completed: 'Â∑≤ÂÆåÊàê',\r\n  cancelled: 'Â∑≤ÂèñÊ∂à'\r\n};\r\n\r\nexport const REFUND_STATUS_COLORS: Record<RefundStatus, { bg: string; color: string }> = {\r\n  pending: { bg: '#fff3cd', color: '#856404' },\r\n  approved: { bg: '#d1ecf1', color: '#0c5460' },\r\n  rejected: { bg: '#f8d7da', color: '#721c24' },\r\n  processing: { bg: '#d1ecf1', color: '#0c5460' },\r\n  completed: { bg: '#d4edda', color: '#155724' },\r\n  cancelled: { bg: '#e9ecef', color: '#6c757d' }\r\n};\r\n\r\nexport interface DisputeTimeline {\r\n  task_id: number;\r\n  task_title: string;\r\n  timeline: TimelineItem[];\r\n}\r\n\r\nexport interface TimelineItem {\r\n  type: string;\r\n  actor: 'poster' | 'taker' | 'admin';\r\n  reviewer_name?: string;\r\n  resolver_name?: string;\r\n  timestamp: string;\r\n  content?: string;\r\n  status?: string;\r\n  amount?: number;\r\n}\r\n\r\nexport const TIMELINE_ICONS: Record<string, string> = {\r\n  task_completed: '‚úÖ',\r\n  task_confirmed: '‚úì',\r\n  refund_request: '‚Ü©Ô∏è',\r\n  rebuttal: 'üí¨',\r\n  dispute: '‚ö†Ô∏è',\r\n  dispute_resolved: '‚úÖ',\r\n  dispute_dismissed: '‚ùå',\r\n  refund_approved: '‚úÖ',\r\n  refund_rejected: '‚ùå',\r\n  refund_completed: 'üí∞',\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"RefundManagement_container__X+ZY4\",\"title\":\"RefundManagement_title__tjkK3\",\"filterContainer\":\"RefundManagement_filterContainer__tBLpq\",\"searchInput\":\"RefundManagement_searchInput__b1akp\",\"filterSelect\":\"RefundManagement_filterSelect__vpFW0\",\"filterBtn\":\"RefundManagement_filterBtn__mxvcZ\",\"filterBtnPrimary\":\"RefundManagement_filterBtnPrimary__dT9Ok\",\"filterBtnClear\":\"RefundManagement_filterBtnClear__sD8pU\",\"tableContainer\":\"RefundManagement_tableContainer__u3B8A\",\"table\":\"RefundManagement_table__81N9V\",\"tableHeader\":\"RefundManagement_tableHeader__WLYZg\",\"tableHeaderCell\":\"RefundManagement_tableHeaderCell__7KoyG\",\"tableRow\":\"RefundManagement_tableRow__ZXaJf\",\"tableCell\":\"RefundManagement_tableCell__4G3+R\",\"tableCellTruncate\":\"RefundManagement_tableCellTruncate__Mpg9s\",\"taskIdLink\":\"RefundManagement_taskIdLink__lyyet\",\"statusBadge\":\"RefundManagement_statusBadge__mZ15Z\",\"actionGroup\":\"RefundManagement_actionGroup__m7uRC\",\"actionBtn\":\"RefundManagement_actionBtn__R4mgT\",\"btnView\":\"RefundManagement_btnView__Bs1Dm\",\"btnTimeline\":\"RefundManagement_btnTimeline__tJ8x-\",\"btnApprove\":\"RefundManagement_btnApprove__CrFP2\",\"btnReject\":\"RefundManagement_btnReject__0sYwU\",\"emptyState\":\"RefundManagement_emptyState__GAKIS\",\"loadingState\":\"RefundManagement_loadingState__6bG+0\",\"pagination\":\"RefundManagement_pagination__wfVEZ\",\"pageBtn\":\"RefundManagement_pageBtn__cLImH\",\"pageInfo\":\"RefundManagement_pageInfo__VtIET\",\"modalSection\":\"RefundManagement_modalSection__kEqZN\",\"modalSectionTitle\":\"RefundManagement_modalSectionTitle__mtdq+\",\"modalField\":\"RefundManagement_modalField__vXd4L\",\"modalLabel\":\"RefundManagement_modalLabel__YXMiw\",\"modalValue\":\"RefundManagement_modalValue__-r9Nk\",\"modalTextBlock\":\"RefundManagement_modalTextBlock__UUK7a\",\"timeline\":\"RefundManagement_timeline__-cgHP\",\"timelineItem\":\"RefundManagement_timelineItem__X97zY\",\"timelineLine\":\"RefundManagement_timelineLine__2AAbN\",\"timelineDot\":\"RefundManagement_timelineDot__1j8FJ\",\"timelineContent\":\"RefundManagement_timelineContent__LcpcA\",\"timelineHeader\":\"RefundManagement_timelineHeader__npLHy\",\"timelineActor\":\"RefundManagement_timelineActor__1HNFU\",\"timelineTime\":\"RefundManagement_timelineTime__NlfxF\",\"timelineBody\":\"RefundManagement_timelineBody__3m4II\",\"evidenceFiles\":\"RefundManagement_evidenceFiles__X1xCR\",\"evidenceLink\":\"RefundManagement_evidenceLink__kHckd\",\"actionForm\":\"RefundManagement_actionForm__up0by\",\"actionFormField\":\"RefundManagement_actionFormField__CisDV\",\"actionFormLabel\":\"RefundManagement_actionFormLabel__n7VA0\",\"actionFormTextarea\":\"RefundManagement_actionFormTextarea__NpwVQ\",\"actionFormInput\":\"RefundManagement_actionFormInput__Mwyj2\"};","import React, { useState, useCallback, useEffect } from 'react';\r\nimport { message, Modal } from 'antd';\r\nimport dayjs from 'dayjs';\r\nimport { useAdminTable, useModalForm } from '../../../hooks';\r\nimport { AdminTable, AdminPagination, Column } from '../../../components/admin';\r\nimport {\r\n  getAdminRefundRequests,\r\n  approveRefundRequest,\r\n  rejectRefundRequest,\r\n  getTaskDisputeTimeline\r\n} from '../../../api';\r\nimport { getErrorMessage } from '../../../utils/errorHandler';\r\nimport {\r\n  RefundRequest,\r\n  RefundStatus,\r\n  RefundAction,\r\n  DisputeTimeline,\r\n  REFUND_STATUS_LABELS,\r\n  REFUND_STATUS_COLORS,\r\n  TIMELINE_ICONS\r\n} from './types';\r\nimport { exportToCSV, ExportColumn } from '../../../utils/exportUtils';\r\nimport styles from './RefundManagement.module.css';\r\n\r\nconst REFUND_EXPORT_COLUMNS: ExportColumn[] = [\r\n  { key: 'id', label: 'ID' },\r\n  { key: 'task_id', label: '‰ªªÂä°ID' },\r\n  { key: 'poster_id', label: 'ÂèëÂ∏ÉËÄÖID' },\r\n  { key: 'reason_type', label: 'ÈÄÄÊ¨æÂéüÂõ†Á±ªÂûã' },\r\n  { key: 'refund_type', label: 'ÈÄÄÊ¨æÁ±ªÂûã', format: v => v === 'full' ? 'ÂÖ®È¢ùÈÄÄÊ¨æ' : v === 'partial' ? 'ÈÉ®ÂàÜÈÄÄÊ¨æ' : '-' },\r\n  { key: 'refund_amount', label: 'ÈÄÄÊ¨æÈáëÈ¢ù', format: v => v != null ? `¬£${Number(v).toFixed(2)}` : 'ÂÖ®È¢ùÈÄÄÊ¨æ' },\r\n  { key: 'status', label: 'Áä∂ÊÄÅ', format: v => REFUND_STATUS_LABELS[v as RefundStatus] || v },\r\n  { key: 'created_at', label: 'Áî≥ËØ∑Êó∂Èó¥', format: v => dayjs(v).format('YYYY-MM-DD HH:mm') },\r\n];\r\n\r\ninterface ActionForm {\r\n  action: RefundAction;\r\n  adminComment: string;\r\n  refundAmount: number | undefined;\r\n  refund: RefundRequest | null;\r\n}\r\n\r\nconst initialActionForm: ActionForm = {\r\n  action: 'approve',\r\n  adminComment: '',\r\n  refundAmount: undefined,\r\n  refund: null,\r\n};\r\n\r\n/**\r\n * ÈÄÄÊ¨æÁÆ°ÁêÜÁªÑ‰ª∂\r\n * Êèê‰æõÈÄÄÊ¨æÁî≥ËØ∑ÂàóË°®Êü•Áúã„ÄÅËØ¶ÊÉÖÊü•Áúã„ÄÅÊâπÂáÜ/ÊãíÁªùÁ≠âÂäüËÉΩ\r\n */\r\nconst RefundManagement: React.FC = () => {\r\n  const [statusFilter, setStatusFilter] = useState<string>('');\r\n  const [searchKeyword, setSearchKeyword] = useState<string>('');\r\n\r\n  // ËØ¶ÊÉÖÂºπÁ™óÁä∂ÊÄÅÔºàÂè™ËØªÔºå‰∏çÊèê‰∫§Ôºâ\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selectedRefund, setSelectedRefund] = useState<RefundRequest | null>(null);\r\n\r\n  // Êó∂Èó¥Á∫øÂºπÁ™óÁä∂ÊÄÅÔºàÂè™ËØªÔºå‰∏çÊèê‰∫§Ôºâ\r\n  const [showTimelineModal, setShowTimelineModal] = useState(false);\r\n  const [timeline, setTimeline] = useState<DisputeTimeline | null>(null);\r\n  const [loadingTimeline, setLoadingTimeline] = useState(false);\r\n\r\n  // Ëé∑ÂèñÈÄÄÊ¨æÁî≥ËØ∑ÂàóË°®\r\n  const fetchRefundRequests = useCallback(async ({ page, pageSize, filters }: { page: number; pageSize: number; searchTerm?: string; filters?: Record<string, any> }) => {\r\n    const response = await getAdminRefundRequests({\r\n      skip: (page - 1) * pageSize,\r\n      limit: pageSize,\r\n      status: filters?.status || undefined,\r\n      keyword: filters?.keyword || undefined,\r\n    });\r\n    return {\r\n      data: response.items || [],\r\n      total: response.total || 0,\r\n    };\r\n  }, []);\r\n\r\n  const handleFetchError = useCallback((error: any) => {\r\n    message.error(getErrorMessage(error));\r\n  }, []);\r\n\r\n  const table = useAdminTable<RefundRequest>({\r\n    fetchData: fetchRefundRequests,\r\n    initialPageSize: 20,\r\n    onError: handleFetchError,\r\n  });\r\n\r\n  // Â§ÑÁêÜÂºπÁ™óÔºàÂ∏¶Êèê‰∫§Ôºå‰ΩøÁî® useModalFormÔºâ\r\n  const actionModal = useModalForm<ActionForm>({\r\n    initialValues: initialActionForm,\r\n    onSubmit: async (values) => {\r\n      if (!values.refund) return;\r\n\r\n      if (values.action === 'reject' && !values.adminComment.trim()) {\r\n        message.error('ËØ∑ËæìÂÖ•ÊãíÁªùÁêÜÁî±');\r\n        throw new Error('ËØ∑ËæìÂÖ•ÊãíÁªùÁêÜÁî±');\r\n      }\r\n\r\n      if (values.action === 'approve') {\r\n        await approveRefundRequest(values.refund.id, {\r\n          admin_comment: values.adminComment.trim() || undefined,\r\n          refund_amount: values.refundAmount\r\n        });\r\n        message.success('ÈÄÄÊ¨æÁî≥ËØ∑Â∑≤ÊâπÂáÜÔºåÊ≠£Âú®Â§ÑÁêÜÈÄÄÊ¨æ...');\r\n      } else {\r\n        await rejectRefundRequest(values.refund.id, values.adminComment.trim());\r\n        message.success('ÈÄÄÊ¨æÁî≥ËØ∑Â∑≤ÊãíÁªù');\r\n      }\r\n      table.refresh();\r\n    },\r\n    onError: (error) => {\r\n      message.error(getErrorMessage(error));\r\n    },\r\n  });\r\n\r\n  // Ëá™Âä®Âà∑Êñ∞ÂæÖÂ§ÑÁêÜÁî≥ËØ∑ÔºàÊØè30ÁßíÔºâ\r\n  useEffect(() => {\r\n    const refreshInterval = setInterval(() => {\r\n      if (!table.loading && (!statusFilter || statusFilter === 'pending')) {\r\n        table.refresh();\r\n      }\r\n    }, 30000);\r\n    return () => clearInterval(refreshInterval);\r\n  }, [table.loading, statusFilter, table.refresh]);\r\n\r\n  // Êü•ÁúãËØ¶ÊÉÖ\r\n  const handleViewDetail = (refund: RefundRequest) => {\r\n    setSelectedRefund(refund);\r\n    setShowDetailModal(true);\r\n  };\r\n\r\n  // Êü•ÁúãÊó∂Èó¥Á∫ø\r\n  const handleViewTimeline = async (taskId: number) => {\r\n    try {\r\n      setLoadingTimeline(true);\r\n      const data = await getTaskDisputeTimeline(taskId);\r\n      setTimeline(data);\r\n      setShowTimelineModal(true);\r\n    } catch (error: any) {\r\n      message.error(getErrorMessage(error));\r\n    } finally {\r\n      setLoadingTimeline(false);\r\n    }\r\n  };\r\n\r\n  // ÊâìÂºÄÂ§ÑÁêÜÂºπÁ™ó\r\n  const handleOpenAction = (refund: RefundRequest, action: RefundAction) => {\r\n    actionModal.open({ action, adminComment: '', refundAmount: undefined, refund });\r\n  };\r\n\r\n  // ÊêúÁ¥¢Â§ÑÁêÜ\r\n  const handleSearch = () => {\r\n    table.setFilters({\r\n      status: statusFilter || undefined,\r\n      keyword: searchKeyword.trim() || undefined,\r\n    });\r\n    table.setCurrentPage(1);\r\n  };\r\n\r\n  // Ê∏ÖÈô§ÊêúÁ¥¢\r\n  const handleClearSearch = () => {\r\n    setSearchKeyword('');\r\n    table.setFilters({\r\n      status: statusFilter || undefined,\r\n      keyword: undefined,\r\n    });\r\n    table.setCurrentPage(1);\r\n  };\r\n\r\n  // Áä∂ÊÄÅÁ≠õÈÄâÂèòÂåñ\r\n  const handleStatusFilterChange = (value: string) => {\r\n    setStatusFilter(value);\r\n    table.setFilters({\r\n      status: value || undefined,\r\n      keyword: searchKeyword.trim() || undefined,\r\n    });\r\n    table.setCurrentPage(1);\r\n  };\r\n\r\n  const handleExport = () => {\r\n    exportToCSV(\r\n      table.data as Record<string, any>[],\r\n      `refunds-${dayjs().format('YYYY-MM-DD')}`,\r\n      REFUND_EXPORT_COLUMNS\r\n    );\r\n  };\r\n\r\n  // Â§çÂà∂‰ªªÂä°ID\r\n  const handleCopyTaskId = (taskId: number) => {\r\n    navigator.clipboard.writeText(String(taskId));\r\n    message.success(`‰ªªÂä°ID ${taskId} Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø`);\r\n  };\r\n\r\n  // Ëé∑ÂèñÁä∂ÊÄÅÊ†∑Âºè\r\n  const getStatusStyle = (status: RefundStatus) => {\r\n    const colors = REFUND_STATUS_COLORS[status] || REFUND_STATUS_COLORS.pending;\r\n    return { background: colors.bg, color: colors.color };\r\n  };\r\n\r\n  // Ëé∑ÂèñÊó∂Èó¥Á∫ø actor Ê†∑Âºè\r\n  const getActorStyle = (actor: string) => {\r\n    const colors: Record<string, { bg: string; color: string }> = {\r\n      poster: { bg: '#dbeafe', color: '#3b82f6' },\r\n      taker: { bg: '#d1fae5', color: '#10b981' },\r\n      admin: { bg: '#fef3c7', color: '#f59e0b' }\r\n    };\r\n    return colors[actor] || colors.admin;\r\n  };\r\n\r\n  // Ë°®Ê†ºÂàóÂÆö‰πâ\r\n  const columns: Column<RefundRequest>[] = [\r\n    {\r\n      key: 'id',\r\n      title: 'Áî≥ËØ∑ID',\r\n      dataIndex: 'id',\r\n      width: 80,\r\n    },\r\n    {\r\n      key: 'task_id',\r\n      title: '‰ªªÂä°ID',\r\n      width: 90,\r\n      render: (_, record) => (\r\n        <span\r\n          className={styles.taskIdLink}\r\n          onClick={() => handleCopyTaskId(record.task_id)}\r\n          title=\"ÁÇπÂáªÂ§çÂà∂‰ªªÂä°ID\"\r\n        >\r\n          #{record.task_id}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'task_title',\r\n      title: '‰ªªÂä°',\r\n      width: 180,\r\n      render: (_, record) => (\r\n        <span className={styles.tableCellTruncate}>\r\n          {record.task?.title || `‰ªªÂä° #${record.task_id}`}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'poster',\r\n      title: 'ÂèëÂ∏ÉËÄÖ',\r\n      width: 120,\r\n      render: (_, record) => record.poster?.name || record.poster_id,\r\n    },\r\n    {\r\n      key: 'reason_type',\r\n      title: 'ÈÄÄÊ¨æÂéüÂõ†Á±ªÂûã',\r\n      width: 120,\r\n      render: (_, record) => record.reason_type_display || record.reason_type || '-',\r\n    },\r\n    {\r\n      key: 'refund_type',\r\n      title: 'ÈÄÄÊ¨æÁ±ªÂûã',\r\n      width: 100,\r\n      render: (_, record) => (\r\n        <span\r\n          className={styles.statusBadge}\r\n          style={{\r\n            background: record.refund_type === 'full' ? '#d4edda' : '#fff3cd',\r\n            color: record.refund_type === 'full' ? '#155724' : '#856404'\r\n          }}\r\n        >\r\n          {record.refund_type_display || (record.refund_type === 'full' ? 'ÂÖ®È¢ùÈÄÄÊ¨æ' : record.refund_type === 'partial' ? 'ÈÉ®ÂàÜÈÄÄÊ¨æ' : '-')}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'refund_amount',\r\n      title: 'ÈÄÄÊ¨æÈáëÈ¢ù',\r\n      width: 130,\r\n      render: (_, record) =>\r\n        record.refund_amount != null\r\n          ? `¬£${Number(record.refund_amount).toFixed(2)}${record.refund_percentage ? ` (${record.refund_percentage.toFixed(1)}%)` : ''}`\r\n          : 'ÂÖ®È¢ùÈÄÄÊ¨æ',\r\n    },\r\n    {\r\n      key: 'status',\r\n      title: 'Áä∂ÊÄÅ',\r\n      dataIndex: 'status',\r\n      width: 100,\r\n      render: (value) => (\r\n        <span className={styles.statusBadge} style={getStatusStyle(value as RefundStatus)}>\r\n          {REFUND_STATUS_LABELS[value as RefundStatus]}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      key: 'created_at',\r\n      title: 'ÂàõÂª∫Êó∂Èó¥',\r\n      dataIndex: 'created_at',\r\n      width: 160,\r\n      render: (value) => new Date(value).toLocaleString('zh-CN'),\r\n    },\r\n    {\r\n      key: 'actions',\r\n      title: 'Êìç‰Ωú',\r\n      width: 200,\r\n      align: 'center',\r\n      render: (_, record) => (\r\n        <div className={styles.actionGroup}>\r\n          <button\r\n            onClick={() => handleViewDetail(record)}\r\n            className={`${styles.actionBtn} ${styles.btnView}`}\r\n          >\r\n            Êü•Áúã\r\n          </button>\r\n          <button\r\n            onClick={() => handleViewTimeline(record.task_id)}\r\n            disabled={loadingTimeline}\r\n            className={`${styles.actionBtn} ${styles.btnTimeline}`}\r\n          >\r\n            {loadingTimeline ? 'Âä†ËΩΩ‰∏≠...' : '‰∫âËÆÆËØ¶ÊÉÖ'}\r\n          </button>\r\n          {record.status === 'pending' && (\r\n            <>\r\n              <button\r\n                onClick={() => handleOpenAction(record, 'approve')}\r\n                className={`${styles.actionBtn} ${styles.btnApprove}`}\r\n              >\r\n                ÊâπÂáÜ\r\n              </button>\r\n              <button\r\n                onClick={() => handleOpenAction(record, 'reject')}\r\n                className={`${styles.actionBtn} ${styles.btnReject}`}\r\n              >\r\n                ÊãíÁªù\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px' }}>\r\n        <h2 className={styles.title} style={{ margin: 0 }}>ÈÄÄÊ¨æÁî≥ËØ∑ÁÆ°ÁêÜ</h2>\r\n        <button\r\n          onClick={handleExport}\r\n          disabled={table.data.length === 0}\r\n          style={{\r\n            padding: '8px 16px',\r\n            border: '1px solid #52c41a',\r\n            background: 'white',\r\n            color: '#52c41a',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer',\r\n            fontSize: '14px',\r\n          }}\r\n        >\r\n          ÂØºÂá∫ CSV\r\n        </button>\r\n      </div>\r\n\r\n      {/* Á≠õÈÄâÂíåÊêúÁ¥¢ */}\r\n      <div className={styles.filterContainer}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"ÊêúÁ¥¢‰ªªÂä°Ê†áÈ¢ò„ÄÅÂèëÂ∏ÉËÄÖÂßìÂêçÊàñÈÄÄÊ¨æÂéüÂõ†...\"\r\n          value={searchKeyword}\r\n          onChange={(e) => setSearchKeyword(e.target.value)}\r\n          onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n          className={styles.searchInput}\r\n        />\r\n        <select\r\n          value={statusFilter}\r\n          onChange={(e) => handleStatusFilterChange(e.target.value)}\r\n          className={styles.filterSelect}\r\n        >\r\n          <option value=\"\">ÂÖ®ÈÉ®Áä∂ÊÄÅ</option>\r\n          <option value=\"pending\">ÂæÖÂ§ÑÁêÜ</option>\r\n          <option value=\"approved\">Â∑≤ÊâπÂáÜ</option>\r\n          <option value=\"rejected\">Â∑≤ÊãíÁªù</option>\r\n          <option value=\"processing\">Â§ÑÁêÜ‰∏≠</option>\r\n          <option value=\"completed\">Â∑≤ÂÆåÊàê</option>\r\n          <option value=\"cancelled\">Â∑≤ÂèñÊ∂à</option>\r\n        </select>\r\n        <button onClick={handleSearch} className={`${styles.filterBtn} ${styles.filterBtnPrimary}`}>\r\n          ÊêúÁ¥¢\r\n        </button>\r\n        {searchKeyword && (\r\n          <button onClick={handleClearSearch} className={`${styles.filterBtn} ${styles.filterBtnClear}`}>\r\n            Ê∏ÖÈô§\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* ÈÄÄÊ¨æÁî≥ËØ∑ÂàóË°® */}\r\n      <AdminTable\r\n        columns={columns}\r\n        data={table.data}\r\n        loading={table.loading}\r\n        rowKey=\"id\"\r\n        emptyText={searchKeyword ? 'Êú™ÊâæÂà∞ÂåπÈÖçÁöÑÈÄÄÊ¨æÁî≥ËØ∑ËÆ∞ÂΩï' : 'ÊöÇÊó†ÈÄÄÊ¨æÁî≥ËØ∑ËÆ∞ÂΩï'}\r\n      />\r\n\r\n      {/* ÂàÜÈ°µ */}\r\n      <AdminPagination\r\n        currentPage={table.currentPage}\r\n        totalPages={table.totalPages}\r\n        total={table.total}\r\n        pageSize={table.pageSize}\r\n        onPageChange={table.setCurrentPage}\r\n        onPageSizeChange={table.setPageSize}\r\n      />\r\n\r\n      {/* ÈÄÄÊ¨æÁî≥ËØ∑ËØ¶ÊÉÖÂºπÁ™óÔºàÂè™ËØªÔºâ */}\r\n      <Modal\r\n        title={`ÈÄÄÊ¨æÁî≥ËØ∑ËØ¶ÊÉÖ #${selectedRefund?.id || ''}`}\r\n        open={showDetailModal}\r\n        onCancel={() => {\r\n          setShowDetailModal(false);\r\n          setSelectedRefund(null);\r\n        }}\r\n        footer={null}\r\n        width={800}\r\n      >\r\n        {selectedRefund && (\r\n          <div style={{ padding: '20px' }}>\r\n            {/* ‰ªªÂä°‰ø°ÊÅØ */}\r\n            <div className={styles.modalSection}>\r\n              <h3 className={styles.modalSectionTitle}>‰ªªÂä°‰ø°ÊÅØ</h3>\r\n              {selectedRefund.task && (\r\n                <>\r\n                  <div className={styles.modalField}>\r\n                    <span className={styles.modalLabel}>‰ªªÂä°Ê†áÈ¢òÔºö</span>\r\n                    <span className={styles.modalValue}>\r\n                      {selectedRefund.task.title || `‰ªªÂä° #${selectedRefund.task_id}`}\r\n                    </span>\r\n                  </div>\r\n                  <div className={styles.modalField}>\r\n                    <span className={styles.modalLabel}>‰ªªÂä°ÈáëÈ¢ùÔºö</span>\r\n                    <span className={styles.modalValue}>\r\n                      ¬£{selectedRefund.task.agreed_reward || selectedRefund.task.base_reward || 0}\r\n                    </span>\r\n                  </div>\r\n                  <div className={styles.modalField}>\r\n                    <span className={styles.modalLabel}>ÊîØ‰ªòÁä∂ÊÄÅÔºö</span>\r\n                    <span\r\n                      className={styles.statusBadge}\r\n                      style={{\r\n                        background: selectedRefund.task.is_paid ? '#d4edda' : '#f8d7da',\r\n                        color: selectedRefund.task.is_paid ? '#155724' : '#721c24',\r\n                        marginLeft: '8px'\r\n                      }}\r\n                    >\r\n                      {selectedRefund.task.is_paid ? '‚úÖ Â∑≤ÊîØ‰ªò' : '‚è≥ Êú™ÊîØ‰ªò'}\r\n                    </span>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* ÈÄÄÊ¨æÁî≥ËØ∑‰ø°ÊÅØ */}\r\n            <div className={styles.modalSection}>\r\n              <h3 className={styles.modalSectionTitle}>ÈÄÄÊ¨æÁî≥ËØ∑‰ø°ÊÅØ</h3>\r\n              <div className={styles.modalField}>\r\n                <span className={styles.modalLabel}>ÈÄÄÊ¨æÂéüÂõ†Á±ªÂûãÔºö</span>\r\n                <span\r\n                  className={styles.statusBadge}\r\n                  style={{ background: '#e3f2fd', color: '#1976d2', marginLeft: '8px' }}\r\n                >\r\n                  {selectedRefund.reason_type_display || selectedRefund.reason_type || 'Êú™Áü•'}\r\n                </span>\r\n              </div>\r\n              <div className={styles.modalField}>\r\n                <span className={styles.modalLabel}>ÈÄÄÊ¨æÁ±ªÂûãÔºö</span>\r\n                <span\r\n                  className={styles.statusBadge}\r\n                  style={{\r\n                    background: selectedRefund.refund_type === 'full' ? '#d4edda' : '#fff3cd',\r\n                    color: selectedRefund.refund_type === 'full' ? '#155724' : '#856404',\r\n                    marginLeft: '8px'\r\n                  }}\r\n                >\r\n                  {selectedRefund.refund_type_display || (selectedRefund.refund_type === 'full' ? 'ÂÖ®È¢ùÈÄÄÊ¨æ' : 'ÈÉ®ÂàÜÈÄÄÊ¨æ')}\r\n                </span>\r\n              </div>\r\n              <div className={styles.modalField}>\r\n                <span className={styles.modalLabel}>ÈÄÄÊ¨æÂéüÂõ†ËØ¶ÁªÜËØ¥ÊòéÔºö</span>\r\n                <div className={styles.modalTextBlock}>{selectedRefund.reason}</div>\r\n              </div>\r\n              <div className={styles.modalField}>\r\n                <span className={styles.modalLabel}>Áî≥ËØ∑ÈÄÄÊ¨æÈáëÈ¢ùÔºö</span>\r\n                <span className={styles.modalValue}>\r\n                  {selectedRefund.refund_amount != null\r\n                    ? `¬£${Number(selectedRefund.refund_amount).toFixed(2)}${selectedRefund.refund_percentage ? ` (${selectedRefund.refund_percentage.toFixed(1)}%)` : ''}`\r\n                    : 'ÂÖ®È¢ùÈÄÄÊ¨æ'}\r\n                </span>\r\n              </div>\r\n              {selectedRefund.evidence_files && selectedRefund.evidence_files.length > 0 && (\r\n                <div className={styles.modalField}>\r\n                  <span className={styles.modalLabel}>ËØÅÊçÆÊñá‰ª∂Ôºö</span>\r\n                  <div className={styles.evidenceFiles}>\r\n                    {selectedRefund.evidence_files.map((fileId, index) => (\r\n                      <a\r\n                        key={index}\r\n                        href={`/api/private-file?file=${fileId}`}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className={styles.evidenceLink}\r\n                      >\r\n                        Êñá‰ª∂ {index + 1}\r\n                      </a>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <div className={styles.modalField}>\r\n                <span className={styles.modalLabel}>Áä∂ÊÄÅÔºö</span>\r\n                <span className={styles.statusBadge} style={getStatusStyle(selectedRefund.status)}>\r\n                  {REFUND_STATUS_LABELS[selectedRefund.status]}\r\n                </span>\r\n              </div>\r\n              {selectedRefund.admin_comment && (\r\n                <div className={styles.modalField}>\r\n                  <span className={styles.modalLabel}>ÁÆ°ÁêÜÂëòÂ§áÊ≥®Ôºö</span>\r\n                  <div className={styles.modalTextBlock}>{selectedRefund.admin_comment}</div>\r\n                </div>\r\n              )}\r\n              {selectedRefund.reviewed_at && (\r\n                <div className={styles.modalField}>\r\n                  <span className={styles.modalLabel}>ÂÆ°Ê†∏Êó∂Èó¥Ôºö</span>\r\n                  <span className={styles.modalValue}>\r\n                    {new Date(selectedRefund.reviewed_at).toLocaleString('zh-CN')}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              <div className={styles.modalField}>\r\n                <span className={styles.modalLabel}>ÂàõÂª∫Êó∂Èó¥Ôºö</span>\r\n                <span className={styles.modalValue}>\r\n                  {new Date(selectedRefund.created_at).toLocaleString('zh-CN')}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* Êó∂Èó¥Á∫øÂºπÁ™óÔºàÂè™ËØªÔºâ */}\r\n      <Modal\r\n        title={`‰∫âËÆÆËØ¶ÊÉÖ - ‰ªªÂä° #${timeline?.task_id || ''}`}\r\n        open={showTimelineModal}\r\n        onCancel={() => {\r\n          setShowTimelineModal(false);\r\n          setTimeline(null);\r\n        }}\r\n        footer={null}\r\n        width={900}\r\n      >\r\n        {timeline && (\r\n          <div style={{ padding: '20px', maxHeight: '70vh', overflow: 'auto' }}>\r\n            <div style={{ marginBottom: '20px', padding: '12px', background: '#f3f4f6', borderRadius: '8px' }}>\r\n              <strong>‰ªªÂä°Ê†áÈ¢òÔºö</strong> {timeline.task_title}\r\n            </div>\r\n\r\n            {timeline.timeline && timeline.timeline.length > 0 ? (\r\n              <div className={styles.timeline}>\r\n                {timeline.timeline.map((item, index) => {\r\n                  const isLast = index === timeline.timeline.length - 1;\r\n                  const actorStyle = getActorStyle(item.actor);\r\n                  const actorName = item.actor === 'poster' ? 'ÂèëÂ∏ÉËÄÖ' :\r\n                    item.actor === 'taker' ? 'Êé•ÂçïËÄÖ' :\r\n                      (item.reviewer_name || item.resolver_name || 'ÁÆ°ÁêÜÂëò');\r\n                  const icon = TIMELINE_ICONS[item.type] || 'üìã';\r\n\r\n                  return (\r\n                    <div key={index} className={styles.timelineItem}>\r\n                      {!isLast && <div className={styles.timelineLine}></div>}\r\n                      <div\r\n                        className={styles.timelineDot}\r\n                        style={{ background: actorStyle.bg }}\r\n                      >\r\n                        {icon}\r\n                      </div>\r\n                      <div className={styles.timelineContent}>\r\n                        <div className={styles.timelineHeader}>\r\n                          <span\r\n                            className={styles.timelineActor}\r\n                            style={{ background: actorStyle.bg, color: actorStyle.color }}\r\n                          >\r\n                            {actorName}\r\n                          </span>\r\n                          <span className={styles.timelineTime}>\r\n                            {new Date(item.timestamp).toLocaleString('zh-CN')}\r\n                          </span>\r\n                        </div>\r\n                        <div className={styles.timelineBody}>\r\n                          {item.content || item.status || '-'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div style={{ textAlign: 'center', color: '#999', padding: '40px' }}>\r\n                ÊöÇÊó†‰∫âËÆÆ/ÈÄÄÊ¨æËÆ∞ÂΩï\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* Â§ÑÁêÜÈÄÄÊ¨æÁî≥ËØ∑ÂºπÁ™ó */}\r\n      <Modal\r\n        title={actionModal.formData.action === 'approve' ? 'ÊâπÂáÜÈÄÄÊ¨æÁî≥ËØ∑' : 'ÊãíÁªùÈÄÄÊ¨æÁî≥ËØ∑'}\r\n        open={actionModal.isOpen}\r\n        onCancel={actionModal.close}\r\n        onOk={actionModal.handleSubmit}\r\n        confirmLoading={actionModal.loading}\r\n        okText={actionModal.formData.action === 'approve' ? 'ÊâπÂáÜ' : 'ÊãíÁªù'}\r\n        cancelText=\"ÂèñÊ∂à\"\r\n        width={600}\r\n      >\r\n        {actionModal.formData.refund && (\r\n          <div className={styles.actionForm}>\r\n            <div className={styles.actionFormField}>\r\n              <span className={styles.modalLabel}>‰ªªÂä°Ôºö</span>\r\n              <span className={styles.modalValue}>\r\n                {actionModal.formData.refund.task?.title || `‰ªªÂä° #${actionModal.formData.refund.task_id}`}\r\n              </span>\r\n            </div>\r\n            <div className={styles.actionFormField}>\r\n              <span className={styles.modalLabel}>Áî≥ËØ∑ÈÄÄÊ¨æÈáëÈ¢ùÔºö</span>\r\n              <span className={styles.modalValue}>\r\n                {actionModal.formData.refund.refund_amount != null\r\n                  ? `¬£${Number(actionModal.formData.refund.refund_amount).toFixed(2)}`\r\n                  : 'ÂÖ®È¢ùÈÄÄÊ¨æ'}\r\n              </span>\r\n            </div>\r\n            {actionModal.formData.action === 'approve' && (\r\n              <div className={styles.actionFormField}>\r\n                <label className={styles.actionFormLabel}>\r\n                  ÂÆûÈôÖÈÄÄÊ¨æÈáëÈ¢ùÔºàÂèØÈÄâÔºåÁïôÁ©∫ÂàôÊåâÁî≥ËØ∑ÈáëÈ¢ùÈÄÄÊ¨æÔºâÔºö\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  min=\"0\"\r\n                  value={actionModal.formData.refundAmount || ''}\r\n                  onChange={(e) => actionModal.updateField('refundAmount', e.target.value ? parseFloat(e.target.value) : undefined)}\r\n                  placeholder=\"¬£0.00\"\r\n                  className={styles.actionFormInput}\r\n                />\r\n              </div>\r\n            )}\r\n            <div className={styles.actionFormField}>\r\n              <label className={styles.actionFormLabel}>\r\n                {actionModal.formData.action === 'approve' ? 'ÁÆ°ÁêÜÂëòÂ§áÊ≥®ÔºàÂèØÈÄâÔºâÔºö' : 'ÊãíÁªùÁêÜÁî±Ôºö'}\r\n              </label>\r\n              <textarea\r\n                value={actionModal.formData.adminComment}\r\n                onChange={(e) => actionModal.updateField('adminComment', e.target.value)}\r\n                placeholder={actionModal.formData.action === 'approve' ? 'ËØ∑ËæìÂÖ•Â§áÊ≥®...' : 'ËØ∑ËæìÂÖ•ÊãíÁªùÁêÜÁî±...'}\r\n                rows={4}\r\n                className={styles.actionFormTextarea}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RefundManagement;\r\n","export interface ExportColumn {\r\n  key: string;\r\n  label: string;\r\n  /** Optional transform function for the cell value */\r\n  format?: (value: any, row: Record<string, any>) => string;\r\n}\r\n\r\n/**\r\n * Export data as CSV and trigger browser download.\r\n * UTF-8 BOM is prepended so Excel opens Chinese characters correctly.\r\n */\r\nexport function exportToCSV(\r\n  data: Record<string, any>[],\r\n  filename: string,\r\n  columns: ExportColumn[]\r\n): void {\r\n  const header = columns.map(c => `\"${c.label}\"`).join(',');\r\n  const rows = data.map(row =>\r\n    columns\r\n      .map(c => {\r\n        const raw = c.format ? c.format(row[c.key], row) : row[c.key];\r\n        const value = raw == null ? '' : String(raw);\r\n        return `\"${value.replace(/\"/g, '\"\"')}\"`;\r\n      })\r\n      .join(',')\r\n  );\r\n  const csv = [header, ...rows].join('\\r\\n');\r\n  const blob = new Blob(['\\uFEFF' + csv], { type: 'text/csv;charset=utf-8;' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = `${filename}.csv`;\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n}\r\n"],"names":["REFUND_STATUS_LABELS","pending","approved","rejected","processing","completed","cancelled","REFUND_STATUS_COLORS","bg","color","TIMELINE_ICONS","task_completed","task_confirmed","refund_request","rebuttal","dispute","dispute_resolved","dispute_dismissed","refund_approved","refund_rejected","refund_completed","REFUND_EXPORT_COLUMNS","key","label","format","v","concat","Number","toFixed","dayjs","initialActionForm","action","adminComment","refundAmount","undefined","refund","RefundManagement","_actionModal$formData","statusFilter","setStatusFilter","useState","searchKeyword","setSearchKeyword","showDetailModal","setShowDetailModal","selectedRefund","setSelectedRefund","showTimelineModal","setShowTimelineModal","timeline","setTimeline","loadingTimeline","setLoadingTimeline","fetchRefundRequests","useCallback","async","page","pageSize","filters","_ref","response","getAdminRefundRequests","skip","limit","status","keyword","data","items","total","handleFetchError","error","message","getErrorMessage","table","useAdminTable","fetchData","initialPageSize","onError","actionModal","useModalForm","initialValues","onSubmit","values","trim","Error","approveRefundRequest","id","admin_comment","refund_amount","success","rejectRefundRequest","refresh","useEffect","refreshInterval","setInterval","loading","clearInterval","handleOpenAction","open","handleSearch","setFilters","setCurrentPage","getStatusStyle","colors","background","columns","title","dataIndex","width","render","_","record","_jsxs","className","styles","onClick","handleCopyTaskId","taskId","task_id","navigator","clipboard","writeText","String","children","_record$task","_jsx","task","_record$poster","poster","name","poster_id","reason_type_display","reason_type","style","refund_type","refund_type_display","refund_percentage","value","Date","toLocaleString","align","getTaskDisputeTimeline","handleViewTimeline","disabled","_Fragment","display","alignItems","justifyContent","marginBottom","margin","handleExport","exportToCSV","length","padding","border","borderRadius","cursor","fontSize","type","placeholder","onChange","e","target","onKeyPress","handleStatusFilterChange","handleClearSearch","AdminTable","rowKey","emptyText","AdminPagination","currentPage","totalPages","onPageChange","onPageSizeChange","setPageSize","Modal","onCancel","footer","agreed_reward","base_reward","is_paid","marginLeft","reason","evidence_files","map","fileId","index","href","rel","reviewed_at","created_at","maxHeight","overflow","task_title","item","isLast","actorStyle","actor","taker","admin","getActorStyle","actorName","reviewer_name","resolver_name","icon","timestamp","content","textAlign","formData","isOpen","close","onOk","handleSubmit","confirmLoading","okText","cancelText","step","min","updateField","parseFloat","rows","filename","csv","c","join","row","raw","replace","blob","Blob","url","URL","createObjectURL","a","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL"],"sourceRoot":""}
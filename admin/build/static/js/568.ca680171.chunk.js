"use strict";(self.webpackChunklinku_admin=self.webpackChunklinku_admin||[]).push([[568],{1568(e,l,n){n.d(l,{JobPositionManagement:()=>z});var s=n(9379),r=n(5043),t=n(3927),i=n(8080),a=n(2524),c=n(3427),d=n(4400),h=n(6399),x=n(2624),o=n(1957),j=n(494),A=n(5492),p=n(322),u=n(5531),m=n(7419),y=n(1645),g=n(8474),v=n(9682),w=n(7407),I=n(1966),_=n(5337),k=n(617),b=n(6204),C=n(579);const{Title:q}=t.A,{Option:S}=i.A,{TextArea:f}=a.A,z=()=>{const[e,l]=(0,r.useState)([]),[n,t]=(0,r.useState)(!1),[z,T]=(0,r.useState)(!1),[F,P]=(0,r.useState)(null),[B]=c.A.useForm(),[K,R]=(0,r.useState)({current:1,pageSize:20,total:0}),[D,E]=(0,r.useState)({is_active:void 0,department:void 0,type:void 0}),J=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{t(!0);const r=await(0,b.w2)((0,s.A)({page:e,size:n},D));l(r.positions||[]),R({current:r.page||1,pageSize:r.size||20,total:r.total||0})}catch(r){d.Ay.error("\u52a0\u8f7d\u5c97\u4f4d\u5217\u8868\u5931\u8d25")}finally{t(!1)}};(0,r.useEffect)(()=>{J()},[D]);const V=[{title:"\u5c97\u4f4d\u540d\u79f0",dataIndex:"title",key:"title",width:150,ellipsis:!0},{title:"\u90e8\u95e8",dataIndex:"department",key:"department",width:100,render:e=>(0,C.jsx)(h.A,{color:"blue",children:e})},{title:"\u7c7b\u578b",dataIndex:"type",key:"type",width:80,render:e=>(0,C.jsx)(h.A,{color:"green",children:e})},{title:"\u5730\u70b9",dataIndex:"location",key:"location",width:120,ellipsis:!0},{title:"\u7ecf\u9a8c\u8981\u6c42",dataIndex:"experience",key:"experience",width:100},{title:"\u85aa\u8d44\u8303\u56f4",dataIndex:"salary",key:"salary",width:100},{title:"\u72b6\u6001",dataIndex:"is_active",key:"is_active",width:80,render:(e,l)=>(0,C.jsx)(x.A,{checked:e,onChange:()=>(async e=>{try{await(0,b.Pl)(e),d.Ay.success("\u72b6\u6001\u5207\u6362\u6210\u529f"),J(K.current,K.pageSize)}catch(l){d.Ay.error("\u5207\u6362\u72b6\u6001\u5931\u8d25")}})(l.id),checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528"})},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",key:"created_at",width:120,render:e=>new Date(e).toLocaleDateString()},{title:"\u64cd\u4f5c",key:"action",width:150,render:(e,l)=>(0,C.jsxs)(o.A,{size:"small",children:[(0,C.jsx)(j.A,{title:"\u7f16\u8f91",children:(0,C.jsx)(A.Ay,{type:"text",icon:(0,C.jsx)(w.A,{}),onClick:()=>(e=>{var l,n;P(e),B.setFieldsValue((0,s.A)((0,s.A)({},e),{},{requirements:e.requirements.join("\n"),requirements_en:(null===(l=e.requirements_en)||void 0===l?void 0:l.join("\n"))||"",tags:e.tags.join(","),tags_en:(null===(n=e.tags_en)||void 0===n?void 0:n.join(","))||""})),T(!0)})(l)})}),(0,C.jsx)(p.A,{title:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u5c97\u4f4d\u5417\uff1f",onConfirm:()=>(async e=>{try{await(0,b.KR)(e),d.Ay.success("\u5c97\u4f4d\u5220\u9664\u6210\u529f"),J(K.current,K.pageSize)}catch(l){d.Ay.error("\u5220\u9664\u5c97\u4f4d\u5931\u8d25")}})(l.id),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,C.jsx)(j.A,{title:"\u5220\u9664",children:(0,C.jsx)(A.Ay,{type:"text",danger:!0,icon:(0,C.jsx)(I.A,{})})})})]})}];return(0,C.jsxs)("div",{style:{padding:"24px"},children:[(0,C.jsxs)(u.A,{children:[(0,C.jsxs)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsx)(q,{level:3,style:{margin:0},children:"\u5c97\u4f4d\u7ba1\u7406"}),(0,C.jsx)(A.Ay,{type:"primary",icon:(0,C.jsx)(_.A,{}),onClick:()=>{P(null),B.resetFields(),T(!0)},children:"\u6dfb\u52a0\u5c97\u4f4d"})]}),(0,C.jsxs)(m.A,{gutter:16,style:{marginBottom:"16px"},children:[(0,C.jsx)(y.A,{span:6,children:(0,C.jsxs)(i.A,{placeholder:"\u72b6\u6001\u7b5b\u9009",allowClear:!0,style:{width:"100%"},value:D.is_active,onChange:e=>E((0,s.A)((0,s.A)({},D),{},{is_active:e})),children:[(0,C.jsx)(S,{value:!0,children:"\u542f\u7528"}),(0,C.jsx)(S,{value:!1,children:"\u7981\u7528"})]})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsxs)(i.A,{placeholder:"\u90e8\u95e8\u7b5b\u9009",allowClear:!0,style:{width:"100%"},value:D.department,onChange:e=>E((0,s.A)((0,s.A)({},D),{},{department:e})),children:[(0,C.jsx)(S,{value:"\u6280\u672f\u90e8",children:"\u6280\u672f\u90e8"}),(0,C.jsx)(S,{value:"\u4ea7\u54c1\u90e8",children:"\u4ea7\u54c1\u90e8"}),(0,C.jsx)(S,{value:"\u8bbe\u8ba1\u90e8",children:"\u8bbe\u8ba1\u90e8"}),(0,C.jsx)(S,{value:"\u8fd0\u8425\u90e8",children:"\u8fd0\u8425\u90e8"}),(0,C.jsx)(S,{value:"\u5ba2\u670d\u90e8",children:"\u5ba2\u670d\u90e8"})]})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsxs)(i.A,{placeholder:"\u5de5\u4f5c\u7c7b\u578b\u7b5b\u9009",allowClear:!0,style:{width:"100%"},value:D.type,onChange:e=>E((0,s.A)((0,s.A)({},D),{},{type:e})),children:[(0,C.jsx)(S,{value:"\u5168\u804c",children:"\u5168\u804c"}),(0,C.jsx)(S,{value:"\u517c\u804c",children:"\u517c\u804c"}),(0,C.jsx)(S,{value:"\u5b9e\u4e60",children:"\u5b9e\u4e60"})]})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(A.Ay,{icon:(0,C.jsx)(k.A,{}),onClick:()=>J(K.current,K.pageSize),children:"\u5237\u65b0"})})]}),(0,C.jsx)(g.A,{columns:V,dataSource:e,rowKey:"id",loading:n,pagination:(0,s.A)((0,s.A)({},K),{},{showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,l)=>"\u7b2c ".concat(l[0],"-").concat(l[1]," \u6761/\u5171 ").concat(e," \u6761"),onChange:(e,l)=>{J(e,l||20)}}),scroll:{x:1200}})]}),(0,C.jsx)(v.A,{title:F?"\u7f16\u8f91\u5c97\u4f4d":"\u6dfb\u52a0\u5c97\u4f4d",open:z,onCancel:()=>{T(!1),P(null),B.resetFields()},footer:null,width:800,children:(0,C.jsxs)(c.A,{form:B,layout:"vertical",onFinish:async e=>{try{const l=(0,s.A)((0,s.A)({},e),{},{requirements:e.requirements?e.requirements.split("\n").filter(e=>e.trim()):[],requirements_en:e.requirements_en?e.requirements_en.split("\n").filter(e=>e.trim()):[],tags:e.tags?e.tags.split(",").map(e=>e.trim()).filter(e=>e):[],tags_en:e.tags_en?e.tags_en.split(",").map(e=>e.trim()).filter(e=>e):[]});F?(await(0,b.ET)(F.id,l),d.Ay.success("\u5c97\u4f4d\u66f4\u65b0\u6210\u529f")):(await(0,b.xv)(l),d.Ay.success("\u5c97\u4f4d\u521b\u5efa\u6210\u529f")),T(!1),P(null),B.resetFields(),J(K.current,K.pageSize)}catch(l){d.Ay.error("\u4fdd\u5b58\u5c97\u4f4d\u5931\u8d25")}},children:[(0,C.jsxs)(m.A,{gutter:16,children:[(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"title",label:"\u5c97\u4f4d\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u540d\u79f0"}],children:(0,C.jsx)(a.A,{placeholder:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u540d\u79f0"})})}),(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"title_en",label:"\u5c97\u4f4d\u540d\u79f0\uff08\u82f1\u6587\uff09",children:(0,C.jsx)(a.A,{placeholder:"\u8bf7\u8f93\u5165\u82f1\u6587\u5c97\u4f4d\u540d\u79f0"})})})]}),(0,C.jsxs)(m.A,{gutter:16,children:[(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"department",label:"\u90e8\u95e8",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u90e8\u95e8"}],children:(0,C.jsxs)(i.A,{placeholder:"\u8bf7\u9009\u62e9\u90e8\u95e8",children:[(0,C.jsx)(S,{value:"\u6280\u672f\u90e8",children:"\u6280\u672f\u90e8"}),(0,C.jsx)(S,{value:"\u4ea7\u54c1\u90e8",children:"\u4ea7\u54c1\u90e8"}),(0,C.jsx)(S,{value:"\u8bbe\u8ba1\u90e8",children:"\u8bbe\u8ba1\u90e8"}),(0,C.jsx)(S,{value:"\u8fd0\u8425\u90e8",children:"\u8fd0\u8425\u90e8"}),(0,C.jsx)(S,{value:"\u5ba2\u670d\u90e8",children:"\u5ba2\u670d\u90e8"})]})})}),(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"department_en",label:"\u90e8\u95e8\uff08\u82f1\u6587\uff09",children:(0,C.jsx)(a.A,{placeholder:"\u8bf7\u8f93\u5165\u82f1\u6587\u90e8\u95e8\u540d\u79f0"})})})]}),(0,C.jsxs)(m.A,{gutter:16,children:[(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"type",label:"\u5de5\u4f5c\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5de5\u4f5c\u7c7b\u578b"}],children:(0,C.jsxs)(i.A,{placeholder:"\u8bf7\u9009\u62e9\u5de5\u4f5c\u7c7b\u578b",children:[(0,C.jsx)(S,{value:"\u5168\u804c",children:"\u5168\u804c"}),(0,C.jsx)(S,{value:"\u517c\u804c",children:"\u517c\u804c"}),(0,C.jsx)(S,{value:"\u5b9e\u4e60",children:"\u5b9e\u4e60"})]})})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"type_en",label:"\u5de5\u4f5c\u7c7b\u578b\uff08\u82f1\u6587\uff09",children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1aFull-time"})})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"location",label:"\u5de5\u4f5c\u5730\u70b9",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u5730\u70b9"}],children:(0,C.jsx)(a.A,{placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u5730\u70b9"})})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"location_en",label:"\u5de5\u4f5c\u5730\u70b9\uff08\u82f1\u6587\uff09",children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1aBeijing/Remote"})})})]}),(0,C.jsxs)(m.A,{gutter:16,children:[(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"experience",label:"\u7ecf\u9a8c\u8981\u6c42",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ecf\u9a8c\u8981\u6c42"}],children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1a3-5\u5e74"})})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"experience_en",label:"\u7ecf\u9a8c\u8981\u6c42\uff08\u82f1\u6587\uff09",children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1a3-5 years"})})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"salary",label:"\u85aa\u8d44\u8303\u56f4",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u85aa\u8d44\u8303\u56f4"}],children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1a15-25K"})})}),(0,C.jsx)(y.A,{span:6,children:(0,C.jsx)(c.A.Item,{name:"salary_en",label:"\u85aa\u8d44\u8303\u56f4\uff08\u82f1\u6587\uff09",children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1a15-25K"})})})]}),(0,C.jsx)(m.A,{gutter:16,children:(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"is_active",label:"\u662f\u5426\u542f\u7528",valuePropName:"checked",initialValue:!0,children:(0,C.jsx)(x.A,{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528"})})})}),(0,C.jsxs)(m.A,{gutter:16,children:[(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"description",label:"\u5c97\u4f4d\u63cf\u8ff0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u63cf\u8ff0"}],children:(0,C.jsx)(f,{rows:3,placeholder:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u63cf\u8ff0"})})}),(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"description_en",label:"\u5c97\u4f4d\u63cf\u8ff0\uff08\u82f1\u6587\uff09",children:(0,C.jsx)(f,{rows:3,placeholder:"\u8bf7\u8f93\u5165\u82f1\u6587\u5c97\u4f4d\u63cf\u8ff0"})})})]}),(0,C.jsxs)(m.A,{gutter:16,children:[(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"requirements",label:"\u4efb\u804c\u8981\u6c42",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4efb\u804c\u8981\u6c42"}],help:"\u6bcf\u884c\u4e00\u4e2a\u8981\u6c42",children:(0,C.jsx)(f,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u4efb\u804c\u8981\u6c42\uff0c\u6bcf\u884c\u4e00\u4e2a\u8981\u6c42"})})}),(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"requirements_en",label:"\u4efb\u804c\u8981\u6c42\uff08\u82f1\u6587\uff09",help:"\u6bcf\u884c\u4e00\u4e2a\u8981\u6c42",children:(0,C.jsx)(f,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u82f1\u6587\u4efb\u804c\u8981\u6c42\uff0c\u6bcf\u884c\u4e00\u4e2a\u8981\u6c42"})})})]}),(0,C.jsxs)(m.A,{gutter:16,children:[(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"tags",label:"\u6280\u80fd\u6807\u7b7e",help:"\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u6807\u7b7e",children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1aReact, TypeScript, Python"})})}),(0,C.jsx)(y.A,{span:12,children:(0,C.jsx)(c.A.Item,{name:"tags_en",label:"\u6280\u80fd\u6807\u7b7e\uff08\u82f1\u6587\uff09",help:"\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u6807\u7b7e",children:(0,C.jsx)(a.A,{placeholder:"\u5982\uff1aReact, TypeScript, Python"})})})]}),(0,C.jsx)(c.A.Item,{style:{marginBottom:0,textAlign:"right"},children:(0,C.jsxs)(o.A,{children:[(0,C.jsx)(A.Ay,{onClick:()=>T(!1),children:"\u53d6\u6d88"}),(0,C.jsx)(A.Ay,{type:"primary",htmlType:"submit",children:F?"\u66f4\u65b0":"\u521b\u5efa"})]})})]})})]})}}}]);
//# sourceMappingURL=568.ca680171.chunk.js.map